<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>andy Wong&#39;s Blog</title>
  
  <subtitle>çŸ¥é“çš„è¶Šå¤šï¼Œä¸çŸ¥é“çš„è¶Šå¤š</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://chongdee.github.io/"/>
  <updated>2021-05-08T19:35:17.294Z</updated>
  <id>https://chongdee.github.io/</id>
  
  <author>
    <name>andy Wong</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>æ¡ä»¶è¯­å¥ä¼˜é›…å†™æ³•</title>
    <link href="https://chongdee.github.io/2021/05/09/JavaScript/%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5%E4%BC%98%E9%9B%85%E5%86%99%E6%B3%95/"/>
    <id>https://chongdee.github.io/2021/05/09/JavaScript/æ¡ä»¶è¯­å¥ä¼˜é›…å†™æ³•/</id>
    <published>2021-05-08T19:32:15.040Z</published>
    <updated>2021-05-08T19:35:17.294Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨ä»»ä½•ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œä»£ç éœ€è¦æ ¹æ®ä¸åŒçš„æ¡ä»¶åœ¨ç»™å®šçš„è¾“å…¥ä¸­åšä¸åŒçš„å†³å®šå’Œæ‰§è¡Œç›¸åº”çš„åŠ¨ä½œã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªæ¸¸æˆä¸­ï¼Œå¦‚æœç©å®¶ç”Ÿå‘½ç‚¹ä¸º0ï¼Œæ¸¸æˆç»“æŸã€‚åœ¨å¤©æ°”åº”ç”¨ä¸­ï¼Œå¦‚æœåœ¨æ—©ä¸Šè¢«æŸ¥çœ‹ï¼Œæ˜¾ç¤ºä¸€ä¸ªæ—¥å‡ºå›¾ç‰‡ï¼Œå¦‚æœæ˜¯æ™šä¸Šï¼Œåˆ™æ˜¾ç¤ºæ˜Ÿæ˜Ÿå’Œæœˆäº®ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ¢ç´¢JavaScriptä¸­æ‰€è°“çš„æ¡ä»¶è¯­å¥å¦‚ä½•å·¥ä½œã€‚<br><a id="more"></a><br>å¦‚æœä½ ä½¿ç”¨JavaScriptå·¥ä½œï¼Œä½ å°†å†™å¾ˆå¤šåŒ…å«æ¡ä»¶è°ƒç”¨çš„ä»£ç ã€‚æ¡ä»¶è°ƒç”¨å¯èƒ½åˆå­¦å¾ˆç®€å•ï¼Œä½†æ˜¯è¿˜æœ‰æ¯”å†™ä¸€å¯¹å¯¹if/elseæ›´å¤šçš„ä¸œè¥¿ã€‚è¿™é‡Œæœ‰äº›ç¼–å†™æ›´å¥½æ›´æ¸…æ™°çš„æ¡ä»¶ä»£ç çš„æœ‰ç”¨æç¤ºã€‚</p><ol><li>æ•°ç»„æ–¹æ³• Array.includes</li><li>æå‰é€€å‡º / æå‰è¿”å›</li><li>ç”¨å¯¹è±¡å­—é¢é‡æˆ–Mapæ›¿ä»£Switchè¯­å¥</li><li>é»˜è®¤å‚æ•°å’Œè§£æ„</li><li>ç”¨ Array.every &amp; Array.some åŒ¹é…å…¨éƒ¨/éƒ¨åˆ†å†…å®¹</li><li>ä½¿ç”¨å¯é€‰é“¾å’Œç©ºå€¼ï¼ˆnullï¼‰åˆå¹¶</li></ol><h2 id="1-æ•°ç»„æ–¹æ³•-Array-includes"><a href="#1-æ•°ç»„æ–¹æ³•-Array-includes" class="headerlink" title="1. æ•°ç»„æ–¹æ³• Array.includes"></a>1. æ•°ç»„æ–¹æ³• Array.includes</h2><p>ä½¿ç”¨ Array.includes è¿›è¡Œå¤šæ¡ä»¶é€‰æ‹©<br>ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printAnimals</span>(<span class="params">animal</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (animal === <span class="string">'dog'</span> || animal === <span class="string">'cat'</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(I have a $&#123;animal&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(printAnimals(<span class="string">'dog'</span>)); <span class="comment">// I have a dog</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç çœ‹èµ·æ¥å¾ˆå¥½å› ä¸ºæˆ‘ä»¬åªæ£€æŸ¥äº†ä¸¤ä¸ªåŠ¨ç‰©ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬ä¸ç¡®å®šç”¨æˆ·è¾“å…¥ã€‚å¦‚æœæˆ‘ä»¬è¦æ£€æŸ¥ä»»ä½•å…¶ä»–åŠ¨ç‰©å‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬é€šè¿‡æ·»åŠ æ›´å¤šâ€œæˆ–â€è¯­å¥æ¥æ‰©å±•ï¼Œä»£ç å°†å˜å¾—éš¾ä»¥ç»´æŠ¤å’Œä¸æ¸…æ™°ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ:</strong></p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ Array.includes æ¥é‡å†™ä¸Šé¢çš„æ¡ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printAnimals</span>(<span class="params">animal</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">const</span> animals = [<span class="string">'dog'</span>, <span class="string">'cat'</span>, <span class="string">'hamster'</span>, <span class="string">'turtle'</span>]; </span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (animals.includes(animal)) &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(I have a $&#123;animal&#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(printAnimals(<span class="string">'hamster'</span>)); <span class="comment">// I have a hamster</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œæˆ‘ä»¬åˆ›å»ºæ¥ä¸€ä¸ªåŠ¨ç‰©æ•°ç»„ï¼Œæ‰€ä»¥æ¡ä»¶è¯­å¥å¯ä»¥å’Œä»£ç çš„å…¶ä½™éƒ¨åˆ†æŠ½è±¡åˆ†ç¦»å‡ºæ¥ã€‚ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦æ£€æŸ¥ä»»ä½•å…¶ä»–åŠ¨ç‰©ï¼Œæˆ‘ä»¬åªéœ€è¦æ·»åŠ ä¸€ä¸ªæ–°çš„æ•°ç»„é¡¹ã€‚<br>æˆ‘ä»¬ä¹Ÿèƒ½åœ¨è¿™ä¸ªå‡½æ•°ä½œç”¨åŸŸå¤–éƒ¨ä½¿ç”¨è¿™ä¸ªåŠ¨ç‰©æ•°ç»„å˜é‡æ¥åœ¨ä»£ç ä¸­çš„å…¶ä»–ä»»æ„åœ°æ–¹é‡ç”¨å®ƒã€‚è¿™æ˜¯ä¸€ä¸ªç¼–å†™æ›´æ¸…æ™°ã€æ˜“ç†è§£å’Œç»´æŠ¤çš„ä»£ç çš„æ–¹æ³•ï¼Œä¸æ˜¯å—ï¼Ÿ</p><h2 id="2-æå‰é€€å‡º-æå‰è¿”å›"><a href="#2-æå‰é€€å‡º-æå‰è¿”å›" class="headerlink" title="2. æå‰é€€å‡º / æå‰è¿”å›"></a>2. æå‰é€€å‡º / æå‰è¿”å›</h2><p>è¿™æ˜¯ä¸€ä¸ªç²¾ç®€ä½ çš„ä»£ç çš„éå¸¸é…·çš„æŠ€å·§ã€‚æˆ‘è®°å¾—å½“æˆ‘å¼€å§‹ä¸“ä¸šå·¥ä½œæ—¶ï¼Œæˆ‘åœ¨ç¬¬ä¸€å¤©å­¦ä¹ ä½¿ç”¨æå‰é€€å‡ºæ¥ç¼–å†™æ¡ä»¶ã€‚</p><p>è®©æˆ‘ä»¬åœ¨ä¹‹å‰çš„ä¾‹å­ä¸Šæ·»åŠ æ›´å¤šçš„æ¡ä»¶ã€‚ç”¨åŒ…å«ç¡®å®šå±æ€§çš„å¯¹è±¡æ›¿ä»£ç®€å•å­—ç¬¦ä¸²çš„åŠ¨ç‰©ã€‚</p><p>ç°åœ¨çš„éœ€æ±‚æ˜¯ï¼š</p><ul><li>å¦‚æœæ²¡æœ‰åŠ¨ç‰©ï¼ŒæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸</li><li>æ‰“å°åŠ¨ç‰©ç±»å‹</li><li>æ‰“å°åŠ¨ç‰©åå­—</li><li>æ‰“å°åŠ¨ç‰©æ€§åˆ«</li></ul><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> printAnimalDetails = animal =&gt; &#123;</span><br><span class="line">  let result; <span class="comment">// declare a variable to store the final value</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// condition 1: check if animal has a value</span></span><br><span class="line">  <span class="keyword">if</span> (animal) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// condition 2: check if animal has a type property</span></span><br><span class="line">    <span class="keyword">if</span> (animal.<span class="keyword">type</span>) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// condition 3: check if animal has a name property</span></span><br><span class="line">      <span class="keyword">if</span> (animal.name) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// condition 4: check if animal has a gender property</span></span><br><span class="line">        <span class="keyword">if</span> (animal.gender) &#123;</span><br><span class="line">          result = <span class="variable">$&#123;animal</span>.name&#125; is a <span class="variable">$&#123;animal</span>.gender&#125; <span class="variable">$&#123;animal</span>.<span class="keyword">type</span>&#125;;;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          result = <span class="string">"No animal gender"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        result = <span class="string">"No animal name"</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      result = <span class="string">"No animal type"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    result = <span class="string">"No animal"</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">console.<span class="built_in">log</span>(printAnimalDetails()); <span class="comment">// 'No animal'</span></span><br><span class="line"></span><br><span class="line">console.<span class="built_in">log</span>(printAnimalDetails(&#123; <span class="keyword">type</span>: <span class="string">"dog"</span>, gender: <span class="string">"female"</span> &#125;)); <span class="comment">// 'No animal name'</span></span><br><span class="line"></span><br><span class="line">console.<span class="built_in">log</span>(printAnimalDetails(&#123; <span class="keyword">type</span>: <span class="string">"dog"</span>, name: <span class="string">"Lucy"</span> &#125;)); <span class="comment">// 'No animal gender'</span></span><br><span class="line"></span><br><span class="line">console.<span class="built_in">log</span>(</span><br><span class="line">  printAnimalDetails(&#123; <span class="keyword">type</span>: <span class="string">"dog"</span>, name: <span class="string">"Lucy"</span>, gender: <span class="string">"female"</span> &#125;)</span><br><span class="line">); <span class="comment">// 'Lucy is a female dog'</span></span><br></pre></td></tr></table></figure><p>ä½ è§‰å¾—ä¸Šé¢çš„ä»£ç æ€ä¹ˆæ ·ï¼Ÿ</p><p>å®ƒå·¥ä½œå¾—å¾ˆå¥½ï¼Œä½†æ˜¯ä»£ç å¾ˆé•¿å¹¶ä¸”ç»´æŠ¤å›°éš¾ã€‚å¦‚æœä¸ä½¿ç”¨lintå·¥å…·ï¼Œæ‰¾å‡ºé—­åˆèŠ±æ‹¬å·åœ¨å“ªéƒ½ä¼šæµªè´¹å¾ˆå¤šæ—¶é—´ã€‚ğŸ˜„ æƒ³è±¡å¦‚æœä»£ç æœ‰æ›´å¤æ‚çš„é€»è¾‘ä¼šæ€ä¹ˆæ ·ï¼Ÿå¤§é‡çš„if..elseè¯­å¥ã€‚</p><p>æˆ‘ä»¬èƒ½ç”¨ä¸‰å…ƒè¿ç®—ç¬¦ã€&amp;&amp;æ¡ä»¶ç­‰è¯­æ³•é‡æ„ä¸Šé¢çš„åŠŸèƒ½ï¼Œä½†è®©æˆ‘ä»¬ç”¨å¤šä¸ªè¿”å›è¯­å¥ç¼–å†™æ›´æ¸…æ™°çš„ä»£ç ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> printAnimalDetails = <span class="function">(<span class="params">&#123;<span class="keyword">type</span>, name, gender &#125; = &#123;&#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(!<span class="keyword">type</span>) <span class="keyword">return</span> <span class="string">'No animal type'</span>;</span><br><span class="line">  <span class="keyword">if</span>(!name) <span class="keyword">return</span> <span class="string">'No animal name'</span>;</span><br><span class="line">  <span class="keyword">if</span>(!gender) <span class="keyword">return</span> <span class="string">'No animal gender'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Now in this line of code, we're sure that we have an animal with all //the three properties here.</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> $&#123;name&#125; is a $&#123;gender&#125; $&#123;<span class="keyword">type</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(printAnimalDetails()); <span class="comment">// 'No animal type'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(printAnimalDetails(&#123; <span class="keyword">type</span>: dog &#125;)); <span class="comment">// 'No animal name'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(printAnimalDetails(&#123; <span class="keyword">type</span>: dog, gender: female &#125;)); <span class="comment">// 'No animal name'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(printAnimalDetails(&#123; <span class="keyword">type</span>: dog, name: <span class="string">'Lucy'</span>, gender: <span class="string">'female'</span> &#125;)); <span class="comment">// 'Lucy is a female dog'</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªé‡æ„è¿‡çš„ç‰ˆæœ¬ä¸­ï¼Œä¹ŸåŒ…å«äº†è§£æ„å’Œé»˜è®¤å‚æ•°ã€‚é»˜è®¤å‚æ•°ç¡®ä¿å¦‚æœæˆ‘ä»¬ä¼ é€’undefinedä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ï¼Œæˆ‘ä»¬ä»ç„¶æœ‰å€¼å¯ä»¥è§£æ„ï¼Œåœ¨è¿™é‡Œå®ƒæ˜¯ä¸€ä¸ªç©ºå¯¹è±¡{}ã€‚</p><p>é€šå¸¸ï¼Œåœ¨ä¸“ä¸šé¢†åŸŸï¼Œä»£ç è¢«å†™åœ¨è¿™ä¸¤ç§æ–¹æ³•ä¹‹é—´ã€‚</p><p>å¦ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printVegetablesWithQuantity</span>(<span class="params">vegetable, quantity</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> vegetables = [<span class="string">'potato'</span>, <span class="string">'cabbage'</span>, <span class="string">'cauliflower'</span>, <span class="string">'asparagus'</span>];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// condition 1: vegetable should be present</span></span><br><span class="line">   <span class="keyword">if</span> (vegetable) &#123;</span><br><span class="line">     <span class="comment">// condition 2: must be one of the item from the list</span></span><br><span class="line">     <span class="keyword">if</span> (vegetables.includes(vegetable)) &#123;</span><br><span class="line">       <span class="built_in">console</span>.log(I like $&#123;vegetable&#125;);</span><br><span class="line"></span><br><span class="line">       <span class="comment">// condition 3: must be large quantity</span></span><br><span class="line">       <span class="keyword">if</span> (quantity &gt;= <span class="number">10</span>) &#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">'I have bought a large quantity'</span>);</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'No vegetable from the list!'</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">printVegetablesWithQuantity(<span class="literal">null</span>); <span class="comment">//  No vegetable from the list!</span></span><br><span class="line">printVegetablesWithQuantity(<span class="string">'cabbage'</span>); <span class="comment">// I like cabbage</span></span><br><span class="line">printVegetablesWithQuantity(<span class="string">'cabbage'</span>, <span class="number">20</span>); </span><br><span class="line"><span class="comment">// 'I like cabbage</span></span><br><span class="line"><span class="comment">// 'I have bought a large quantity'</span></span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰ï¼š</p><ul><li>1 if/else è¯­å¥è¿‡æ»¤éæ³•æ¡ä»¶</li><li>3 çº§åµŒå¥—ifè¯­å¥ (æ¡ä»¶ 1, 2, &amp; 3)</li></ul><p>ä¸€ä¸ªæ™®ééµå¾ªçš„è§„åˆ™æ˜¯ï¼šåœ¨éæ³•æ¡ä»¶åŒ¹é…æ—¶æå‰é€€å‡ºã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printVegetablesWithQuantity</span>(<span class="params">vegetable, quantity</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> vegetables = [<span class="string">'potato'</span>, <span class="string">'cabbage'</span>, <span class="string">'cauliflower'</span>, <span class="string">'asparagus'</span>];</span><br><span class="line"></span><br><span class="line">   <span class="comment">// condition 1: throw error early</span></span><br><span class="line">   <span class="keyword">if</span> (!vegetable) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'No vegetable from the list!'</span>);</span><br><span class="line"></span><br><span class="line">   <span class="comment">// condition 2: must be in the list</span></span><br><span class="line">   <span class="keyword">if</span> (vegetables.includes(vegetable)) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(I like $&#123;vegetable&#125;);</span><br><span class="line"></span><br><span class="line">     <span class="comment">// condition 3: must be a large quantity</span></span><br><span class="line">      <span class="keyword">if</span> (quantity &gt;= <span class="number">10</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'I have bought a large quantity'</span>);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡è¿™ä¹ˆåšï¼Œæˆ‘ä»¬å°‘äº†ä¸€ä¸ªåµŒå¥—å±‚çº§ã€‚å½“ä½ æœ‰ä¸€ä¸ªé•¿çš„ifè¯­å¥æ—¶ï¼Œè¿™ç§ä»£ç é£æ ¼ç‰¹åˆ«å¥½ã€‚</p><p>æˆ‘ä»¬èƒ½é€šè¿‡æ¡ä»¶å€’ç½®å’Œæå‰è¿”å›ï¼Œè¿›ä¸€æ­¥å‡å°‘åµŒå¥—çš„ifè¯­å¥ã€‚æŸ¥çœ‹ä¸‹é¢çš„æ¡ä»¶2ï¼Œè§‚å¯Ÿæˆ‘ä»¬æ˜¯æ€ä¹ˆåšçš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printVegetablesWithQuantity</span>(<span class="params">vegetable, quantity</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> vegetables = [<span class="string">'potato'</span>, <span class="string">'cabbage'</span>, <span class="string">'cauliflower'</span>, <span class="string">'asparagus'</span>];</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (!vegetable) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'No vegetable from the list!'</span>); </span><br><span class="line">   <span class="comment">// condition 1: throw error early</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (!vegetables.includes(vegetable)) <span class="keyword">return</span>; </span><br><span class="line">   <span class="comment">// condition 2: return from the function is the vegetable is not in </span></span><br><span class="line">  <span class="comment">//  the list </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(I like $&#123;vegetable&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// condition 3: must be a large quantity</span></span><br><span class="line">  <span class="keyword">if</span> (quantity &gt;= <span class="number">10</span>) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'I have bought a large quantity'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡å€’ç½®æ¡ä»¶2ï¼Œä»£ç æ²¡æœ‰åµŒå¥—è¯­å¥äº†ã€‚è¿™ç§æŠ€æœ¯åœ¨æˆ‘ä»¬æœ‰å¾ˆå¤šæ¡ä»¶å¹¶ä¸”å½“ä»»ä½•ç‰¹å®šæ¡ä»¶ä¸åŒ¹é…æ—¶ï¼Œæˆ‘ä»¬æƒ³åœæ­¢è¿›ä¸€æ­¥å¤„ç†çš„æ—¶å€™ç‰¹åˆ«æœ‰ç”¨ã€‚<br>æ‰€ä»¥ï¼Œæ€»æ˜¯å…³æ³¨æ›´å°‘çš„åµŒå¥—å’Œæå‰è¿”å›ï¼Œä½†ä¹Ÿä¸è¦è¿‡åº¦åœ°ä½¿ç”¨ã€‚</p><h2 id="3-ç”¨å¯¹è±¡å­—é¢é‡æˆ–Mapæ›¿ä»£Switchè¯­å¥"><a href="#3-ç”¨å¯¹è±¡å­—é¢é‡æˆ–Mapæ›¿ä»£Switchè¯­å¥" class="headerlink" title="3. ç”¨å¯¹è±¡å­—é¢é‡æˆ–Mapæ›¿ä»£Switchè¯­å¥"></a>3. ç”¨å¯¹è±¡å­—é¢é‡æˆ–Mapæ›¿ä»£Switchè¯­å¥</h2><p>è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬æƒ³è¦åŸºäºé¢œè‰²æ‰“å°æ°´æœï¼š</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printFruits</span><span class="params">(color)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// use switch case to find fruits by color</span></span><br><span class="line">  <span class="keyword">switch</span> (color) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'red'</span>:</span><br><span class="line">      <span class="keyword">return</span> [<span class="string">'apple'</span>, <span class="string">'strawberry'</span>];</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'yellow'</span>:</span><br><span class="line">      <span class="keyword">return</span> [<span class="string">'banana'</span>, <span class="string">'pineapple'</span>];</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'purple'</span>:</span><br><span class="line">      <span class="keyword">return</span> [<span class="string">'grape'</span>, <span class="string">'plum'</span>];</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> [];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">printFruits(<span class="literal">null</span>); <span class="comment">// []</span></span><br><span class="line">printFruits(<span class="string">'yellow'</span>); <span class="comment">// ['banana', 'pineapple']</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç æ²¡æœ‰é”™è¯¯ï¼Œä½†æ˜¯å®ƒä»ç„¶æœ‰äº›å†—é•¿ã€‚ç›¸åŒçš„åŠŸèƒ½èƒ½ç”¨å¯¹è±¡å­—é¢é‡ä»¥æ›´æ¸…æ™°çš„è¯­æ³•å®ç°ï¼š</p><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// use object literal to find fruits by color</span></span><br><span class="line">  <span class="keyword">const</span> fruitColor = &#123;</span><br><span class="line">    <span class="attribute">red</span>: [<span class="string">'apple'</span>, <span class="string">'strawberry'</span>],</span><br><span class="line">    <span class="attribute">yellow</span>: [<span class="string">'banana'</span>, <span class="string">'pineapple'</span>],</span><br><span class="line">    <span class="attribute">purple</span>: [<span class="string">'grape'</span>, <span class="string">'plum'</span>]</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printFruits</span>(<span class="params">color</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> fruitColor[<span class="built_in">color</span>] || [];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œä½ ä¹Ÿèƒ½ç”¨ Map æ¥å®ç°ç›¸åŒçš„åŠŸèƒ½ï¼š</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// use Map to find fruits by color</span></span><br><span class="line">  const fruitColor = <span class="keyword">new</span> <span class="type">Map</span>()</span><br><span class="line">    .<span class="keyword">set</span>(<span class="string">'red'</span>, [<span class="string">'apple'</span>, <span class="string">'strawberry'</span>])</span><br><span class="line">    .<span class="keyword">set</span>(<span class="string">'yellow'</span>, [<span class="string">'banana'</span>, <span class="string">'pineapple'</span>])</span><br><span class="line">    .<span class="keyword">set</span>(<span class="string">'purple'</span>, [<span class="string">'grape'</span>, <span class="string">'plum'</span>]);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printFruits</span></span>(color) &#123;</span><br><span class="line">  <span class="keyword">return</span> fruitColor.<span class="keyword">get</span>(color) || [];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Map å…è®¸ä¿å­˜é”®å€¼å¯¹ï¼Œæ˜¯è‡ªä»ES2015ä»¥æ¥å¯ä»¥ä½¿ç”¨çš„å¯¹è±¡ç±»å‹ã€‚<br>å¯¹äºä¸Šé¢çš„ä¾‹å­ï¼Œç›¸åŒçš„åŠŸèƒ½ä¹Ÿèƒ½ç”¨æ•°ç»„æ–¹æ³•Array.filter æ¥å®ç°ã€‚</p><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const fruits = [</span><br><span class="line">    &#123; <span class="keyword">name</span>: <span class="string">'apple'</span>, <span class="built_in">color</span>: <span class="string">'red'</span> &#125;, </span><br><span class="line">    &#123; <span class="keyword">name</span>: <span class="string">'strawberry'</span>, <span class="built_in">color</span>: <span class="string">'red'</span> &#125;, </span><br><span class="line">    &#123; <span class="keyword">name</span>: <span class="string">'banana'</span>, <span class="built_in">color</span>: <span class="string">'yellow'</span> &#125;, </span><br><span class="line">    &#123; <span class="keyword">name</span>: <span class="string">'pineapple'</span>, <span class="built_in">color</span>: <span class="string">'yellow'</span> &#125;, </span><br><span class="line">    &#123; <span class="keyword">name</span>: <span class="string">'grape'</span>, <span class="built_in">color</span>: <span class="string">'purple'</span> &#125;, </span><br><span class="line">    &#123; <span class="keyword">name</span>: <span class="string">'plum'</span>, <span class="built_in">color</span>: <span class="string">'purple'</span> &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">function printFruits(<span class="built_in">color</span>) &#123;</span><br><span class="line">  return fruits.filter(fruit =&gt; fruit.<span class="built_in">color</span> === <span class="built_in">color</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-é»˜è®¤å‚æ•°å’Œè§£æ„"><a href="#4-é»˜è®¤å‚æ•°å’Œè§£æ„" class="headerlink" title="4. é»˜è®¤å‚æ•°å’Œè§£æ„"></a>4. é»˜è®¤å‚æ•°å’Œè§£æ„</h2><p>å½“ä½¿ç”¨ JavaScript å·¥ä½œæ—¶ï¼Œæˆ‘ä»¬æ€»æ˜¯éœ€è¦æ£€æŸ¥ null/undefined å€¼å¹¶èµ‹é»˜è®¤å€¼ï¼Œå¦åˆ™å¯èƒ½ç¼–è¯‘å¤±è´¥ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printVegetablesWithQuantity</span>(<span class="params">vegetable, quantity = <span class="number">1</span></span>) </span>&#123; </span><br><span class="line"><span class="comment">// if quantity has no value, assign 1</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!vegetable) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(We have $&#123;quantity&#125; $&#123;vegetable&#125;!);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//results</span></span><br><span class="line">printVegetablesWithQuantity(<span class="string">'cabbage'</span>); <span class="comment">// We have 1 cabbage!</span></span><br><span class="line">printVegetablesWithQuantity(<span class="string">'potato'</span>, <span class="number">2</span>); <span class="comment">// We have 2 potato!</span></span><br></pre></td></tr></table></figure><p>å¦‚æœ vegetable æ˜¯ä¸€ä¸ªå¯¹è±¡å‘¢ï¼Ÿæˆ‘ä»¬èƒ½èµ‹ä¸€ä¸ªé»˜è®¤å‚æ•°å—ï¼Ÿ</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">function</span> <span class="selector-tag">printVegetableName</span>(vegetable) &#123; </span><br><span class="line">    <span class="selector-tag">if</span> (vegetable &amp;&amp; vegetable.name) &#123;</span><br><span class="line">     <span class="selector-tag">console</span><span class="selector-class">.log</span> (vegetable.name);</span><br><span class="line">   &#125; <span class="selector-tag">else</span> &#123;</span><br><span class="line">    <span class="selector-tag">console</span><span class="selector-class">.log</span>(<span class="string">'unknown'</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">printVegetableName</span>(undefined); <span class="comment">// unknown</span></span><br><span class="line"><span class="selector-tag">printVegetableName</span>(&#123;&#125;); <span class="comment">// unknown</span></span><br><span class="line"><span class="selector-tag">printVegetableName</span>(&#123; <span class="attribute">name</span>: <span class="string">'cabbage'</span>, <span class="attribute">quantity</span>: <span class="number">2</span> &#125;); <span class="comment">// cabbage</span></span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœvegetable å­˜åœ¨ï¼Œæˆ‘ä»¬æƒ³è¦æ‰“å° vegetable name, å¦åˆ™æ‰“å°â€unknownâ€ã€‚</p><p>æˆ‘ä»¬èƒ½é€šè¿‡ä½¿ç”¨é»˜è®¤å‚æ•°å’Œè§£æ„æ¥é¿å…æ¡ä»¶è¯­å¥ if (vegetable &amp;&amp; vegetable.name) {} ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// destructing - get name property only</span></span><br><span class="line"><span class="comment">// assign default empty object &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printVegetableName</span>(<span class="params">&#123;name&#125; = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log (name || <span class="string">'unknown'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">printVegetableName(<span class="literal">undefined</span>); <span class="comment">// unknown</span></span><br><span class="line">printVegetableName(&#123; &#125;); <span class="comment">// unknown</span></span><br><span class="line">printVegetableName(&#123; <span class="attr">name</span>: <span class="string">'cabbage'</span>, <span class="attr">quantity</span>: <span class="number">2</span> &#125;); <span class="comment">// cabbage</span></span><br></pre></td></tr></table></figure><p>å› ä¸ºæˆ‘ä»¬åªéœ€è¦ name å±æ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ { name } è§£æ„å‚æ•°ï¼Œç„¶åæˆ‘ä»¬å°±èƒ½åœ¨ä»£ç ä¸­ä½¿ç”¨ name ä½œä¸ºå˜é‡ï¼Œè€Œä¸æ˜¯ vegetable.name ã€‚</p><p>æˆ‘ä»¬è¿˜èµ‹äº†ä¸€ä¸ªç©ºå¯¹è±¡ {} ä½œä¸ºé»˜è®¤å€¼ï¼Œå› ä¸ºå½“æ‰§è¡Œ printVegetableName(undefined) æ—¶ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯ï¼šä¸èƒ½ä» undefined æˆ– null è§£æ„å±æ€§ name ï¼Œå› ä¸ºåœ¨ undefined ä¸­æ²¡æœ‰ name å±æ€§ã€‚</p><h2 id="5-ç”¨-Array-every-amp-Array-some-åŒ¹é…å…¨éƒ¨-éƒ¨åˆ†å†…å®¹"><a href="#5-ç”¨-Array-every-amp-Array-some-åŒ¹é…å…¨éƒ¨-éƒ¨åˆ†å†…å®¹" class="headerlink" title="5. ç”¨ Array.every &amp; Array.some åŒ¹é…å…¨éƒ¨/éƒ¨åˆ†å†…å®¹"></a>5. ç”¨ Array.every &amp; Array.some åŒ¹é…å…¨éƒ¨/éƒ¨åˆ†å†…å®¹</h2><p>æˆ‘ä»¬èƒ½ä½¿ç”¨æ•°ç»„æ–¹æ³•å‡å°‘ä»£ç è¡Œã€‚æŸ¥çœ‹ä¸‹é¢çš„ä»£ç ï¼Œæˆ‘ä»¬æƒ³è¦æ£€æŸ¥æ˜¯å¦æ‰€æœ‰çš„æ°´æœéƒ½æ˜¯çº¢è‰²çš„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fruits = [</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'apple'</span>, <span class="attr">color</span>: <span class="string">'red'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'banana'</span>, <span class="attr">color</span>: <span class="string">'yellow'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'grape'</span>, <span class="attr">color</span>: <span class="string">'purple'</span> &#125;</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> isAllRed = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// condition: all fruits must be red</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> f <span class="keyword">of</span> fruits) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!isAllRed) <span class="keyword">break</span>;</span><br><span class="line">    isAllRed = (f.color == <span class="string">'red'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(isAllRed); <span class="comment">// false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä»£ç å¤ªé•¿äº†ï¼æˆ‘ä»¬èƒ½ç”¨ Array.every æ¥å‡å°‘ä»£ç è¡Œæ•°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fruits = [</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'apple'</span>, <span class="attr">color</span>: <span class="string">'red'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'banana'</span>, <span class="attr">color</span>: <span class="string">'yellow'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'grape'</span>, <span class="attr">color</span>: <span class="string">'purple'</span> &#125;</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// condition: short way, all fruits must be red</span></span><br><span class="line">  <span class="keyword">const</span> isAllRed = fruits.every(<span class="function"><span class="params">f</span> =&gt;</span> f.color == <span class="string">'red'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(isAllRed); <span class="comment">// false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›¸ä¼¼åœ°ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æµ‹è¯•æ˜¯å¦æœ‰ä»»ä½•çº¢è‰²çš„æ°´æœï¼Œæˆ‘ä»¬èƒ½ç”¨ä¸€è¡Œ Array.some æ¥å®ç°å®ƒã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fruits = [</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'apple'</span>, <span class="attr">color</span>: <span class="string">'red'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'banana'</span>, <span class="attr">color</span>: <span class="string">'yellow'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'grape'</span>, <span class="attr">color</span>: <span class="string">'purple'</span> &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// condition: if any fruit is red</span></span><br><span class="line">  <span class="keyword">const</span> isAnyRed = fruits.some(<span class="function"><span class="params">f</span> =&gt;</span> f.color == <span class="string">'red'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(isAnyRed); <span class="comment">// true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6-ä½¿ç”¨å¯é€‰é“¾å’Œç©ºå€¼åˆå¹¶"><a href="#6-ä½¿ç”¨å¯é€‰é“¾å’Œç©ºå€¼åˆå¹¶" class="headerlink" title="6. ä½¿ç”¨å¯é€‰é“¾å’Œç©ºå€¼åˆå¹¶"></a>6. ä½¿ç”¨å¯é€‰é“¾å’Œç©ºå€¼åˆå¹¶</h2><p>è¿™æœ‰ä¸¤ä¸ªä¸ºç¼–å†™æ›´æ¸…æ™°çš„æ¡ä»¶è¯­å¥è€Œå³å°†æˆä¸º JavaScript å¢å¼ºçš„åŠŸèƒ½ã€‚å½“å†™è¿™ç¯‡æ–‡ç« æ—¶ï¼Œå®ƒä»¬è¿˜æ²¡æœ‰è¢«å®Œå…¨æ”¯æŒï¼Œä½ éœ€è¦ä½¿ç”¨ Babel æ¥ç¼–è¯‘ã€‚</p><p>å¯é€‰é“¾å…è®¸æˆ‘ä»¬æ²¡æœ‰æ˜ç¡®æ£€æŸ¥ä¸­é—´èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨åœ°å¤„ç† tree-like ç»“æ„ï¼Œç©ºå€¼åˆå¹¶å’Œå¯é€‰é“¾ç»„åˆèµ·æ¥å·¥ä½œå¾—å¾ˆå¥½ï¼Œä»¥ç¡®ä¿ä¸ºä¸å­˜åœ¨çš„å€¼èµ‹ä¸€ä¸ªé»˜è®¤å€¼ã€‚</p><p>è¿™æœ‰ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> car = &#123;</span><br><span class="line">    model: <span class="string">'Fiesta'</span>,</span><br><span class="line">    manufacturer: &#123;</span><br><span class="line">    name: <span class="string">'Ford'</span>,</span><br><span class="line">    address: &#123;</span><br><span class="line">        street: <span class="string">'Some Street Name'</span>,</span><br><span class="line">        <span class="built_in">number</span>: <span class="string">'5555'</span>,</span><br><span class="line">        state: <span class="string">'USA'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">// to get the car model</span></span><br><span class="line"><span class="keyword">const</span> model = car &amp;&amp; car.model || <span class="string">'default model'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// to get the manufacturer street</span></span><br><span class="line"><span class="keyword">const</span> street = car &amp;&amp; car.manufacturer &amp;&amp; car.manufacturer.address &amp;&amp; </span><br><span class="line">car.manufacturer.address.street || <span class="string">'default street'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// request an un-existing property</span></span><br><span class="line"><span class="keyword">const</span> phoneNumber = car &amp;&amp; car.manufacturer &amp;&amp; car.manufacturer.address </span><br><span class="line">&amp;&amp; car.manufacturer.phoneNumber;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(model) <span class="comment">// 'Fiesta'</span></span><br><span class="line"><span class="built_in">console</span>.log(street) <span class="comment">// 'Some Street Name'</span></span><br><span class="line"><span class="built_in">console</span>.log(phoneNumber) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><p>æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦æ‰“å°æ˜¯å¦è½¦è¾†ç”Ÿäº§å•†æ¥è‡ªç¾å›½ï¼Œä»£ç å°†çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const isManufacturerFromUSA = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">   <span class="keyword">if</span>(car &amp;&amp; car.manufacturer &amp;&amp; car.manufacturer.address &amp;&amp; </span><br><span class="line"> car.manufacturer.address.state === <span class="string">'USA'</span>) &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'true'</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">checkCarManufacturerState() <span class="regexp">//</span> <span class="string">'true'</span></span><br></pre></td></tr></table></figure><p>ä½ èƒ½æ¸…æ™°åœ°çœ‹åˆ°å½“æœ‰ä¸€ä¸ªæ›´å¤æ‚çš„å¯¹è±¡ç»“æ„æ—¶ï¼Œè¿™èƒ½å˜å¾—å¤šä¹±ã€‚æœ‰ä¸€äº›ç¬¬ä¸‰æ–¹çš„åº“æœ‰å®ƒä»¬è‡ªå·±çš„å‡½æ•°ï¼Œåƒ lodash æˆ– idxã€‚ä¾‹å¦‚ lodash æœ‰ _.get æ–¹æ³•ã€‚ç„¶è€Œï¼ŒJavaScript è¯­è¨€æœ¬èº«è¢«å¼•å…¥è¿™ä¸ªç‰¹æ€§æ˜¯éå¸¸é…·çš„ã€‚</p><p>è¿™å±•ç¤ºäº†è¿™äº›æ–°ç‰¹æ€§å¦‚ä½•å·¥ä½œï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// to get the car model</span></span><br><span class="line"><span class="keyword">const</span> model = car?.model ?? <span class="string">'default model'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// to get the manufacturer street</span></span><br><span class="line"><span class="keyword">const</span> street = car?.manufacturer?.address?.street ?? <span class="string">'default street'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// to check if the car manufacturer is from the USA</span></span><br><span class="line"><span class="keyword">const</span> isManufacturerFromUSA = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">   <span class="keyword">if</span>(car?.manufacturer?.address?.state === <span class="string">'USA'</span>) &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'true'</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™çœ‹èµ·æ¥å¾ˆç¾è§‚å¹¶å®¹æ˜“ç»´æŠ¤ã€‚å®ƒå·²ç»åˆ° TC39 stage 3 é˜¶æ®µï¼Œè®©æˆ‘ä»¬ç­‰å¾…å®ƒè·å¾—æ‰¹å‡†ï¼Œç„¶åæˆ‘ä»¬å°±èƒ½æ— å¤„ä¸åœ¨åœ°çœ‹åˆ°è¿™éš¾ä»¥ç½®ä¿¡çš„è¯­æ³•çš„ä½¿ç”¨ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è®©æˆ‘ä»¬ä¸ºäº†ç¼–å†™æ›´æ¸…æ™°ã€æ˜“ç»´æŠ¤çš„ä»£ç ï¼Œå­¦ä¹ å¹¶å°è¯•æ–°çš„æŠ€å·§å’ŒæŠ€æœ¯ï¼Œå› ä¸ºåœ¨å‡ ä¸ªæœˆåï¼Œé•¿é•¿çš„æ¡ä»¶çœ‹èµ·æ¥åƒæ¬çŸ³å¤´ç ¸è‡ªå·±çš„è„šã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;åœ¨ä»»ä½•ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œä»£ç éœ€è¦æ ¹æ®ä¸åŒçš„æ¡ä»¶åœ¨ç»™å®šçš„è¾“å…¥ä¸­åšä¸åŒçš„å†³å®šå’Œæ‰§è¡Œç›¸åº”çš„åŠ¨ä½œã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªæ¸¸æˆä¸­ï¼Œå¦‚æœç©å®¶ç”Ÿå‘½ç‚¹ä¸º0ï¼Œæ¸¸æˆç»“æŸã€‚åœ¨å¤©æ°”åº”ç”¨ä¸­ï¼Œå¦‚æœåœ¨æ—©ä¸Šè¢«æŸ¥çœ‹ï¼Œæ˜¾ç¤ºä¸€ä¸ªæ—¥å‡ºå›¾ç‰‡ï¼Œå¦‚æœæ˜¯æ™šä¸Šï¼Œåˆ™æ˜¾ç¤ºæ˜Ÿæ˜Ÿå’Œæœˆäº®ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ¢ç´¢JavaScriptä¸­æ‰€è°“çš„æ¡ä»¶è¯­å¥å¦‚ä½•å·¥ä½œã€‚&lt;br&gt;
    
    </summary>
    
      <category term="JavaScript" scheme="https://chongdee.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://chongdee.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>æ‰‹å†™Promiseè®²è§£</title>
    <link href="https://chongdee.github.io/2021/05/09/JavaScript/%E6%89%8B%E5%86%99Promise%E8%AE%B2%E8%A7%A3/"/>
    <id>https://chongdee.github.io/2021/05/09/JavaScript/æ‰‹å†™Promiseè®²è§£/</id>
    <published>2021-05-08T19:24:00.003Z</published>
    <updated>2021-05-08T19:27:54.328Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h2 id="æ•´ä½“ç»“æ„"><a href="#æ•´ä½“ç»“æ„" class="headerlink" title="æ•´ä½“ç»“æ„"></a>æ•´ä½“ç»“æ„</h2><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="type">MyPromise</span> &#123;</span></span><br><span class="line"><span class="class">    constructor(<span class="title">fn</span>)&#123;</span></span><br><span class="line"><span class="class">        </span></span><br><span class="line"><span class="class">    &#125;</span></span><br><span class="line"><span class="class">    resolve()&#123;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    &#125;</span></span><br><span class="line"><span class="class">    then()&#123;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    &#125;</span></span><br><span class="line"><span class="class">    reject()&#123;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    &#125;</span></span><br><span class="line"><span class="class">    catch()&#123;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    &#125;</span></span><br><span class="line"><span class="class">&#125;</span></span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="å®ç°æ„é€ å‡½æ•°"><a href="#å®ç°æ„é€ å‡½æ•°" class="headerlink" title="å®ç°æ„é€ å‡½æ•°"></a>å®ç°æ„é€ å‡½æ•°</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPromise</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(fn)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span> fn !== <span class="string">'function'</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">`MyPromise fn <span class="subst">$&#123;fn&#125;</span> is not a function`</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.state = <span class="string">'pending'</span>;</span><br><span class="line">        <span class="keyword">this</span>.value = <span class="keyword">void</span> <span class="number">0</span>;</span><br><span class="line">        fn(<span class="keyword">this</span>.resolve.bind(<span class="keyword">this</span>),<span class="keyword">this</span>.reject.bind(<span class="keyword">this</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ„é€ å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°fnï¼Œä¸”è¿™ä¸ªå‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå› ä¸ºæˆ‘ä»¬ä¸€èˆ¬è¿™æ ·ä½¿ç”¨new Promise((resolve,reject)=&gt;{});<br>ç„¶ååˆå§‹åŒ–ä¸€ä¸‹promiseçš„çŠ¶æ€ï¼Œé»˜è®¤å¼€å§‹ä¸ºpendingï¼Œåˆå§‹åŒ–valueçš„å€¼ã€‚<br>fnæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œresolveã€reject</p></blockquote><h2 id="resolve"><a href="#resolve" class="headerlink" title="resolve"></a>resolve</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPromise</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(fn)&#123;</span><br><span class="line">        <span class="keyword">if</span>(typeof fn !== <span class="string">'function'</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> new TypeError(`MyPromise fn $&#123;fn&#125; <span class="keyword">is</span> not a function`)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.state = <span class="string">'pending'</span>;</span><br><span class="line">        <span class="keyword">this</span>.value = void <span class="number">0</span>;</span><br><span class="line">        fn(<span class="keyword">this</span>.resolve.bind(<span class="keyword">this</span>),<span class="keyword">this</span>.reject.bind(<span class="keyword">this</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    resolve(value)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.state !== <span class="string">'pending'</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">this</span>.state = <span class="string">'fulfilled'</span>;</span><br><span class="line">        <span class="keyword">this</span>.value = value</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å½“resolveæ‰§è¡Œï¼Œæ¥æ”¶åˆ°ä¸€ä¸ªå€¼ä¹‹åï¼›çŠ¶æ€å°±ç”± pending -&gt; fulfilledï¼›å½“å‰çš„å€¼ä¸ºæ¥æ”¶çš„å€¼</p><h2 id="reject"><a href="#reject" class="headerlink" title="reject"></a>reject</h2></blockquote><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPromise</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(fn)&#123;</span><br><span class="line">        <span class="keyword">if</span>(typeof fn !== <span class="string">'function'</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> new TypeError(`MyPromise fn $&#123;fn&#125; <span class="keyword">is</span> not a function`)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.state = <span class="string">'pending'</span>;</span><br><span class="line">        <span class="keyword">this</span>.value = void <span class="number">0</span>;</span><br><span class="line">        fn(<span class="keyword">this</span>.resolve.bind(<span class="keyword">this</span>),<span class="keyword">this</span>.reject.bind(<span class="keyword">this</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    resolve(value)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.state !== <span class="string">'pending'</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">this</span>.state = <span class="string">'fulfilled'</span>;</span><br><span class="line">        <span class="keyword">this</span>.value = value</span><br><span class="line">    &#125;</span><br><span class="line">    reject(reason)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.state !== <span class="string">'pending'</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">this</span>.state = <span class="string">'rejected'</span>;</span><br><span class="line">        <span class="keyword">this</span>.value = reason</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å½“rejectæ‰§è¡Œï¼Œæ¥æ”¶åˆ°ä¸€ä¸ªå€¼ä¹‹åï¼›çŠ¶æ€å°±ç”± pending -&gt; rejectedï¼›å½“å‰çš„å€¼ä¸ºæ¥æ”¶çš„å€¼</p></blockquote><h2 id="then"><a href="#then" class="headerlink" title="then"></a>then</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPromise</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(fn)&#123;</span><br><span class="line">        <span class="keyword">if</span>(typeof fn !== <span class="string">'function'</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> new TypeError(`MyPromise fn $&#123;fn&#125; <span class="keyword">is</span> not a function`)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.state = <span class="string">'pending'</span>;</span><br><span class="line">        <span class="keyword">this</span>.value = void <span class="number">0</span>;</span><br><span class="line">        fn(<span class="keyword">this</span>.resolve.bind(<span class="keyword">this</span>),<span class="keyword">this</span>.reject.bind(<span class="keyword">this</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    resolve(value)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.state !== <span class="string">'pending'</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">this</span>.state = <span class="string">'fulfilled'</span>;</span><br><span class="line">        <span class="keyword">this</span>.value = value</span><br><span class="line">    &#125;</span><br><span class="line">    reject(reason)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.state !== <span class="string">'pending'</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">this</span>.state = <span class="string">'rejected'</span>;</span><br><span class="line">        <span class="keyword">this</span>.value = reason</span><br><span class="line">    &#125;</span><br><span class="line">    then(fulfilled,rejected)&#123;</span><br><span class="line">        <span class="keyword">if</span> (typeof fulfilled !== <span class="string">'function'</span> &amp;&amp; typeof rejected !== <span class="string">'function'</span> ) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (typeof fulfilled !== <span class="string">'function'</span> &amp;&amp; <span class="keyword">this</span>.state === <span class="string">'fulfilled'</span> ||</span><br><span class="line">            typeof rejected !== <span class="string">'function'</span> &amp;&amp; <span class="keyword">this</span>.state === <span class="string">'rejected'</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> new MyPromise((resolve,reject)=&gt;&#123;</span><br><span class="line">            <span class="keyword">if</span>(fulfilled &amp;&amp; typeof fulfilled === <span class="string">'function'</span> &amp;&amp; <span class="keyword">this</span>.state === <span class="string">'fulfilled'</span>)&#123;</span><br><span class="line">                let result = fulfilled(<span class="keyword">this</span>.value);</span><br><span class="line">                <span class="keyword">if</span>(result &amp;&amp; typeof result.then === <span class="string">'function'</span>)&#123;</span><br><span class="line">                    <span class="keyword">return</span> result.then(resolve,reject)</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    resolve(result)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(rejected &amp;&amp; typeof rejected === <span class="string">'function'</span> &amp;&amp; <span class="keyword">this</span>.state === <span class="string">'rejected'</span>)&#123;</span><br><span class="line">                let result = rejected(<span class="keyword">this</span>.value);</span><br><span class="line">                <span class="keyword">if</span>(result &amp;&amp; typeof result.then === <span class="string">'function'</span>)&#123;</span><br><span class="line">                    <span class="keyword">return</span> result.then(resolve,reject)</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    resolve(result)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>thençš„å®ç°æ¯”è¾ƒå…³é”®ï¼Œé¦–å…ˆæœ‰ä¸¤ä¸ªåˆ¤æ–­ï¼Œç¬¬ä¸€ä¸ªåˆ¤æ–­ä¼ çš„ä¸¤ä¸ªå‚æ•°æ˜¯å¦éƒ½æ˜¯å‡½æ•°ï¼Œå¦‚æœéƒ½ä¸æ˜¯return thisæ‰§è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚<br>ç¬¬äºŒä¸ªåˆ¤æ–­çš„ä½œç”¨æ˜¯ï¼Œæ¯”å¦‚ï¼Œç°åœ¨çŠ¶æ€ä»pending -&gt; rejected;ä½†æ˜¯ä¸­é—´ä»£ç ä¸­æœ‰è®¸å¤šä¸ª.thençš„æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦è·³è¿‡è¿™äº›æ“ä½œæ‰§è¡Œ.catchçš„ä»£ç ã€‚å¦‚ä¸‹é¢çš„ä»£ç ï¼Œæ‰§è¡Œç»“æœåªä¼šæ‰“å°1</p></blockquote><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Promise(<span class="function"><span class="params">(resolve,reject)</span>=&gt;</span>&#123;</span><br><span class="line">    reject(<span class="number">1</span>)</span><br><span class="line">&#125;).<span class="keyword">then</span>(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">&#125;).<span class="keyword">then</span>(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;).<span class="keyword">catch</span>(<span class="function"><span class="params">(e)</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>ä¸‹é¢æœ‰ä¸¤ä¸ªåˆ¤æ–­ï¼Œä½œç”¨æ˜¯åˆ¤æ–­æ˜¯rejectedè¿˜æ˜¯fulfilled,é¦–å…ˆçœ‹fulfilledï¼Œå¦‚æœæ˜¯fulfilledçš„è¯ï¼Œé¦–å…ˆæ‰§è¡Œfulfilledå‡½æ•°ï¼Œå¹¶æŠŠå½“å‰çš„valueå€¼ä¼ è¿‡å»ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢è¿™æ­¥æ“ä½œ,reså°±æ˜¯ä¼ è¿‡å»çš„valueå€¼ï¼Œå¹¶æ‰§è¡Œäº†(res)=&gt;{console.log(res)}è¿™æ®µä»£ç ;æ‰§è¡Œå®Œæˆä¹‹åæˆ‘ä»¬å¾—åˆ°äº†resultï¼›ä¹Ÿå°±æ˜¯2è¿™ä¸ªç»“æœï¼Œä¸‹é¢å°±æ˜¯åˆ¤æ–­å½“å‰ç»“æœæ˜¯å¦æ˜¯ä¸€ä¸ªpromiseå®ä¾‹äº†ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢æ³¨é‡Šäº†çš„æƒ…å†µï¼Œç°åœ¨æˆ‘ä»¬ç›´æ¥æ‰§è¡Œresolve(result);</p></blockquote><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Promise(<span class="function"><span class="params">(resolve,reject)</span>=&gt;</span>&#123;</span><br><span class="line">    resolve(<span class="number">1</span>)</span><br><span class="line">&#125;).<span class="keyword">then</span>(<span class="function"><span class="params">(res)</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">    <span class="regexp">//</span><span class="keyword">return</span> <span class="keyword">new</span> Promise(resolve=&gt;&#123;&#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="catch"><a href="#catch" class="headerlink" title="catch"></a>catch</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPromise</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">catch</span>(rejected)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.then(<span class="literal">null</span>,rejected)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å®Œæˆä»£ç "><a href="#å®Œæˆä»£ç " class="headerlink" title="å®Œæˆä»£ç "></a>å®Œæˆä»£ç </h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPromise</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(fn)&#123;</span><br><span class="line">        <span class="keyword">if</span>(typeof fn !== <span class="string">'function'</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> new TypeError(`MyPromise fn $&#123;fn&#125; <span class="keyword">is</span> not a function`)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.state = <span class="string">'pending'</span>;</span><br><span class="line">        <span class="keyword">this</span>.value = void <span class="number">0</span>;</span><br><span class="line">        fn(<span class="keyword">this</span>.resolve.bind(<span class="keyword">this</span>),<span class="keyword">this</span>.reject.bind(<span class="keyword">this</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    resolve(value)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.state !== <span class="string">'pending'</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">this</span>.state = <span class="string">'fulfilled'</span>;</span><br><span class="line">        <span class="keyword">this</span>.value = value</span><br><span class="line">    &#125;</span><br><span class="line">    reject(reason)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.state !== <span class="string">'pending'</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">this</span>.state = <span class="string">'rejected'</span>;</span><br><span class="line">        <span class="keyword">this</span>.value = reason</span><br><span class="line">    &#125;</span><br><span class="line">    then(fulfilled,rejected)&#123;</span><br><span class="line">        <span class="keyword">if</span> (typeof fulfilled !== <span class="string">'function'</span> &amp;&amp; typeof rejected !== <span class="string">'function'</span> ) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (typeof fulfilled !== <span class="string">'function'</span> &amp;&amp; <span class="keyword">this</span>.state === <span class="string">'fulfilled'</span> ||</span><br><span class="line">            typeof rejected !== <span class="string">'function'</span> &amp;&amp; <span class="keyword">this</span>.state === <span class="string">'rejected'</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> new MyPromise((resolve,reject)=&gt;&#123;</span><br><span class="line">            <span class="keyword">if</span>(fulfilled &amp;&amp; typeof fulfilled === <span class="string">'function'</span> &amp;&amp; <span class="keyword">this</span>.state === <span class="string">'fulfilled'</span>)&#123;</span><br><span class="line">                let result = fulfilled(<span class="keyword">this</span>.value);</span><br><span class="line">                <span class="keyword">if</span>(result &amp;&amp; typeof result.then === <span class="string">'function'</span>)&#123;</span><br><span class="line">                    <span class="keyword">return</span> result.then(resolve,reject)</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    resolve(result)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(rejected &amp;&amp; typeof rejected === <span class="string">'function'</span> &amp;&amp; <span class="keyword">this</span>.state === <span class="string">'rejected'</span>)&#123;</span><br><span class="line">                let result = rejected(<span class="keyword">this</span>.value);</span><br><span class="line">                <span class="keyword">if</span>(result &amp;&amp; typeof result.then === <span class="string">'function'</span>)&#123;</span><br><span class="line">                    <span class="keyword">return</span> result.then(resolve,reject)</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    resolve(result)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span>(rejected)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.then(<span class="literal">null</span>,rejected)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ•´ä½“ç»“æ„&quot;&gt;&lt;a href=&quot;#æ•´ä½“ç»“æ„&quot; class=&quot;headerlink&quot; title=&quot;æ•´ä½“ç»“æ„&quot;&gt;&lt;/a&gt;æ•´ä½“ç»“æ„&lt;/h2&gt;&lt;figure class=&quot;highlight haskell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;MyPromise&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;    constructor(&lt;span class=&quot;title&quot;&gt;fn&lt;/span&gt;)&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;        &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;    resolve()&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;    then()&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;    reject()&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;    catch()&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="JavaScript" scheme="https://chongdee.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://chongdee.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>è·¯ç”±æƒé™,å¤§æ–‡ä»¶ä¸‹è½½ç­‰é—®é¢˜</title>
    <link href="https://chongdee.github.io/2021/05/09/vue/%E8%B7%AF%E7%94%B1%E6%9D%83%E9%99%90,%E5%A4%A7%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E7%AD%89%E9%97%AE%E9%A2%98/"/>
    <id>https://chongdee.github.io/2021/05/09/vue/è·¯ç”±æƒé™,å¤§æ–‡ä»¶ä¸‹è½½ç­‰é—®é¢˜/</id>
    <published>2021-05-08T19:13:18.469Z</published>
    <updated>2021-05-08T19:16:25.784Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>æœ‰ä¸€äº›é—®é¢˜ä¸é™äº Vueï¼Œè¿˜é€‚åº”äºå…¶ä»–ç±»å‹çš„ SPA é¡¹ç›®ã€‚</p><h2 id="1-é¡µé¢æƒé™æ§åˆ¶å’Œç™»é™†éªŒè¯"><a href="#1-é¡µé¢æƒé™æ§åˆ¶å’Œç™»é™†éªŒè¯" class="headerlink" title="1. é¡µé¢æƒé™æ§åˆ¶å’Œç™»é™†éªŒè¯"></a>1. é¡µé¢æƒé™æ§åˆ¶å’Œç™»é™†éªŒè¯</h2><h3 id="é¡µé¢æƒé™æ§åˆ¶"><a href="#é¡µé¢æƒé™æ§åˆ¶" class="headerlink" title="é¡µé¢æƒé™æ§åˆ¶"></a>é¡µé¢æƒé™æ§åˆ¶</h3><p>é¡µé¢æƒé™æ§åˆ¶æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ</p><p>å°±æ˜¯ä¸€ä¸ªç½‘ç«™æœ‰ä¸åŒçš„è§’è‰²ï¼Œæ¯”å¦‚ç®¡ç†å‘˜å’Œæ™®é€šç”¨æˆ·ï¼Œè¦æ±‚ä¸åŒçš„è§’è‰²èƒ½è®¿é—®çš„é¡µé¢æ˜¯ä¸ä¸€æ ·çš„ã€‚å¦‚æœä¸€ä¸ªé¡µé¢ï¼Œæœ‰è§’è‰²è¶Šæƒè®¿é—®ï¼Œè¿™æ—¶å°±å¾—åšå‡ºé™åˆ¶äº†ã€‚<br><a id="more"></a><br>ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡åŠ¨æ€æ·»åŠ è·¯ç”±å’Œèœå•æ¥åšæ§åˆ¶ï¼Œä¸èƒ½è®¿é—®çš„é¡µé¢ä¸æ·»åŠ åˆ°è·¯ç”±è¡¨é‡Œï¼Œè¿™æ˜¯å…¶ä¸­ä¸€ç§åŠæ³•ã€‚å…·ä½“ç»†èŠ‚è¯·çœ‹ä¸‹ä¸€èŠ‚çš„ã€ŠåŠ¨æ€èœå•ã€‹ã€‚</p><p>å¦ä¸€ç§åŠæ³•å°±æ˜¯æ‰€æœ‰çš„é¡µé¢éƒ½åœ¨è·¯ç”±è¡¨é‡Œï¼Œåªæ˜¯åœ¨è®¿é—®çš„æ—¶å€™è¦åˆ¤æ–­ä¸€ä¸‹è§’è‰²æƒé™ã€‚å¦‚æœæœ‰æƒé™å°±å…è®¸è®¿é—®ï¼Œæ²¡æœ‰æƒé™å°±æ‹’ç»ï¼Œè·³è½¬åˆ° 404 é¡µé¢ã€‚</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>åœ¨æ¯ä¸€ä¸ªè·¯ç”±çš„ meta å±æ€§é‡Œï¼Œå°†èƒ½è®¿é—®è¯¥è·¯ç”±çš„è§’è‰²æ·»åŠ åˆ° roles é‡Œã€‚ç”¨æˆ·æ¯æ¬¡ç™»é™†åï¼Œå°†ç”¨æˆ·çš„è§’è‰²è¿”å›ã€‚ç„¶ååœ¨è®¿é—®é¡µé¢æ—¶ï¼ŒæŠŠè·¯ç”±çš„ meta å±æ€§å’Œç”¨æˆ·çš„è§’è‰²è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœç”¨æˆ·çš„è§’è‰²åœ¨è·¯ç”±çš„ roles é‡Œï¼Œé‚£å°±æ˜¯èƒ½è®¿é—®ï¼Œå¦‚æœä¸åœ¨å°±æ‹’ç»è®¿é—®ã€‚</p><h3 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h3><p>è·¯ç”±ä¿¡æ¯</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">routes: [</span><br><span class="line">    &#123;</span><br><span class="line">        path: <span class="string">'/login'</span>,</span><br><span class="line">        name: <span class="string">'login'</span>,</span><br><span class="line">        meta: &#123;</span><br><span class="line">            roles: [<span class="string">'admin'</span>, <span class="string">'user'</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">        component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../components/Login.vue'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        path: <span class="string">'home'</span>,</span><br><span class="line">        name: <span class="string">'home'</span>,</span><br><span class="line">        meta: &#123;</span><br><span class="line">            roles: [<span class="string">'admin'</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">        component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../views/Home.vue'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>é¡µé¢æ§åˆ¶</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡è®¾è§’è‰²æœ‰ä¸¤ç§ï¼šadmin å’Œ user</span></span><br><span class="line"><span class="comment">// è¿™é‡Œæ˜¯ä»åå°è·å–çš„ç”¨æˆ·è§’è‰²</span></span><br><span class="line">const role = <span class="string">'user'</span></span><br><span class="line"><span class="comment">// åœ¨è¿›å…¥ä¸€ä¸ªé¡µé¢å‰ä¼šè§¦å‘ router.beforeEach äº‹ä»¶</span></span><br><span class="line">router.beforeEach((to, <span class="keyword">from</span>, <span class="keyword">next</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (to.meta.roles.<span class="keyword">includes</span>(role)) &#123;</span><br><span class="line">        <span class="keyword">next</span>()</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">next</span>(&#123;path: <span class="string">'/404'</span>&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ç™»é™†éªŒè¯<br>ç½‘ç«™ä¸€èˆ¬åªè¦ç™»é™†è¿‡ä¸€æ¬¡åï¼Œæ¥ä¸‹æ¥è¯¥ç½‘ç«™çš„å…¶ä»–é¡µé¢éƒ½æ˜¯å¯ä»¥ç›´æ¥è®¿é—®çš„ï¼Œä¸ç”¨å†æ¬¡ç™»é™†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ token æˆ– cookie æ¥å®ç°ï¼Œä¸‹é¢ç”¨ä»£ç æ¥å±•ç¤ºä¸€ä¸‹å¦‚ä½•ç”¨ token æ§åˆ¶ç™»é™†éªŒè¯ã€‚</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">router.beforeEach((to, from, <span class="built_in">next</span>) =&gt; &#123;</span><br><span class="line">    // å¦‚æœæœ‰token è¯´æ˜è¯¥ç”¨æˆ·å·²ç™»é™†</span><br><span class="line">    <span class="keyword">if</span> (localStorage.getItem(<span class="string">'token'</span>)) &#123;</span><br><span class="line">        // åœ¨å·²ç™»é™†çš„æƒ…å†µä¸‹è®¿é—®ç™»é™†é¡µä¼šé‡å®šå‘åˆ°é¦–é¡µ</span><br><span class="line">        <span class="keyword">if</span> (to.<span class="built_in">path</span> === <span class="string">'/login'</span>) &#123;</span><br><span class="line">            <span class="built_in">next</span>(&#123;<span class="built_in">path</span>: <span class="string">'/'</span>&#125;)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">next</span>(&#123;<span class="built_in">path</span>: to.<span class="built_in">path</span> || <span class="string">'/'</span>&#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        // æ²¡æœ‰ç™»é™†åˆ™è®¿é—®ä»»ä½•é¡µé¢éƒ½é‡å®šå‘åˆ°ç™»é™†é¡µ</span><br><span class="line">        <span class="keyword">if</span> (to.<span class="built_in">path</span> === <span class="string">'/login'</span>) &#123;</span><br><span class="line">            <span class="built_in">next</span>()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">next</span>(`/login?redirect=$&#123;to.<span class="built_in">path</span>&#125;`)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="2-åŠ¨æ€èœå•"><a href="#2-åŠ¨æ€èœå•" class="headerlink" title="2. åŠ¨æ€èœå•"></a>2. åŠ¨æ€èœå•</h2><p>å†™åå°ç®¡ç†ç³»ç»Ÿï¼Œä¼°è®¡æœ‰ä¸å°‘äººé‡è¿‡è¿™æ ·çš„éœ€æ±‚ï¼šæ ¹æ®åå°æ•°æ®åŠ¨æ€æ·»åŠ è·¯ç”±å’Œèœå•ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆåšå‘¢ï¼Ÿå› ä¸ºä¸åŒçš„ç”¨æˆ·æœ‰ä¸åŒçš„æƒé™ï¼Œèƒ½è®¿é—®çš„é¡µé¢æ˜¯ä¸ä¸€æ ·çš„ã€‚</p><h3 id="åŠ¨æ€æ·»åŠ è·¯ç”±"><a href="#åŠ¨æ€æ·»åŠ è·¯ç”±" class="headerlink" title="åŠ¨æ€æ·»åŠ è·¯ç”±"></a>åŠ¨æ€æ·»åŠ è·¯ç”±</h3><p>åˆ©ç”¨ vue-router çš„ addRoutes æ–¹æ³•å¯ä»¥åŠ¨æ€æ·»åŠ è·¯ç”±ã€‚</p><p>å…ˆçœ‹ä¸€ä¸‹å®˜æ–¹ä»‹ç»ï¼š</p><p><strong>router.addRoutes</strong></p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">router</span><span class="selector-class">.addRoutes</span>(<span class="attribute">routes</span>: Array&lt;RouteConfig&gt;)</span><br></pre></td></tr></table></figure><p>åŠ¨æ€æ·»åŠ æ›´å¤šçš„è·¯ç”±è§„åˆ™ã€‚å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªç¬¦åˆ routes é€‰é¡¹è¦æ±‚çš„æ•°ç»„ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const router = <span class="keyword">new</span> Router(&#123;</span><br><span class="line">    routes: [</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">'/login'</span>,</span><br><span class="line">            name: <span class="string">'login'</span>,</span><br><span class="line">            component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../components/Login.vue'</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;path: <span class="string">'/'</span>, redirect: <span class="string">'/home'</span>&#125;,</span><br><span class="line">    ]   </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç å’Œä¸‹é¢çš„ä»£ç æ•ˆæœæ˜¯ä¸€æ ·çš„</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const router = <span class="keyword">new</span> Router(&#123;</span><br><span class="line">    routes: [</span><br><span class="line">        &#123;path: <span class="string">'/'</span>, redirect: <span class="string">'/home'</span>&#125;,</span><br><span class="line">    ]   </span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">router.addRoutes([</span><br><span class="line">    &#123;</span><br><span class="line">        path: <span class="string">'/login'</span>,</span><br><span class="line">        name: <span class="string">'login'</span>,</span><br><span class="line">        component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../components/Login.vue'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">])</span><br></pre></td></tr></table></figure><p>åœ¨åŠ¨æ€æ·»åŠ è·¯ç”±çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæœ‰ 404 é¡µé¢ï¼Œä¸€å®šè¦æ”¾åœ¨æœ€åæ·»åŠ ï¼Œå¦åˆ™åœ¨ç™»é™†çš„æ—¶å€™æ·»åŠ å®Œé¡µé¢ä¼šé‡å®šå‘åˆ° 404 é¡µé¢ã€‚</p><p>ç±»ä¼¼äºè¿™æ ·ï¼Œè¿™ç§è§„åˆ™ä¸€å®šè¦æœ€åæ·»åŠ ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attribute">path</span>: <span class="string">'*'</span>, redirect: <span class="string">'/404'</span>&#125;</span><br></pre></td></tr></table></figure><h3 id="åŠ¨æ€ç”Ÿæˆèœå•"><a href="#åŠ¨æ€ç”Ÿæˆèœå•" class="headerlink" title="åŠ¨æ€ç”Ÿæˆèœå•"></a>åŠ¨æ€ç”Ÿæˆèœå•</h3><p>å‡è®¾åå°è¿”å›æ¥çš„æ•°æ®é•¿è¿™æ ·ï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å·¦ä¾§èœå•æ æ•°æ®</span></span><br><span class="line"><span class="attribute">menuItems</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attribute">name</span>: <span class="string">'home'</span>, <span class="comment">// è¦è·³è½¬çš„è·¯ç”±åç§° ä¸æ˜¯è·¯å¾„</span></span><br><span class="line">        <span class="attribute">size</span>: <span class="number">18</span>, <span class="comment">// iconå¤§å°</span></span><br><span class="line">        <span class="attribute">type</span>: <span class="string">'md-home'</span>, <span class="comment">// iconç±»å‹</span></span><br><span class="line">        <span class="attribute">text</span>: <span class="string">'ä¸»é¡µ'</span> <span class="comment">// æ–‡æœ¬å†…å®¹</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attribute">text</span>: <span class="string">'äºŒçº§èœå•'</span>,</span><br><span class="line">        <span class="attribute">type</span>: <span class="string">'ios-paper'</span>,</span><br><span class="line">        <span class="attribute">children</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attribute">type</span>: <span class="string">'ios-grid'</span>,</span><br><span class="line">                <span class="attribute">name</span>: <span class="string">'t1'</span>,</span><br><span class="line">                <span class="attribute">text</span>: <span class="string">'è¡¨æ ¼'</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attribute">text</span>: <span class="string">'ä¸‰çº§èœå•'</span>,</span><br><span class="line">                <span class="attribute">type</span>: <span class="string">'ios-paper'</span>,</span><br><span class="line">                <span class="attribute">children</span>: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attribute">type</span>: <span class="string">'ios-notifications-outline'</span>,</span><br><span class="line">                        <span class="attribute">name</span>: <span class="string">'msg'</span>,</span><br><span class="line">                        <span class="attribute">text</span>: <span class="string">'æŸ¥çœ‹æ¶ˆæ¯'</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>æ¥çœ‹çœ‹æ€ä¹ˆå°†å®ƒè½¬åŒ–ä¸ºèœå•æ ï¼Œæˆ‘åœ¨è¿™é‡Œä½¿ç”¨äº† iview çš„ç»„ä»¶ï¼Œä¸ç”¨é‡å¤é€ è½®å­ã€‚</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- èœå•æ  --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">Menu</span> <span class="attr">ref</span>=<span class="string">"asideMenu"</span> <span class="attr">theme</span>=<span class="string">"dark"</span> <span class="attr">width</span>=<span class="string">"100%"</span> @<span class="attr">on-select</span>=<span class="string">"gotoPage"</span> </span></span></span><br><span class="line"><span class="xml">accordion :open-names="openMenus" :active-name="currentPage" @on-open-change="menuChange"&gt;</span></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- åŠ¨æ€èœå• --&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in menuItems"</span> <span class="attr">:key</span>=<span class="string">"index"</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">Submenu</span> <span class="attr">v-if</span>=<span class="string">"item.children"</span> <span class="attr">:name</span>=<span class="string">"index"</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">"title"</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">Icon</span> <span class="attr">:size</span>=<span class="string">"item.size"</span> <span class="attr">:type</span>=<span class="string">"item.type"</span>/&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-show</span>=<span class="string">"isShowAsideTitle"</span>&gt;</span></span><span class="template-variable">&#123;&#123;item.text&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"(subItem, i) in item.children"</span> <span class="attr">:key</span>=<span class="string">"index + i"</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">Submenu</span> <span class="attr">v-if</span>=<span class="string">"subItem.children"</span> <span class="attr">:name</span>=<span class="string">"index + '-' + i"</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">"title"</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">Icon</span> <span class="attr">:size</span>=<span class="string">"subItem.size"</span> <span class="attr">:type</span>=<span class="string">"subItem.type"</span>/&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-show</span>=<span class="string">"isShowAsideTitle"</span>&gt;</span></span><span class="template-variable">&#123;&#123;subItem.text&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">MenuItem</span> <span class="attr">class</span>=<span class="string">"menu-level-3"</span> <span class="attr">v-for</span>=<span class="string">"(threeItem, k) in subItem.children"</span> <span class="attr">:name</span>=<span class="string">"threeItem.name"</span> <span class="attr">:key</span>=<span class="string">"index + i + k"</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">Icon</span> <span class="attr">:size</span>=<span class="string">"threeItem.size"</span> <span class="attr">:type</span>=<span class="string">"threeItem.type"</span>/&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-show</span>=<span class="string">"isShowAsideTitle"</span>&gt;</span></span><span class="template-variable">&#123;&#123;threeItem.text&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;/<span class="name">MenuItem</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;/<span class="name">Submenu</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">MenuItem</span> <span class="attr">v-else</span> <span class="attr">v-show</span>=<span class="string">"isShowAsideTitle"</span> <span class="attr">:name</span>=<span class="string">"subItem.name"</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">Icon</span> <span class="attr">:size</span>=<span class="string">"subItem.size"</span> <span class="attr">:type</span>=<span class="string">"subItem.type"</span>/&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-show</span>=<span class="string">"isShowAsideTitle"</span>&gt;</span></span><span class="template-variable">&#123;&#123;subItem.text&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;/<span class="name">MenuItem</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">Submenu</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">MenuItem</span> <span class="attr">v-else</span> <span class="attr">:name</span>=<span class="string">"item.name"</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">Icon</span> <span class="attr">:size</span>=<span class="string">"item.size"</span> <span class="attr">:type</span>=<span class="string">"item.type"</span> /&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-show</span>=<span class="string">"isShowAsideTitle"</span>&gt;</span></span><span class="template-variable">&#123;&#123;item.text&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">MenuItem</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">Menu</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>ä»£ç ä¸ç”¨çœ‹å¾—å¤ªä»”ç»†ï¼Œç†è§£åŸç†å³å¯ï¼Œå…¶å®å°±æ˜¯é€šè¿‡ä¸‰æ¬¡ v-for ä¸åœçš„å¯¹å­æ•°ç»„è¿›è¡Œå¾ªç¯ï¼Œç”Ÿæˆä¸‰çº§èœå•ã€‚</p><p>ä¸è¿‡è¿™ä¸ªåŠ¨æ€èœå•æœ‰ç¼ºé™·ï¼Œå°±æ˜¯åªæ”¯æŒä¸‰çº§èœå•ã€‚ä¸€ä¸ªæ›´å¥½çš„åšæ³•æ˜¯æŠŠç”Ÿæˆèœå•çš„è¿‡ç¨‹å°è£…æˆç»„ä»¶ï¼Œç„¶åé€’å½’è°ƒç”¨ï¼Œè¿™æ ·å°±èƒ½æ”¯æŒæ— é™çº§çš„èœå•ã€‚åœ¨ç”Ÿèœèœå•æ—¶ï¼Œéœ€è¦åˆ¤æ–­ä¸€ä¸‹æ˜¯å¦è¿˜æœ‰å­èœå•ï¼Œå¦‚æœæœ‰å°±é€’å½’è°ƒç”¨ç»„ä»¶ã€‚</p><p><strong>åŠ¨æ€è·¯ç”±</strong>å› ä¸ºä¸Šé¢å·²ç»è¯´è¿‡äº†ç”¨ addRoutes æ¥å®ç°ï¼Œç°åœ¨çœ‹çœ‹å…·ä½“æ€ä¹ˆåšã€‚</p><p>é¦–å…ˆï¼Œè¦æŠŠé¡¹ç›®æ‰€æœ‰çš„é¡µé¢è·¯ç”±éƒ½åˆ—å‡ºæ¥ï¼Œå†ç”¨åå°è¿”å›æ¥çš„æ•°æ®åŠ¨æ€åŒ¹é…ï¼Œèƒ½åŒ¹é…ä¸Šçš„å°±æŠŠè·¯ç”±åŠ ä¸Šï¼Œä¸èƒ½åŒ¹é…ä¸Šçš„å°±ä¸åŠ ã€‚æœ€åæŠŠè¿™ä¸ªæ–°ç”Ÿæˆçš„è·¯ç”±æ•°æ®ç”¨ addRoutes æ·»åŠ åˆ°è·¯ç”±è¡¨é‡Œã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> asyncRoutes = &#123;</span><br><span class="line">    <span class="string">'home'</span>: &#123;</span><br><span class="line">        path: <span class="string">'home'</span>,</span><br><span class="line">        name: <span class="string">'home'</span>,</span><br><span class="line">        component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../views/Home.vue'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">'t1'</span>: &#123;</span><br><span class="line">        path: <span class="string">'t1'</span>,</span><br><span class="line">        name: <span class="string">'t1'</span>,</span><br><span class="line">        component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../views/T1.vue'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">'password'</span>: &#123;</span><br><span class="line">        path: <span class="string">'password'</span>,</span><br><span class="line">        name: <span class="string">'password'</span>,</span><br><span class="line">        component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../views/Password.vue'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">'msg'</span>: &#123;</span><br><span class="line">        path: <span class="string">'msg'</span>,</span><br><span class="line">        name: <span class="string">'msg'</span>,</span><br><span class="line">        component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../views/Msg.vue'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">'userinfo'</span>: &#123;</span><br><span class="line">        path: <span class="string">'userinfo'</span>,</span><br><span class="line">        name: <span class="string">'userinfo'</span>,</span><br><span class="line">        component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../views/UserInfo.vue'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼ å…¥åå°æ•°æ® ç”Ÿæˆè·¯ç”±è¡¨</span></span><br><span class="line">menusToRoutes(menusData)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†èœå•ä¿¡æ¯è½¬æˆå¯¹åº”çš„è·¯ç”±ä¿¡æ¯ åŠ¨æ€æ·»åŠ </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">menusToRoutes</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> result = []</span><br><span class="line">    <span class="keyword">const</span> children = []</span><br><span class="line"></span><br><span class="line">    result.push(&#123;</span><br><span class="line">        path: <span class="string">'/'</span>,</span><br><span class="line">        component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../components/Index.vue'</span>),</span><br><span class="line">        children,</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    data.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        generateRoutes(children, item)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    children.push(&#123;</span><br><span class="line">        path: <span class="string">'error'</span>,</span><br><span class="line">        name: <span class="string">'error'</span>,</span><br><span class="line">        component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../components/Error.vue'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœ€åæ·»åŠ 404é¡µé¢ å¦åˆ™ä¼šåœ¨ç™»é™†æˆåŠŸåè·³åˆ°404é¡µé¢</span></span><br><span class="line">    result.push(</span><br><span class="line">        &#123;<span class="attr">path</span>: <span class="string">'*'</span>, <span class="attr">redirect</span>: <span class="string">'/error'</span>&#125;,</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">generateRoutes</span>(<span class="params">children, item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (item.name) &#123;</span><br><span class="line">        children.push(asyncRoutes[item.name])</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (item.children) &#123;</span><br><span class="line">        item.children.forEach(<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">            generateRoutes(children, e)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŠ¨æ€èœå•çš„ä»£ç å®ç°æ”¾åœ¨ github ä¸Šï¼Œåˆ†åˆ«æ”¾åœ¨è¿™ä¸ªé¡¹ç›®çš„ src/components/Index.vueã€src/permission.js å’Œ src/utils/index.js æ–‡ä»¶é‡Œã€‚</p><h2 id="3-å‰è¿›åˆ·æ–°åé€€ä¸åˆ·æ–°"><a href="#3-å‰è¿›åˆ·æ–°åé€€ä¸åˆ·æ–°" class="headerlink" title="3. å‰è¿›åˆ·æ–°åé€€ä¸åˆ·æ–°"></a>3. å‰è¿›åˆ·æ–°åé€€ä¸åˆ·æ–°</h2><h3 id="éœ€æ±‚ä¸€ï¼š"><a href="#éœ€æ±‚ä¸€ï¼š" class="headerlink" title="éœ€æ±‚ä¸€ï¼š"></a>éœ€æ±‚ä¸€ï¼š</h3><p>åœ¨ä¸€ä¸ªåˆ—è¡¨é¡µä¸­ï¼Œç¬¬ä¸€æ¬¡è¿›å…¥çš„æ—¶å€™ï¼Œè¯·æ±‚è·å–æ•°æ®ã€‚</p><p>ç‚¹å‡»æŸä¸ªåˆ—è¡¨é¡¹ï¼Œè·³åˆ°è¯¦æƒ…é¡µï¼Œå†ä»è¯¦æƒ…é¡µåé€€å›åˆ°åˆ—è¡¨é¡µæ—¶ï¼Œä¸åˆ·æ–°ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ä»å…¶ä»–é¡µé¢è¿›åˆ°åˆ—è¡¨é¡µï¼Œéœ€è¦åˆ·æ–°è·å–æ•°æ®ï¼Œä»è¯¦æƒ…é¡µè¿”å›åˆ°åˆ—è¡¨é¡µæ—¶ä¸è¦åˆ·æ–°ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><p>åœ¨ App.vueè®¾ç½®ï¼š</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">keep</span>-alive <span class="keyword">include</span>=<span class="string">"list"</span>&gt;</span><br><span class="line">    &lt;router-<span class="keyword">view</span>/&gt;</span><br><span class="line">&lt;/<span class="keyword">keep</span>-alive&gt;</span><br></pre></td></tr></table></figure><p>å‡è®¾åˆ—è¡¨é¡µä¸º <strong>list.vue</strong>ï¼Œè¯¦æƒ…é¡µä¸º<strong>detail.vue</strong>ï¼Œè¿™ä¸¤ä¸ªéƒ½æ˜¯å­ç»„ä»¶ã€‚</p><p>æˆ‘ä»¬åœ¨ keep-alive æ·»åŠ åˆ—è¡¨é¡µçš„åå­—ï¼Œç¼“å­˜åˆ—è¡¨é¡µã€‚</p><p>ç„¶ååœ¨åˆ—è¡¨é¡µçš„ created å‡½æ•°é‡Œæ·»åŠ  ajax è¯·æ±‚ï¼Œè¿™æ ·åªæœ‰ç¬¬ä¸€æ¬¡è¿›å…¥åˆ°åˆ—è¡¨é¡µçš„æ—¶å€™æ‰ä¼šè¯·æ±‚æ•°æ®ï¼Œå½“ä»åˆ—è¡¨é¡µè·³åˆ°è¯¦æƒ…é¡µï¼Œå†ä»è¯¦æƒ…é¡µå›æ¥çš„æ—¶å€™ï¼Œåˆ—è¡¨é¡µå°±ä¸ä¼šåˆ·æ–°ã€‚è¿™æ ·å°±å¯ä»¥è§£å†³é—®é¢˜äº†ã€‚</p><h3 id="éœ€æ±‚äºŒï¼š"><a href="#éœ€æ±‚äºŒï¼š" class="headerlink" title="éœ€æ±‚äºŒï¼š"></a>éœ€æ±‚äºŒï¼š</h3><p>åœ¨éœ€æ±‚ä¸€çš„åŸºç¡€ä¸Šï¼Œå†åŠ ä¸€ä¸ªè¦æ±‚ï¼šå¯ä»¥åœ¨è¯¦æƒ…é¡µä¸­åˆ é™¤å¯¹åº”çš„åˆ—è¡¨é¡¹ï¼Œè¿™æ—¶è¿”å›åˆ°åˆ—è¡¨é¡µæ—¶éœ€è¦åˆ·æ–°é‡æ–°è·å–æ•°æ®ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åœ¨è·¯ç”±é…ç½®æ–‡ä»¶ä¸Šå¯¹ detail.vue å¢åŠ ä¸€ä¸ª meta å±æ€§ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="attribute">path</span>: <span class="string">'/detail'</span>,</span><br><span class="line">   name: <span class="string">'detail'</span>,</span><br><span class="line">   component: () =&gt; <span class="built_in">import</span>(<span class="string">'../view/detail.vue'</span>),</span><br><span class="line">   meta: &#123;isRefresh: true&#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>è¿™ä¸ª meta å±æ€§ï¼Œå¯ä»¥åœ¨è¯¦æƒ…é¡µä¸­é€šè¿‡ this.$route.meta.isRefresh æ¥è¯»å–å’Œè®¾ç½®ã€‚</p><p>è®¾ç½®å®Œè¿™ä¸ªå±æ€§ï¼Œè¿˜è¦åœ¨ App.vue æ–‡ä»¶é‡Œè®¾ç½® watch ä¸€ä¸‹ $route å±æ€§ã€‚</p><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">       $route(<span class="keyword">to</span>, <span class="keyword">from</span>) &#123;</span><br><span class="line">           const fname = <span class="keyword">from</span>.<span class="built_in">name</span></span><br><span class="line">           const tname = <span class="keyword">to</span>.<span class="built_in">name</span></span><br><span class="line">           <span class="keyword">if</span> (<span class="keyword">from</span>.meta.isRefresh || (fname != <span class="string">'detail'</span> &amp;&amp; tname == <span class="string">'list'</span>)) &#123;</span><br><span class="line">               <span class="keyword">from</span>.meta.isRefresh = <span class="literal">false</span></span><br><span class="line">       <span class="comment">// åœ¨è¿™é‡Œé‡æ–°è¯·æ±‚æ•°æ®</span></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±ä¸éœ€è¦åœ¨åˆ—è¡¨é¡µçš„ created å‡½æ•°é‡Œç”¨ ajax æ¥è¯·æ±‚æ•°æ®äº†ï¼Œç»Ÿä¸€æ”¾åœ¨ App.vue é‡Œæ¥å¤„ç†ã€‚</p><p>è§¦å‘è¯·æ±‚æ•°æ®æœ‰ä¸¤ä¸ªæ¡ä»¶ï¼š</p><ol><li>ä»å…¶ä»–é¡µé¢ï¼ˆé™¤äº†è¯¦æƒ…é¡µï¼‰è¿›æ¥åˆ—è¡¨æ—¶ï¼Œéœ€è¦è¯·æ±‚æ•°æ®ã€‚</li><li>ä»è¯¦æƒ…é¡µè¿”å›åˆ°åˆ—è¡¨é¡µæ—¶ï¼Œå¦‚æœè¯¦æƒ…é¡µ meta å±æ€§ä¸­çš„ isRefresh ä¸º trueï¼Œä¹Ÿéœ€è¦é‡æ–°è¯·æ±‚æ•°æ®ã€‚</li></ol><p>å½“æˆ‘ä»¬åœ¨è¯¦æƒ…é¡µä¸­åˆ é™¤äº†å¯¹åº”çš„åˆ—è¡¨é¡¹æ—¶ï¼Œå°±å¯ä»¥å°†è¯¦æƒ…é¡µ meta å±æ€§ä¸­çš„ isRefresh è®¾ä¸º trueã€‚è¿™æ—¶å†è¿”å›åˆ°åˆ—è¡¨é¡µï¼Œé¡µé¢ä¼šé‡æ–°åˆ·æ–°ã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆäºŒ"><a href="#è§£å†³æ–¹æ¡ˆäºŒ" class="headerlink" title="è§£å†³æ–¹æ¡ˆäºŒ"></a>è§£å†³æ–¹æ¡ˆäºŒ</h3><p>å¯¹äºéœ€æ±‚äºŒå…¶å®è¿˜æœ‰ä¸€ä¸ªæ›´ç®€æ´çš„æ–¹æ¡ˆï¼Œé‚£å°±æ˜¯ä½¿ç”¨ router-view çš„ key å±æ€§ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">:key</span>=<span class="string">"$route.fullPath"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é¦–å…ˆ keep-alive è®©æ‰€æœ‰é¡µé¢éƒ½ç¼“å­˜ï¼Œå½“ä½ ä¸æƒ³ç¼“å­˜æŸä¸ªè·¯ç”±é¡µé¢ï¼Œè¦é‡æ–°åŠ è½½å®ƒæ—¶ï¼Œå¯ä»¥åœ¨è·³è½¬æ—¶ä¼ ä¸€ä¸ªéšæœºå­—ç¬¦ä¸²ï¼Œè¿™æ ·å®ƒå°±èƒ½é‡æ–°åŠ è½½äº†ã€‚ä¾‹å¦‚ä»åˆ—è¡¨é¡µè¿›å…¥äº†è¯¦æƒ…é¡µï¼Œç„¶ååœ¨è¯¦æƒ…é¡µä¸­åˆ é™¤äº†åˆ—è¡¨é¡µä¸­çš„æŸä¸ªé€‰é¡¹ï¼Œæ­¤æ—¶ä»è¯¦æƒ…é¡µé€€å›åˆ—è¡¨é¡µæ—¶å°±è¦åˆ·æ–°ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·è·³è½¬ï¼š</p><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">this.$router.push(&#123;</span><br><span class="line">    path: <span class="string">'/list'</span>,</span><br><span class="line">    query: &#123; <span class="string">'randomID'</span>: <span class="string">'id'</span> + Math.random() &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™æ ·çš„æ–¹æ¡ˆç›¸å¯¹æ¥è¯´è¿˜æ˜¯æ›´ç®€æ´çš„ã€‚</p><h2 id="4-å¤šä¸ªè¯·æ±‚ä¸‹-loading-çš„å±•ç¤ºä¸å…³é—­"><a href="#4-å¤šä¸ªè¯·æ±‚ä¸‹-loading-çš„å±•ç¤ºä¸å…³é—­" class="headerlink" title="4. å¤šä¸ªè¯·æ±‚ä¸‹ loading çš„å±•ç¤ºä¸å…³é—­"></a>4. å¤šä¸ªè¯·æ±‚ä¸‹ loading çš„å±•ç¤ºä¸å…³é—­</h2><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåœ¨ vue ä¸­ç»“åˆ axios çš„æ‹¦æˆªå™¨æ§åˆ¶ loading å±•ç¤ºå’Œå…³é—­ï¼Œæ˜¯è¿™æ ·çš„ï¼š</p><p>åœ¨ App.vue é…ç½®ä¸€ä¸ªå…¨å±€ loadingã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;keep-alive :include=<span class="string">"keepAliveData"</span>&gt;</span><br><span class="line">        &lt;router-view/&gt;</span><br><span class="line">    &lt;<span class="regexp">/keep-alive&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div class="loading" v-show="isShowLoading"&gt;</span></span><br><span class="line"><span class="regexp">        &lt;Spin size="large"&gt;&lt;/</span>Spin&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br></pre></td></tr></table></figure><p>åŒæ—¶è®¾ç½® axios æ‹¦æˆªå™¨ã€‚</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨</span></span><br><span class="line"> <span class="keyword">this</span>.$axios.interceptors.request.use(config =&gt; &#123;</span><br><span class="line">     <span class="keyword">this</span>.isShowLoading = <span class="literal">true</span></span><br><span class="line">     <span class="keyword">return</span> config</span><br><span class="line"> &#125;, error =&gt; &#123;</span><br><span class="line">     <span class="keyword">this</span>.isShowLoading = <span class="literal">false</span></span><br><span class="line">     <span class="keyword">return</span> Promise.reject(error)</span><br><span class="line"> &#125;)</span><br><span class="line"></span><br><span class="line"> <span class="comment">// æ·»åŠ å“åº”æ‹¦æˆªå™¨</span></span><br><span class="line"> <span class="keyword">this</span>.$axios.interceptors.response.use(response =&gt; &#123;</span><br><span class="line">     <span class="keyword">this</span>.isShowLoading = <span class="literal">false</span></span><br><span class="line">     <span class="keyword">return</span> response</span><br><span class="line"> &#125;, error =&gt; &#123;</span><br><span class="line">     <span class="keyword">this</span>.isShowLoading = <span class="literal">false</span></span><br><span class="line">     <span class="keyword">return</span> Promise.reject(error)</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ‹¦æˆªå™¨çš„åŠŸèƒ½æ˜¯åœ¨è¯·æ±‚å‰æ‰“å¼€ loadingï¼Œè¯·æ±‚ç»“æŸæˆ–å‡ºé”™æ—¶å…³é—­ loadingã€‚</p><p>å¦‚æœæ¯æ¬¡åªæœ‰ä¸€ä¸ªè¯·æ±‚ï¼Œè¿™æ ·è¿è¡Œæ˜¯æ²¡é—®é¢˜çš„ã€‚ä½†åŒæ—¶æœ‰å¤šä¸ªè¯·æ±‚å¹¶å‘ï¼Œå°±ä¼šæœ‰é—®é¢˜äº†ã€‚</p><p><strong>ä¸¾ä¾‹ï¼š</strong></p><p>å‡å¦‚ç°åœ¨åŒæ—¶å‘èµ·ä¸¤ä¸ªè¯·æ±‚ï¼Œåœ¨è¯·æ±‚å‰ï¼Œæ‹¦æˆªå™¨ this.isShowLoading = true å°† loading æ‰“å¼€ã€‚</p><p>ç°åœ¨æœ‰ä¸€ä¸ªè¯·æ±‚ç»“æŸäº†ã€‚this.isShowLoading = false æ‹¦æˆªå™¨å…³é—­ loadingï¼Œä½†æ˜¯å¦ä¸€ä¸ªè¯·æ±‚ç”±äºæŸäº›åŸå› å¹¶æ²¡æœ‰ç»“æŸã€‚</p><p>é€ æˆçš„åæœå°±æ˜¯é¡µé¢è¯·æ±‚è¿˜æ²¡å®Œæˆï¼Œloading å´å…³é—­äº†ï¼Œç”¨æˆ·ä¼šä»¥ä¸ºé¡µé¢åŠ è½½å®Œæˆäº†ï¼Œç»“æœé¡µé¢ä¸èƒ½æ­£å¸¸è¿è¡Œï¼Œå¯¼è‡´ç”¨æˆ·ä½“éªŒä¸å¥½ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><p>å¢åŠ ä¸€ä¸ª loadingCount å˜é‡ï¼Œç”¨æ¥è®¡ç®—è¯·æ±‚çš„æ¬¡æ•°ã€‚</p><p>loadingCount: 0<br>å†å¢åŠ ä¸¤ä¸ªæ–¹æ³•ï¼Œæ¥å¯¹ loadingCount  è¿›è¡Œå¢å‡æ“ä½œã€‚</p><pre><code>methods: {    addLoading() {        this.isShowLoading = true        this.loadingCount++    },    isCloseLoading() {        this.loadingCount--        if (this.loadingCount == 0) {            this.isShowLoading = false        }    }}</code></pre><p>ç°åœ¨æ‹¦æˆªå™¨å˜æˆè¿™æ ·ï¼š</p><pre><code>// æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨this.$axios.interceptors.request.use(config =&gt; {    this.addLoading()    return config}, error =&gt; {    this.isShowLoading = false    this.loadingCount = 0    this.$Message.error(&apos;ç½‘ç»œå¼‚å¸¸ï¼Œè¯·ç¨åå†è¯•&apos;)    return Promise.reject(error)})// æ·»åŠ å“åº”æ‹¦æˆªå™¨this.$axios.interceptors.response.use(response =&gt; {    this.isCloseLoading()    return response}, error =&gt; {    this.isShowLoading = false    this.loadingCount = 0    this.$Message.error(&apos;ç½‘ç»œå¼‚å¸¸ï¼Œè¯·ç¨åå†è¯•&apos;)    return Promise.reject(error)})</code></pre><p>è¿™ä¸ªæ‹¦æˆªå™¨çš„åŠŸèƒ½æ˜¯ï¼š</p><p>æ¯å½“å‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œæ‰“å¼€ loadingï¼ŒåŒæ—¶ loadingCount åŠ 1ã€‚</p><p>æ¯å½“ä¸€ä¸ªè¯·æ±‚ç»“æŸï¼Œ loadingCount å‡1ï¼Œå¹¶åˆ¤æ–­  loadingCount æ˜¯å¦ä¸º 0ï¼Œå¦‚æœä¸º 0ï¼Œåˆ™å…³é—­ loadingã€‚</p><p>è¿™æ ·å³å¯è§£å†³ï¼Œå¤šä¸ªè¯·æ±‚ä¸‹æœ‰æŸä¸ªè¯·æ±‚æå‰ç»“æŸï¼Œå¯¼è‡´ loading å…³é—­çš„é—®é¢˜ã€‚</p><h2 id="5-è¡¨æ ¼æ‰“å°"><a href="#5-è¡¨æ ¼æ‰“å°" class="headerlink" title="5. è¡¨æ ¼æ‰“å°"></a>5. è¡¨æ ¼æ‰“å°</h2><p>æ‰“å°éœ€è¦ç”¨åˆ°çš„ç»„ä»¶ä¸º print-js</p><p>æ™®é€šè¡¨æ ¼æ‰“å°<br>ä¸€èˆ¬çš„è¡¨æ ¼æ‰“å°ç›´æ¥ä»¿ç…§ç»„ä»¶æä¾›çš„ä¾‹å­å°±å¯ä»¥äº†ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">printJS</span>(&#123;</span><br><span class="line">    <span class="attribute">printable</span>: id, // DOM id</span><br><span class="line">    type: <span class="string">'html'</span>,</span><br><span class="line">    scanStyles: false,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>element-ui è¡¨æ ¼æ‰“å°ï¼ˆå…¶ä»–ç»„ä»¶åº“çš„è¡¨æ ¼åŒç†ï¼‰<br>element-ui çš„è¡¨æ ¼ï¼Œè¡¨é¢ä¸Šçœ‹èµ·æ¥æ˜¯ä¸€ä¸ªè¡¨æ ¼ï¼Œå®é™…ä¸Šæ˜¯ç”±ä¸¤ä¸ªè¡¨æ ¼ç»„æˆçš„ã€‚</p><p>è¡¨å¤´ä¸ºä¸€ä¸ªè¡¨æ ¼ï¼Œè¡¨ä½“åˆæ˜¯ä¸ªè¡¨æ ¼ï¼Œè¿™å°±å¯¼è‡´äº†ä¸€ä¸ªé—®é¢˜ï¼šæ‰“å°çš„æ—¶å€™è¡¨ä½“å’Œè¡¨å¤´é”™ä½ã€‚</p><p>å›¾ç‰‡</p><p>å¦å¤–ï¼Œåœ¨è¡¨æ ¼å‡ºç°æ»šåŠ¨æ¡çš„æ—¶å€™ï¼Œä¹Ÿä¼šé€ æˆé”™ä½ã€‚</p><p>å›¾ç‰‡</p><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>æˆ‘çš„æ€è·¯æ˜¯å°†ä¸¤ä¸ªè¡¨æ ¼åˆæˆä¸€ä¸ªè¡¨æ ¼ï¼Œprint-js ç»„ä»¶æ‰“å°çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯æŠŠ id å¯¹åº”çš„ DOM é‡Œçš„å†…å®¹æå–å‡ºæ¥æ‰“å°ã€‚æ‰€ä»¥ï¼Œåœ¨ä¼ å…¥ id ä¹‹å‰ï¼Œå¯ä»¥å…ˆæŠŠè¡¨å¤´æ‰€åœ¨çš„è¡¨æ ¼å†…å®¹æå–å‡ºæ¥ï¼Œæ’å…¥åˆ°ç¬¬äºŒä¸ªè¡¨æ ¼é‡Œï¼Œä»è€Œå°†ä¸¤ä¸ªè¡¨æ ¼åˆå¹¶ï¼Œè¿™æ—¶å€™æ‰“å°å°±ä¸ä¼šæœ‰é”™ä½çš„é—®é¢˜äº†ã€‚</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">function printHTML(id) &#123;</span><br><span class="line">    <span class="keyword">const</span> html = <span class="built_in">document</span>.<span class="built_in">querySelector</span>(<span class="string">'#'</span> + id).innerHTML</span><br><span class="line">    <span class="comment">// æ–°å»ºä¸€ä¸ª DOM</span></span><br><span class="line">    <span class="keyword">const</span> div = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)</span><br><span class="line">    <span class="keyword">const</span> printDOMID = <span class="string">'printDOMElement'</span></span><br><span class="line">    div.id = printDOMID</span><br><span class="line">    div.innerHTML = html</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æå–ç¬¬ä¸€ä¸ªè¡¨æ ¼çš„å†…å®¹ å³è¡¨å¤´</span></span><br><span class="line">    <span class="keyword">const</span> ths = div.<span class="built_in">querySelectorAll</span>(<span class="string">'.el-table__header-wrapper th'</span>)</span><br><span class="line">    <span class="keyword">const</span> ThsTextArry = []</span><br><span class="line">    <span class="keyword">for</span> (let i = <span class="number">0</span>, len = ths.length; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ths[i].innerText !== <span class="string">''</span>) ThsTextArry.push(ths[i].innerText)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤å¤šä½™çš„è¡¨å¤´</span></span><br><span class="line">    div.<span class="built_in">querySelector</span>(<span class="string">'.hidden-columns'</span>).remove()</span><br><span class="line">    <span class="comment">// ç¬¬ä¸€ä¸ªè¡¨æ ¼çš„å†…å®¹æå–å‡ºæ¥åå·²ç»æ²¡ç”¨äº† åˆ æ‰</span></span><br><span class="line">    div.<span class="built_in">querySelector</span>(<span class="string">'.el-table__header-wrapper'</span>).remove()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†ç¬¬ä¸€ä¸ªè¡¨æ ¼çš„å†…å®¹æ’å…¥åˆ°ç¬¬äºŒä¸ªè¡¨æ ¼</span></span><br><span class="line">    let newHTML = <span class="string">'&lt;tr&gt;'</span></span><br><span class="line">    <span class="keyword">for</span> (let i = <span class="number">0</span>, len = ThsTextArry.length; i &lt; len; i++) &#123;</span><br><span class="line">        newHTML += <span class="string">'&lt;td style="text-align: center; font-weight: bold"&gt;'</span> + ThsTextArry[i] + <span class="string">'&lt;/td&gt;'</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    newHTML += <span class="string">'&lt;/tr&gt;'</span></span><br><span class="line">    div.<span class="built_in">querySelector</span>(<span class="string">'.el-table__body-wrapper table'</span>).insertAdjacentHTML(<span class="string">'afterbegin'</span>, newHTML)</span><br><span class="line">    <span class="comment">// å°†æ–°çš„ DIV æ·»åŠ åˆ°é¡µé¢ æ‰“å°åå†åˆ æ‰</span></span><br><span class="line">    <span class="built_in">document</span>.<span class="built_in">querySelector</span>(<span class="string">'body'</span>).appendChild(div)</span><br><span class="line">    </span><br><span class="line">    printJS(&#123;</span><br><span class="line">        printable: printDOMID,</span><br><span class="line">        type: <span class="string">'html'</span>,</span><br><span class="line">        scanStyles: <span class="keyword">false</span>,</span><br><span class="line">        style: <span class="string">'table &#123; border-collapse: collapse &#125;'</span> <span class="comment">// è¡¨æ ¼æ ·å¼</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    div.remove()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6-ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶"><a href="#6-ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶" class="headerlink" title="6. ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶"></a>6. ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶</h2><p>å¹³æ—¶åœ¨å‰ç«¯ä¸‹è½½æ–‡ä»¶æœ‰ä¸¤ç§æ–¹å¼ï¼Œ</p><ol><li>ä¸€ç§æ˜¯åå°æä¾›ä¸€ä¸ª URLï¼Œç„¶åç”¨ window.open(URL) ä¸‹è½½ï¼Œå¦ä¸€ç§å°±æ˜¯åå°ç›´æ¥è¿”å›æ–‡ä»¶çš„äºŒè¿›åˆ¶å†…å®¹ï¼Œç„¶åå‰ç«¯è½¬åŒ–ä¸€ä¸‹å†ä¸‹è½½ã€‚</li></ol><p>ç”±äºç¬¬ä¸€ç§æ–¹å¼æ¯”è¾ƒç®€å•ï¼Œåœ¨æ­¤ä¸åšæ¢è®¨ã€‚æœ¬æ–‡ä¸»è¦è®²è§£ä¸€ä¸‹ç¬¬äºŒç§æ–¹å¼æ€ä¹ˆå®ç°ã€‚</p><ol><li>ç¬¬äºŒç§æ–¹å¼éœ€è¦ç”¨åˆ° Blob å¯¹è±¡ï¼Œ mdn æ–‡æ¡£ä¸Šæ˜¯è¿™æ ·ä»‹ç»çš„ï¼š</li></ol><blockquote><p>Blob å¯¹è±¡è¡¨ç¤ºä¸€ä¸ªä¸å¯å˜ã€åŸå§‹æ•°æ®çš„ç±»æ–‡ä»¶å¯¹è±¡ã€‚Blob è¡¨ç¤ºçš„ä¸ä¸€å®šæ˜¯JavaScriptåŸç”Ÿæ ¼å¼çš„æ•°æ®<br>å…·ä½“ä½¿ç”¨æ–¹æ³•</p></blockquote><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">axios(&#123;</span><br><span class="line">  method: <span class="string">'post'</span>,</span><br><span class="line">  url: <span class="string">'/export'</span>,</span><br><span class="line">&#125;)</span><br><span class="line">.then(res =&gt; &#123;</span><br><span class="line">  <span class="comment">// å‡è®¾ data æ˜¯è¿”å›æ¥çš„äºŒè¿›åˆ¶æ•°æ®</span></span><br><span class="line">  const data = res.data</span><br><span class="line">  const url = window<span class="selector-class">.URL</span><span class="selector-class">.createObjectURL</span>(new Blob([data], &#123;type: <span class="string">"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"</span>&#125;))</span><br><span class="line">  const link = document.createElement(<span class="string">'a'</span>)</span><br><span class="line">  link<span class="selector-class">.style</span><span class="selector-class">.display</span> = <span class="string">'none'</span></span><br><span class="line">  link<span class="selector-class">.href</span> = url</span><br><span class="line">  link.setAttribute(<span class="string">'download'</span>, <span class="string">'excel.xlsx'</span>)</span><br><span class="line">  document<span class="selector-class">.body</span><span class="selector-class">.appendChild</span>(link)</span><br><span class="line">  link.click()</span><br><span class="line">  document<span class="selector-class">.body</span><span class="selector-class">.removeChild</span>(link)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ‰“å¼€ä¸‹è½½çš„æ–‡ä»¶ï¼Œçœ‹çœ‹ç»“æœæ˜¯å¦æ­£ç¡®ã€‚</p><p>å›¾ç‰‡</p><p>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°<br>ä¸€å †ä¹±ç â€¦</p><p>ä¸€å®šæœ‰å“ªé‡Œä¸å¯¹ã€‚</p><p>æœ€åå‘ç°æ˜¯å‚æ•° responseType çš„é—®é¢˜ï¼ŒresponseType å®ƒè¡¨ç¤ºæœåŠ¡å™¨å“åº”çš„æ•°æ®ç±»å‹ã€‚ç”±äºåå°è¿”å›æ¥çš„æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æŠŠå®ƒè®¾ä¸º arraybufferï¼Œ æ¥ä¸‹æ¥å†çœ‹çœ‹ç»“æœæ˜¯å¦æ­£ç¡®ã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">axios(&#123;</span><br><span class="line">  method: <span class="string">'post'</span>,</span><br><span class="line">  url: <span class="string">'/export'</span>,</span><br><span class="line">  responseType: <span class="string">'arraybuffer'</span>,</span><br><span class="line">&#125;)</span><br><span class="line">.then(res =&gt; &#123;</span><br><span class="line">  <span class="comment">// å‡è®¾ data æ˜¯è¿”å›æ¥çš„äºŒè¿›åˆ¶æ•°æ®</span></span><br><span class="line">  const data = res.data</span><br><span class="line">  const url = window<span class="selector-class">.URL</span><span class="selector-class">.createObjectURL</span>(new Blob([data], &#123;type: <span class="string">"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"</span>&#125;))</span><br><span class="line">  const link = document.createElement(<span class="string">'a'</span>)</span><br><span class="line">  link<span class="selector-class">.style</span><span class="selector-class">.display</span> = <span class="string">'none'</span></span><br><span class="line">  link<span class="selector-class">.href</span> = url</span><br><span class="line">  link.setAttribute(<span class="string">'download'</span>, <span class="string">'excel.xlsx'</span>)</span><br><span class="line">  document<span class="selector-class">.body</span><span class="selector-class">.appendChild</span>(link)</span><br><span class="line">  link.click()</span><br><span class="line">  document<span class="selector-class">.body</span><span class="selector-class">.removeChild</span>(link)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å›¾ç‰‡<br>è¿™æ¬¡æ²¡æœ‰é—®é¢˜ï¼Œæ–‡ä»¶èƒ½æ­£å¸¸æ‰“å¼€ï¼Œå†…å®¹ä¹Ÿæ˜¯æ­£å¸¸çš„ï¼Œä¸å†æ˜¯ä¹±ç ã€‚</p><h3 id="æ ¹æ®åå°æ¥å£å†…å®¹å†³å®šæ˜¯å¦ä¸‹è½½æ–‡ä»¶"><a href="#æ ¹æ®åå°æ¥å£å†…å®¹å†³å®šæ˜¯å¦ä¸‹è½½æ–‡ä»¶" class="headerlink" title="æ ¹æ®åå°æ¥å£å†…å®¹å†³å®šæ˜¯å¦ä¸‹è½½æ–‡ä»¶"></a>æ ¹æ®åå°æ¥å£å†…å®¹å†³å®šæ˜¯å¦ä¸‹è½½æ–‡ä»¶</h3><p>ä½œè€…çš„é¡¹ç›®æœ‰å¤§é‡çš„é¡µé¢éƒ½æœ‰ä¸‹è½½æ–‡ä»¶çš„éœ€æ±‚ï¼Œè€Œä¸”è¿™ä¸ªéœ€æ±‚è¿˜æœ‰ç‚¹å˜æ€ã€‚</p><p>å…·ä½“éœ€æ±‚å¦‚ä¸‹</p><ol><li>å¦‚æœä¸‹è½½æ–‡ä»¶çš„æ•°æ®é‡æ¡æ•°ç¬¦åˆè¦æ±‚ï¼Œæ­£å¸¸ä¸‹è½½ï¼ˆæ¯ä¸ªé¡µé¢é™åˆ¶ä¸‹è½½æ•°æ®é‡æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨å‰ç«¯å†™æ­»ï¼‰ã€‚</li><li>å¦‚æœæ–‡ä»¶è¿‡å¤§ï¼Œåå°è¿”å› { code: 199999, msg: â€˜æ–‡ä»¶è¿‡å¤§ï¼Œè¯·é‡æ–°è®¾ç½®æŸ¥è¯¢é¡¹â€™, data: null }ï¼Œç„¶åå‰ç«¯å†è¿›è¡ŒæŠ¥é”™æç¤ºã€‚<br>å…ˆæ¥åˆ†æä¸€ä¸‹ï¼Œé¦–å…ˆæ ¹æ®ä¸Šæ–‡ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ä¸‹è½½æ–‡ä»¶çš„æ¥å£å“åº”æ•°æ®ç±»å‹ä¸º arraybufferã€‚è¿”å›çš„æ•°æ®æ— è®ºæ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¿˜æ˜¯ JSON å­—ç¬¦ä¸²ï¼Œå‰ç«¯æ¥æ”¶åˆ°çš„å…¶å®éƒ½æ˜¯ arraybufferã€‚æ‰€ä»¥æˆ‘ä»¬è¦å¯¹ arraybuffer çš„å†…å®¹ä½œä¸ªåˆ¤æ–­ï¼Œåœ¨æ¥æ”¶åˆ°æ•°æ®æ—¶å°†å®ƒè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰ code: 199999ã€‚å¦‚æœæœ‰ï¼Œåˆ™æŠ¥é”™æç¤ºï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™æ˜¯æ­£å¸¸æ–‡ä»¶ï¼Œä¸‹è½½å³å¯ã€‚å…·ä½“å®ç°å¦‚ä¸‹ï¼š</li></ol><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">axios.interceptors.response.use(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> res = response.data</span><br><span class="line">    <span class="comment">// åˆ¤æ–­å“åº”æ•°æ®ç±»å‹æ˜¯å¦ ArrayBufferï¼Œtrue åˆ™æ˜¯ä¸‹è½½æ–‡ä»¶æ¥å£ï¼Œfalse åˆ™æ˜¯æ­£å¸¸æ¥å£</span></span><br><span class="line">    <span class="keyword">if</span> (res <span class="keyword">instanceof</span> <span class="built_in">ArrayBuffer</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> utf8decoder = <span class="keyword">new</span> TextDecoder()</span><br><span class="line">        <span class="keyword">const</span> u8arr = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(res)</span><br><span class="line">        <span class="comment">// å°†äºŒè¿›åˆ¶æ•°æ®è½¬ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="keyword">const</span> temp = utf8decoder.decode(u8arr)</span><br><span class="line">        <span class="keyword">if</span> (temp.includes(<span class="string">'&#123;code:199999'</span>)) &#123;</span><br><span class="line">            Message(&#123;</span><br><span class="line">             <span class="comment">// å­—ç¬¦ä¸²è½¬ä¸º JSON å¯¹è±¡</span></span><br><span class="line">                message: <span class="built_in">JSON</span>.parse(temp).msg,</span><br><span class="line">                <span class="keyword">type</span>: <span class="string">'error'</span>,</span><br><span class="line">                duration: <span class="number">5000</span>,</span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">Promise</span>.reject()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ­£å¸¸ç±»å‹æ¥å£ï¼Œçœç•¥ä»£ç ...</span></span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;, <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// çœç•¥ä»£ç ...</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="7-è‡ªåŠ¨å¿½ç•¥-console-log-è¯­å¥"><a href="#7-è‡ªåŠ¨å¿½ç•¥-console-log-è¯­å¥" class="headerlink" title="7. è‡ªåŠ¨å¿½ç•¥ console.log è¯­å¥"></a>7. è‡ªåŠ¨å¿½ç•¥ console.log è¯­å¥</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">rewirteLog</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log = (<span class="function"><span class="keyword">function</span> (<span class="params">log</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> process.env.NODE_ENV == <span class="string">'development'</span>? log : <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    &#125;(<span class="built_in">console</span>.log))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ main.js å¼•å…¥è¿™ä¸ªå‡½æ•°å¹¶æ‰§è¡Œä¸€æ¬¡ï¼Œå°±å¯ä»¥å®ç°å¿½ç•¥ console.log è¯­å¥çš„æ•ˆæœã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ‰ä¸€äº›é—®é¢˜ä¸é™äº Vueï¼Œè¿˜é€‚åº”äºå…¶ä»–ç±»å‹çš„ SPA é¡¹ç›®ã€‚&lt;/p&gt;
&lt;h2 id=&quot;1-é¡µé¢æƒé™æ§åˆ¶å’Œç™»é™†éªŒè¯&quot;&gt;&lt;a href=&quot;#1-é¡µé¢æƒé™æ§åˆ¶å’Œç™»é™†éªŒè¯&quot; class=&quot;headerlink&quot; title=&quot;1. é¡µé¢æƒé™æ§åˆ¶å’Œç™»é™†éªŒè¯&quot;&gt;&lt;/a&gt;1. é¡µé¢æƒé™æ§åˆ¶å’Œç™»é™†éªŒè¯&lt;/h2&gt;&lt;h3 id=&quot;é¡µé¢æƒé™æ§åˆ¶&quot;&gt;&lt;a href=&quot;#é¡µé¢æƒé™æ§åˆ¶&quot; class=&quot;headerlink&quot; title=&quot;é¡µé¢æƒé™æ§åˆ¶&quot;&gt;&lt;/a&gt;é¡µé¢æƒé™æ§åˆ¶&lt;/h3&gt;&lt;p&gt;é¡µé¢æƒé™æ§åˆ¶æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å°±æ˜¯ä¸€ä¸ªç½‘ç«™æœ‰ä¸åŒçš„è§’è‰²ï¼Œæ¯”å¦‚ç®¡ç†å‘˜å’Œæ™®é€šç”¨æˆ·ï¼Œè¦æ±‚ä¸åŒçš„è§’è‰²èƒ½è®¿é—®çš„é¡µé¢æ˜¯ä¸ä¸€æ ·çš„ã€‚å¦‚æœä¸€ä¸ªé¡µé¢ï¼Œæœ‰è§’è‰²è¶Šæƒè®¿é—®ï¼Œè¿™æ—¶å°±å¾—åšå‡ºé™åˆ¶äº†ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="vue" scheme="https://chongdee.github.io/categories/vue/"/>
    
    
      <category term="vue" scheme="https://chongdee.github.io/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>Vue2.xè„±å‘-è§£å†³æ–¹æ³•æ€»ç»“</title>
    <link href="https://chongdee.github.io/2021/05/09/vue/Vue2.x%E8%84%B1%E5%9D%91-%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/"/>
    <id>https://chongdee.github.io/2021/05/09/vue/Vue2.xè„±å‘-è§£å†³æ–¹æ³•æ€»ç»“/</id>
    <published>2021-05-08T18:57:03.769Z</published>
    <updated>2021-05-08T19:11:37.518Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ–‡ç« å†…å®¹è¦†ç›–èŒƒå›´,èŠéº»ç»¿è±†çš„ç ´é—®é¢˜éƒ½æœ‰,ä¸æ­¢äºvue;<br>ç»™å‡ºçš„æ˜¯æ–¹æ¡ˆ,è€Œéæ‰‹æŠŠæ‰‹ä¸€å­—ä¸€å¥çš„ç»™ä½ è¯´åä¸‡ä¸ªä¸ºä»€ä¹ˆ!</p><h2 id="é—®é¢˜æ±‡æ€»"><a href="#é—®é¢˜æ±‡æ€»" class="headerlink" title="é—®é¢˜æ±‡æ€»"></a>é—®é¢˜æ±‡æ€»</h2><h3 id="Q-å®‰è£…è¶…æ—¶-install-timeout"><a href="#Q-å®‰è£…è¶…æ—¶-install-timeout" class="headerlink" title="Q:å®‰è£…è¶…æ—¶(install timeout)"></a>Q:å®‰è£…è¶…æ—¶(install timeout)</h3><p>æ–¹æ¡ˆæœ‰è¿™ä¹ˆäº›:</p><ul><li><p>cnpm : å›½å†…å¯¹npmçš„é•œåƒç‰ˆæœ¬</p><a id="more"></a><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">cnpm website: https://npm.taobao.org/</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">npm install -g cnpm --registry=<span class="string">https:</span><span class="comment">//registry.npm.taobao.org</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// cnpm çš„å¤§å¤šå‘½ä»¤è·Ÿ npm çš„æ˜¯ä¸€è‡´çš„,æ¯”å¦‚å®‰è£…,å¸è½½è¿™äº›</span></span><br></pre></td></tr></table></figure></li><li><p>yarn å’Œ npm æ”¹æºå¤§æ³•</p></li></ul><ul><li>ä½¿ç”¨ nrm æ¨¡å— : www.npmjs.com/package/nrm</li></ul><ul><li>npm config : npm config set registry <a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a></li></ul><ul><li>yarn config : yarn config set registry <a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a></li></ul><h3 id="Q-æƒ³å­¦ä¹ Vue-è¦å…ˆå­¦ä¹ è„šæ‰‹æ¶çš„æ­å»ºä¹ˆ"><a href="#Q-æƒ³å­¦ä¹ Vue-è¦å…ˆå­¦ä¹ è„šæ‰‹æ¶çš„æ­å»ºä¹ˆ" class="headerlink" title="Q: æƒ³å­¦ä¹ Vue,è¦å…ˆå­¦ä¹ è„šæ‰‹æ¶çš„æ­å»ºä¹ˆ"></a>Q: æƒ³å­¦ä¹ Vue,è¦å…ˆå­¦ä¹ è„šæ‰‹æ¶çš„æ­å»ºä¹ˆ</h3><p>è‹¥æ˜¯ä½ æƒ³å¿«é€Ÿä¸Šæ‰‹ï¼Œç”¨å®˜æ–¹çš„è„šæ‰‹æ¶å³å¯(Vue-Cli 3)<br>å› ä¸ºä¸ç®¡æ˜¯webpackè¿˜æ˜¯parcelï¼Œgulpï¼Œéƒ½æ˜¯ä¸€äº›æ„å»ºå·¥ä½œæµçš„ä¸œä¸œï¼›<br>å­¦ä¹ è„šæ‰‹æ¶çš„æ­å»ºï¼Œæ›´å¤šçš„æ˜¯è¦é’ˆå¯¹é¡¹ç›®ä¸šåŠ¡è¿›è¡Œå®šåˆ¶ï¼Œè°ƒä¼˜ï¼›<br>ä¸€èˆ¬å…¥é—¨çº§çš„æ— éœ€å¤ªæ—©è€ƒè™‘è¿™æ–¹é¢çš„ï¼Œåªè¦ä¸“å¿ƒå­¦å¥½Vueçš„ä½¿ç”¨å§¿åŠ¿ä¾¿å¯ã€‚</p><h3 id="Q-å®‰è£…ä¸€äº›éœ€è¦ç¼–è¯‘çš„åŒ…-æç¤ºæ²¡æœ‰å®‰è£…pythonã€buildå¤±è´¥ç­‰"><a href="#Q-å®‰è£…ä¸€äº›éœ€è¦ç¼–è¯‘çš„åŒ…-æç¤ºæ²¡æœ‰å®‰è£…pythonã€buildå¤±è´¥ç­‰" class="headerlink" title="Q:å®‰è£…ä¸€äº›éœ€è¦ç¼–è¯‘çš„åŒ…:æç¤ºæ²¡æœ‰å®‰è£…pythonã€buildå¤±è´¥ç­‰"></a>Q:å®‰è£…ä¸€äº›éœ€è¦ç¼–è¯‘çš„åŒ…:æç¤ºæ²¡æœ‰å®‰è£…pythonã€buildå¤±è´¥ç­‰</h3><p>å› ä¸ºä¸€äº› npm çš„åŒ…å®‰è£…éœ€è¦ç¼–è¯‘çš„ç¯å¢ƒ,mac å’Œ linux éƒ½è¿˜å¥½,</p><p>è€Œwindow ç”¨æˆ·ä¾èµ– visual studio çš„ä¸€äº›åº“å’Œpython 2+,<br>windowsçš„å°ä¼™ä¼´éƒ½è£…ä¸Š:</p><ul><li><a href="https://github.com/felixrieseberg/windows-build-tools" target="_blank" rel="noopener">windows-build-tools</a></li><li><a href="https://www.python.org/downloads/" target="_blank" rel="noopener">python 2.x</a></li></ul><h3 id="Q-canâ€™t-not-find-â€˜xxModuleâ€™-æ‰¾ä¸åˆ°æŸäº›ä¾èµ–æˆ–è€…æ¨¡å—"><a href="#Q-canâ€™t-not-find-â€˜xxModuleâ€™-æ‰¾ä¸åˆ°æŸäº›ä¾èµ–æˆ–è€…æ¨¡å—" class="headerlink" title="Q:canâ€™t not find â€˜xxModuleâ€™ - æ‰¾ä¸åˆ°æŸäº›ä¾èµ–æˆ–è€…æ¨¡å—"></a>Q:canâ€™t not find â€˜xxModuleâ€™ - æ‰¾ä¸åˆ°æŸäº›ä¾èµ–æˆ–è€…æ¨¡å—</h3><p>è¿™ç§æƒ…å†µä¸€èˆ¬æŠ¥é”™ä¿¡æ¯å¯ä»¥çœ‹åˆ°æ˜¯å“ªä¸ªåŒ…æŠ›å‡ºçš„ä¿¡æ¯ï¼Œä¸€èˆ¬å¸è½½è¿™ä¸ªæ¨¡å—,å®‰è£…é‡æ–°å®‰è£…ä¸‹å³å¯ã€‚</p><h3 id="Q-data-functions-should-return-an-object"><a href="#Q-data-functions-should-return-an-object" class="headerlink" title="Q:data functions should return an object"></a>Q:data functions should return an object</h3><p>è¿™ä¸ªé—®é¢˜æ˜¯ Vue å®ä¾‹å†…,å•ç»„ä»¶çš„dataå¿…é¡»è¿”å›ä¸€ä¸ªå¯¹è±¡;å¦‚ä¸‹</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">export</span> <span class="selector-tag">default</span> &#123;</span><br><span class="line">  <span class="attribute">name</span>: <span class="string">'page-router-view'</span>,</span><br><span class="line">      data () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        tabs: [</span><br><span class="line">          &#123;</span><br><span class="line">            title: <span class="string">'è´¢åŠ¡ä¿¡æ¯'</span>,</span><br><span class="line">            url: <span class="string">'/userinfo'</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attribute">title</span>: <span class="string">'å¸å·ä¿¡æ¯'</span>,</span><br><span class="line">            url: <span class="string">'/userinfo/base'</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¸ºä»€ä¹ˆè¦ return ä¸€ä¸ªæ•°æ®å¯¹è±¡å‘¢?</strong><br>å®˜æ–¹è§£é‡Šå¦‚ä¸‹:  data å¿…é¡»å£°æ˜ä¸ºè¿”å›ä¸€ä¸ªåˆå§‹æ•°æ®å¯¹è±¡çš„å‡½æ•°ï¼Œå› ä¸ºç»„ä»¶å¯èƒ½è¢«ç”¨æ¥åˆ›å»ºå¤šä¸ªå®ä¾‹ã€‚</p><p>å¦‚æœ data ä»ç„¶æ˜¯ä¸€ä¸ªçº¯ç²¹çš„å¯¹è±¡ï¼Œåˆ™æ‰€æœ‰çš„å®ä¾‹å°†å…±äº«å¼•ç”¨åŒä¸€ä¸ªæ•°æ®å¯¹è±¡ï¼</p><p>ç®€è¨€ä¹‹,ç»„ä»¶å¤ç”¨ä¸‹,ä¸ä¼šé€ æˆæ•°æ®åŒæ—¶æŒ‡å‘ä¸€å¤„,é€ å‡ºç‰µä¸€å‘è€ŒåŠ¨å…¨èº«çš„ç ´é—®é¢˜,</p><h3 id="Q-æˆ‘ç»™ç»„ä»¶å†…çš„åŸç”Ÿæ§ä»¶æ·»åŠ äº‹ä»¶-æ€ä¹ˆä¸ç”Ÿæ•ˆäº†"><a href="#Q-æˆ‘ç»™ç»„ä»¶å†…çš„åŸç”Ÿæ§ä»¶æ·»åŠ äº‹ä»¶-æ€ä¹ˆä¸ç”Ÿæ•ˆäº†" class="headerlink" title="Q:æˆ‘ç»™ç»„ä»¶å†…çš„åŸç”Ÿæ§ä»¶æ·»åŠ äº‹ä»¶,æ€ä¹ˆä¸ç”Ÿæ•ˆäº†!"></a>Q:æˆ‘ç»™ç»„ä»¶å†…çš„åŸç”Ÿæ§ä»¶æ·»åŠ äº‹ä»¶,æ€ä¹ˆä¸ç”Ÿæ•ˆäº†!</h3><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!--æ¯”å¦‚ç”¨äº†ç¬¬ä¸‰æ–¹æ¡†æ¶,æˆ–è€…ä¸€äº›å°è£…çš„å†…ç½®ç»„ä»¶; ç„¶åæƒ³ç»‘å®šäº‹ä»¶--&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!--// é”™è¯¯ä¾‹å­1--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">el-input</span> <span class="attr">placeholder</span>=<span class="string">"è¯·è¾“å…¥ç‰¹å®šæ¶ˆè´¹é‡‘é¢ "</span> @<span class="attr">mouseover</span>=<span class="string">"test()"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!--// é”™è¯¯ä¾‹å­2--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"item.menuUrl"</span> @<span class="attr">click</span>=<span class="string">"toggleName=''"</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">i</span> <span class="attr">:class</span>=<span class="string">"['fzicon',item.menuIcon]"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">span</span>&gt;</span></span><span class="template-variable">&#123;&#123;item.menuName&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!--ä¸Šé¢çš„ä¸¤ä¸ªä¾‹å­éƒ½æ²¡æ³•è§¦å‘äº‹ä»¶!--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!--ç©¶å…¶åŸå› ,å°‘äº†ä¸€ä¸ªä¿®é¥°ç¬¦ .native--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"item.menuUrl"</span> @<span class="attr">click.native</span>=<span class="string">"toggleName=''"</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">i</span> <span class="attr">:class</span>=<span class="string">"['fzicon',item.menuIcon]"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">span</span>&gt;</span></span><span class="template-variable">&#123;&#123;item.menuName&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!--æ˜æ˜å®˜æ–¹æ–‡æ¡£æœ‰çš„,ä¸€å †äººä¸æ„¿æ„å»çœ‹,,Fuck--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!--https://cn.vuejs.org/v2/guide/components.html#ç»™ç»„ä»¶ç»‘å®šåŸç”Ÿäº‹ä»¶--&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="Q-provideå’Œinjectæ˜¯ä»€ä¹ˆ"><a href="#Q-provideå’Œinjectæ˜¯ä»€ä¹ˆ" class="headerlink" title="Q: provideå’Œinjectæ˜¯ä»€ä¹ˆ"></a>Q: provideå’Œinjectæ˜¯ä»€ä¹ˆ</h3><p>Vue åœ¨2.2çš„æ—¶å€™,ä¹Ÿæä¾›äº†è¯¥æ¦‚å¿µã€‚ç±»æ¯”ng providerå’Œreact context;</p><h3 id="Q-æˆ‘ç”¨äº†-axios-ä¸ºä»€ä¹ˆ-IE-æµè§ˆå™¨ä¸è¯†åˆ«-IE9"><a href="#Q-æˆ‘ç”¨äº†-axios-ä¸ºä»€ä¹ˆ-IE-æµè§ˆå™¨ä¸è¯†åˆ«-IE9" class="headerlink" title="Q:æˆ‘ç”¨äº† axios , ä¸ºä»€ä¹ˆ IE æµè§ˆå™¨ä¸è¯†åˆ«(IE9+)"></a>Q:æˆ‘ç”¨äº† axios , ä¸ºä»€ä¹ˆ IE æµè§ˆå™¨ä¸è¯†åˆ«(IE9+)</h3><p>é‚£æ˜¯å› ä¸º IE æ•´ä¸ªå®¶æ—éƒ½ä¸æ”¯æŒ promise, è§£å†³æ–¹æ¡ˆ:</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">npm</span> <span class="selector-tag">install</span> <span class="selector-tag">es6-promise</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨ main.js å¼•å…¥å³å¯</span></span><br><span class="line"><span class="comment">// ES6çš„polyfill</span></span><br><span class="line"><span class="selector-tag">require</span>(<span class="string">"es6-promise"</span>)<span class="selector-class">.polyfill</span>();</span><br></pre></td></tr></table></figure><h3 id="Q-æˆ‘åœ¨å‡½æ•°å†…ç”¨äº†this-xxx-ä¸ºä»€ä¹ˆæŠ›å‡ºCannot-set-property-â€˜xxxâ€™-of-undefined"><a href="#Q-æˆ‘åœ¨å‡½æ•°å†…ç”¨äº†this-xxx-ä¸ºä»€ä¹ˆæŠ›å‡ºCannot-set-property-â€˜xxxâ€™-of-undefined" class="headerlink" title="Q:æˆ‘åœ¨å‡½æ•°å†…ç”¨äº†this.xxx=,ä¸ºä»€ä¹ˆæŠ›å‡ºCannot set property â€˜xxxâ€™ of undefined;"></a>Q:æˆ‘åœ¨å‡½æ•°å†…ç”¨äº†this.xxx=,ä¸ºä»€ä¹ˆæŠ›å‡ºCannot set property â€˜xxxâ€™ of undefined;</h3><p>è¿™åˆæ˜¯thisçš„å¥—è·¯äº†,thisæ˜¯å’Œå½“å‰è¿è¡Œçš„ä¸Šä¸‹æ–‡ç»‘å®šçš„,</p><p>ä¸€èˆ¬ä½ åœ¨axiosæˆ–è€…å…¶ä»– promise , æˆ–è€…setInterval<br>è¿™äº›é»˜è®¤éƒ½æ˜¯æŒ‡å‘æœ€å¤–å±‚çš„å…¨å±€é’©å­.</p><p>ç®€å•ç‚¹è¯´:â€æœ€å¤–å±‚çš„ä¸Šä¸‹æ–‡å°±æ˜¯ window,vueå†…åˆ™æ˜¯ Vue å¯¹è±¡è€Œä¸æ˜¯å®ä¾‹!â€;<br>è§£å†³æ–¹æ¡ˆ:</p><ul><li>æš‚å­˜æ³•: å‡½æ•°å†…å…ˆç¼“å­˜ this , let that = this;(letæ˜¯ es6, es5ç”¨ var)</li><li>ç®­å¤´å‡½æ•°: ä¼šå¼ºè¡Œå…³è”å½“å‰è¿è¡ŒåŒºåŸŸä¸º this çš„ä¸Šä¸‹æ–‡;</li></ul><p>thisçš„çŸ¥è¯†, è¯»â€&lt;&lt;ä½ ä¸çŸ¥é“çš„ JS ç³»åˆ—&gt;&gt;â€æœ€ä¸ºåˆé€‚äº†,é‡Œé¢è®²çš„å¾ˆæ¸…æ¥š</p><h3 id="Q-æˆ‘çœ‹ä¸€äº›Vueæ•™ç¨‹æœ‰è¿™ä¹ˆäº›å†™æ³•-æ˜¯ä»€ä¹ˆæ„æ€-click-prevent-v-demo-a-b"><a href="#Q-æˆ‘çœ‹ä¸€äº›Vueæ•™ç¨‹æœ‰è¿™ä¹ˆäº›å†™æ³•-æ˜¯ä»€ä¹ˆæ„æ€-click-prevent-v-demo-a-b" class="headerlink" title="Q:æˆ‘çœ‹ä¸€äº›Vueæ•™ç¨‹æœ‰è¿™ä¹ˆäº›å†™æ³•,æ˜¯ä»€ä¹ˆæ„æ€@click.prevent,v-demo.a.b;"></a>Q:æˆ‘çœ‹ä¸€äº›Vueæ•™ç¨‹æœ‰è¿™ä¹ˆäº›å†™æ³•,æ˜¯ä»€ä¹ˆæ„æ€@click.prevent,v-demo.a.b;</h3><p>@click.prevent : äº‹ä»¶+ä¿®é¥°ç¬¦ , ä½œç”¨å°±æ˜¯ç‚¹å‡»ä½†åˆé˜»æ­¢é»˜è®¤è¡Œä¸º</p><p>v-demo.a.b: è‡ªå®šä¹‰æŒ‡ä»¤+ä¿®é¥°ç¬¦.<br>å…·ä½“çœ‹ä½ ä»€ä¹ˆæŒ‡ä»¤äº†,ä¿®é¥°ç¬¦çš„ä½œç”¨å¤§å¤šæ˜¯ç»™äº‹ä»¶å¢åŠ ä¸€äº›ç¡®åˆ‡çš„æ‹“å±•åŠŸèƒ½</p><p>æ¯”å¦‚é˜»æ­¢äº‹ä»¶å†’æ³¡,é˜»æ­¢é»˜è®¤è¡Œä¸º,è®¿é—®åˆ°åŸç”Ÿæ§ä»¶,ç»“åˆé”®ç›˜å¿«æ·é”®ç­‰ç­‰</p><p>ä¼ é€é—¨:<a href="https://cn.vuejs.org/v2/guide/events.html#%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6" target="_blank" rel="noopener">äº‹ä»¶ä¿®é¥°ç¬¦</a>;</p><p>å¯ä»¥è‡ªå®šä¹‰ä¿®é¥°ç¬¦ä¹ˆ?ä¹Ÿæ˜¯å¯ä»¥çš„,</p><p>å¯ä»¥é€šè¿‡å…¨å±€ config.keyCodes å¯¹è±¡è‡ªå®šä¹‰é”®å€¼ä¿®é¥°ç¬¦åˆ«åï¼š</p><h3 id="Q-ä¸ºä»€ä¹ˆæˆ‘çš„å¼•å…¥çš„å°å›¾ç‰‡æ¸²æŸ“å‡ºæ¥å´æ˜¯-data-image-png-base64xxxxxxxx"><a href="#Q-ä¸ºä»€ä¹ˆæˆ‘çš„å¼•å…¥çš„å°å›¾ç‰‡æ¸²æŸ“å‡ºæ¥å´æ˜¯-data-image-png-base64xxxxxxxx" class="headerlink" title="Q:ä¸ºä»€ä¹ˆæˆ‘çš„å¼•å…¥çš„å°å›¾ç‰‡æ¸²æŸ“å‡ºæ¥å´æ˜¯ data:image/png;base64xxxxxxxx"></a>Q:ä¸ºä»€ä¹ˆæˆ‘çš„å¼•å…¥çš„å°å›¾ç‰‡æ¸²æŸ“å‡ºæ¥å´æ˜¯ data:image/png;base64xxxxxxxx</h3><p>è¿™ä¸ªæ˜¯ webpack é‡Œé¢çš„å¯¹åº”æ’ä»¶å¤„ç†çš„.</p><p>å¯¹äºå°äºå¤šå°‘ K ä»¥ä¸‹çš„å›¾ç‰‡(è§„å®šçš„æ ¼å¼)ç›´æ¥è½¬ä¸º base64æ ¼å¼æ¸²æŸ“;</p><p>å…·ä½“é…ç½®åœ¨webpack.base.conf.jsé‡Œé¢çš„ rulesé‡Œé¢çš„ url-loader</p><p>è¿™æ ·åšçš„å¥½å¤„:åœ¨ç½‘é€Ÿä¸å¥½çš„æ—¶å€™å…ˆäºå†…å®¹åŠ è½½å’Œå‡å°‘httpçš„è¯·æ±‚æ¬¡æ•°æ¥å‡å°‘ç½‘ç«™æœåŠ¡å™¨çš„è´Ÿæ‹…ã€‚</p><h3 id="Q-Component-template-shold-contain-exactly-one-root-element-If-you-are-useing-v-if-on-multiple-elements-xxxxx"><a href="#Q-Component-template-shold-contain-exactly-one-root-element-If-you-are-useing-v-if-on-multiple-elements-xxxxx" class="headerlink" title="Q:Component template shold contain exactly one root element.If you are useing v-if on multiple elements , xxxxx"></a>Q:Component template shold contain exactly one root element.If you are useing v-if on multiple elements , xxxxx</h3><p>å¤§ä½“å°±æ˜¯è¯´,å•ç»„ä»¶æ¸²æŸ“ DOM åŒºåŸŸå¿…é¡»è¦æœ‰ä¸€ä¸ªæ ¹å…ƒç´ ,æœ€å¤–å±‚æ·»åŠ <div></div></p><p>å¯ä»¥ç”¨v-ifå’Œv-else-ifæŒ‡ä»¤æ¥æ§åˆ¶å…¶ä»–å…ƒç´ è¾¾åˆ°å¹¶å­˜çš„çŠ¶æ€</p><h3 id="Q-è·¨åŸŸé—®é¢˜æ€ä¹ˆç ´"><a href="#Q-è·¨åŸŸé—®é¢˜æ€ä¹ˆç ´" class="headerlink" title="Q:è·¨åŸŸé—®é¢˜æ€ä¹ˆç ´!"></a>Q:è·¨åŸŸé—®é¢˜æ€ä¹ˆç ´!</h3><p>æ¯”å¦‚No â€˜Access-Control-Allow-Originâ€™ header is present on the requested resource.<br>è¿™ç§é—®é¢˜è€ç”Ÿå¸¸è°ˆäº†,æˆ‘å°±ä¸ç»†è¯´äº†,å¤§ä½“è¯´ä¸€ä¸‹;</p><ul><li><p>1: CORS , å‰åç«¯éƒ½è¦å¯¹åº”å»é…ç½®,IE10+</p></li><li><p>2: nginx åå‘ä»£ç†,ä¸€åŠ³æ°¸é€¸ï¼Œçº¿ä¸Šç¯å¢ƒå¯ä»¥ç”¨è¿™ä¸ª</p></li></ul><p>çº¿ä¸‹å¼€å‘æ¨¡å¼,æ¯”å¦‚ä½ ç”¨äº†vue-cli, é‡Œé¢çš„ webpack æœ‰å¼•å…¥äº†proxyTableè¿™ä¹ˆä¸ªç©æ„,<br>ä¹Ÿå¯ä»¥åšæ¥å£åå‘ä»£ç†</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨ config ç›®å½•ä¸‹çš„index.js</span></span><br><span class="line"></span><br><span class="line"><span class="symbol">proxyTable:</span> &#123;</span><br><span class="line">  <span class="string">"/bp-api"</span>: &#123;</span><br><span class="line"><span class="symbol">    target:</span> <span class="string">"http://new.d.st.cn"</span>,</span><br><span class="line"><span class="symbol">    changeOrigin:</span> true,</span><br><span class="line">    <span class="comment">// pathRewrite: &#123;</span></span><br><span class="line">    <span class="comment">//   "^/bp-api": "/"</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// target : å°±æ˜¯ api çš„ä»£ç†çš„å®é™…è·¯å¾„</span></span><br><span class="line"><span class="comment">// changeOrigin: å°±æ˜¯æ˜¯å˜æº,å¿…é¡»æ˜¯,</span></span><br><span class="line"><span class="comment">// pathRewrite : å°±æ˜¯è·¯å¾„é‡å®šå‘,ä¸€çœ‹å°±çŸ¥é“</span></span><br></pre></td></tr></table></figure><p>å½“ç„¶è¿˜æœ‰ä¾æ—§åšæŒºçš„jsonpå¤§æ³•!ä¸è¿‡å±€é™æ€§æ¯”è¾ƒå¤š,æ¯”è¾ƒé€‚åˆä¸€äº›ç‰¹æ®Šçš„ä¿¡æ¯è·å–!</p><h3 id="Q-æˆ‘éœ€è¦éå†çš„æ•°ç»„å€¼æ›´æ–°äº†-å€¼ä¹Ÿèµ‹å€¼äº†-ä¸ºä»€ä¹ˆè§†å›¾ä¸æ›´æ–°"><a href="#Q-æˆ‘éœ€è¦éå†çš„æ•°ç»„å€¼æ›´æ–°äº†-å€¼ä¹Ÿèµ‹å€¼äº†-ä¸ºä»€ä¹ˆè§†å›¾ä¸æ›´æ–°" class="headerlink" title="Q:æˆ‘éœ€è¦éå†çš„æ•°ç»„å€¼æ›´æ–°äº†,å€¼ä¹Ÿèµ‹å€¼äº†,ä¸ºä»€ä¹ˆè§†å›¾ä¸æ›´æ–°!"></a>Q:æˆ‘éœ€è¦éå†çš„æ•°ç»„å€¼æ›´æ–°äº†,å€¼ä¹Ÿèµ‹å€¼äº†,ä¸ºä»€ä¹ˆè§†å›¾ä¸æ›´æ–°!</h3><p>é‚£æ˜¯å› ä¸ºæœ‰å±€é™æ€§å•Š,å®˜æ–¹æ–‡æ¡£ä¹Ÿè¯´çš„å¾ˆæ¸…æ¥š,</p><p>åªæœ‰ä¸€äº›é­”æ”¹çš„ä¹‹åçš„æ–¹æ³•æä¾›è·ŸåŸç”Ÿä¸€æ ·çš„ä½¿ç”¨å§¿åŠ¿(å¯ä»¥è§¦å‘è§†å›¾æ›´æ–°);</p><p>ä¸€èˆ¬æˆ‘ä»¬æ›´å¸¸ç”¨(é™¤äº†é­”æ”¹æ–¹æ³•)çš„æ‰‹æ®µæ˜¯ä½¿ç”¨:this.$set(obj,item,value);</p><p>ä¼ é€é—¨:<a href="https://cn.vuejs.org/v2/guide/list.html#%E6%95%B0%E7%BB%84%E6%9B%B4%E6%96%B0%E6%A3%80%E6%B5%8B" target="_blank" rel="noopener">æ•°ç»„æ›´æ–°æ£€æµ‹(è§¦å‘è§†å›¾æ›´æ–°)</a></p><h3 id="Q-ä¸ºä»€ä¹ˆæˆ‘çš„ç»„ä»¶é—´çš„æ ·å¼ä¸èƒ½ç»§æ‰¿æˆ–è€…è¦†å†™å•Š"><a href="#Q-ä¸ºä»€ä¹ˆæˆ‘çš„ç»„ä»¶é—´çš„æ ·å¼ä¸èƒ½ç»§æ‰¿æˆ–è€…è¦†å†™å•Š" class="headerlink" title="Q:ä¸ºä»€ä¹ˆæˆ‘çš„ç»„ä»¶é—´çš„æ ·å¼ä¸èƒ½ç»§æ‰¿æˆ–è€…è¦†å†™å•Š!"></a>Q:ä¸ºä»€ä¹ˆæˆ‘çš„ç»„ä»¶é—´çš„æ ·å¼ä¸èƒ½ç»§æ‰¿æˆ–è€…è¦†å†™å•Š!</h3><p>å•ç»„ä»¶å¼€å‘æ¨¡å¼ä¸‹,è¯·ç¡®è®¤æ˜¯å¦å¼€å¯äº† CSSæ¨¡å—åŒ–åŠŸèƒ½!!</p><p>ä¹Ÿå°±æ˜¯scoped(vue-cli é‡Œé¢é…ç½®äº†,åªè¦åŠ å…¥è¿™ä¸ªå±æ€§å°±è‡ªåŠ¨å¯ç”¨)</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"scss"</span> <span class="attr">scoped</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆä¸èƒ½ç®€å•çš„ç»§æ‰¿æˆ–è€…è¦†å†™å‘¢,æ˜¯å› ä¸ºæ¯ä¸ªç±»æˆ–è€… id ä¹ƒè‡³æ ‡ç­¾éƒ½ä¼šç»™è‡ªåŠ¨åœ¨cssåé¢æ·»åŠ è‡ªå®šä¹‰å±æ€§hash!<br>æ¯”å¦‚</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//</span> å†™çš„æ—¶å€™æ˜¯è¿™ä¸ª</span><br><span class="line"><span class="string">.trangle</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">//</span> ç¼–è¯‘è¿‡å,åŠ ä¸Šäº† hash</span><br><span class="line"><span class="string">.trangle</span>[data-v-1ec35ffc]&#123;&#125;</span><br></pre></td></tr></table></figure><p>è¿™äº›éƒ½æ˜¯åœ¨ css-loader é‡Œé¢é…ç½®!</p><h3 id="Q-è·¯ç”±æ¨¡å¼æ”¹ä¸ºhistoryå-é™¤äº†é¦–æ¬¡å¯åŠ¨é¦–é¡µæ²¡æŠ¥é”™-åˆ·æ–°è®¿é—®è·¯ç”±éƒ½æŠ¥é”™"><a href="#Q-è·¯ç”±æ¨¡å¼æ”¹ä¸ºhistoryå-é™¤äº†é¦–æ¬¡å¯åŠ¨é¦–é¡µæ²¡æŠ¥é”™-åˆ·æ–°è®¿é—®è·¯ç”±éƒ½æŠ¥é”™" class="headerlink" title="Q:è·¯ç”±æ¨¡å¼æ”¹ä¸ºhistoryå,é™¤äº†é¦–æ¬¡å¯åŠ¨é¦–é¡µæ²¡æŠ¥é”™,åˆ·æ–°è®¿é—®è·¯ç”±éƒ½æŠ¥é”™!"></a>Q:è·¯ç”±æ¨¡å¼æ”¹ä¸ºhistoryå,é™¤äº†é¦–æ¬¡å¯åŠ¨é¦–é¡µæ²¡æŠ¥é”™,åˆ·æ–°è®¿é—®è·¯ç”±éƒ½æŠ¥é”™!</h3><p>å¿…é¡»ç»™å¯¹åº”çš„æœåŠ¡ç«¯é…ç½®æŸ¥è¯¢çš„ä¸»é¡µé¢,ä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯ä¸»è·¯ç”±å…¥å£çš„å¼•å¯¼</p><p>å®˜æ–¹æ–‡æ¡£ä¹Ÿæœ‰,ä¸ºæ¯›æ€»æœ‰äººä¸å–œæ¬¢å»çœ‹æ–‡æ¡£,æ€»å–œæ¬¢åšä¼¸æ‰‹å…š,FUCK<br>ä¼ é€é—¨ : <a href="https://router.vuejs.org/zh/guide/essentials/history-mode.html" target="_blank" rel="noopener">Vue-Router history Mode</a></p><h3 id="Q-æˆ‘æƒ³æ‹¦æˆªé¡µé¢-æˆ–è€…åœ¨é¡µé¢è¿›æ¥ä¹‹å‰åšä¸€äº›äº‹æƒ…-å¯ä»¥ä¹ˆ"><a href="#Q-æˆ‘æƒ³æ‹¦æˆªé¡µé¢-æˆ–è€…åœ¨é¡µé¢è¿›æ¥ä¹‹å‰åšä¸€äº›äº‹æƒ…-å¯ä»¥ä¹ˆ" class="headerlink" title="Q:æˆ‘æƒ³æ‹¦æˆªé¡µé¢,æˆ–è€…åœ¨é¡µé¢è¿›æ¥ä¹‹å‰åšä¸€äº›äº‹æƒ…,å¯ä»¥ä¹ˆ?"></a>Q:æˆ‘æƒ³æ‹¦æˆªé¡µé¢,æˆ–è€…åœ¨é¡µé¢è¿›æ¥ä¹‹å‰åšä¸€äº›äº‹æƒ…,å¯ä»¥ä¹ˆ?</h3><p>Of course !!<br>å„ç§è·¯ç”±å™¨çš„é’©å­!! ä¼ é€é—¨: <a href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html" target="_blank" rel="noopener">å¯¼èˆªå®ˆå«</a>;</p><p>å½“ç„¶,è®°å¿†æ»šåŠ¨çš„ä½ç½®ä¹Ÿå¯ä»¥åšåˆ°,è¯¦æƒ…ç¿»ç¿»é‡Œé¢çš„æ–‡æ¡£</p><h3 id="Q-TypeError-xxx-is-not-a-function"><a href="#Q-TypeError-xxx-is-not-a-function" class="headerlink" title="Q:TypeError: xxx is not a function"></a>Q:TypeError: xxx is not a function</h3><p>è¿™ç§é—®é¢˜æ˜æ˜¾å°±æ˜¯å†™æ³•æœ‰é—®é¢˜,èƒ½ä¸èƒ½åŠ¨ç‚¹è„‘å­!!</p><h3 id="Q-èƒ½ä¸èƒ½è·¨çº§æ‹¿åˆ°props"><a href="#Q-èƒ½ä¸èƒ½è·¨çº§æ‹¿åˆ°props" class="headerlink" title="Q: èƒ½ä¸èƒ½è·¨çº§æ‹¿åˆ°props"></a>Q: èƒ½ä¸èƒ½è·¨çº§æ‹¿åˆ°props</h3><p>è¿™ç§æƒ…å†µæ˜¯é¢å‘åµŒå¥—å±‚æ¬¡å¾ˆæ·±çš„ç»„ä»¶ï¼Œåˆè¦æ‹¿åˆ°ä¸Šå±‚çš„çˆ¶ä¼ é€’çš„ä¸œä¸œï¼Œ</p><p>å¯ä»¥ç”¨$attrs æˆ–è€…inject + provideæ¥å®ç°</p><h3 id="Q-Uncaught-ReferenceError-xxx-is-not-define"><a href="#Q-Uncaught-ReferenceError-xxx-is-not-define" class="headerlink" title="Q:Uncaught ReferenceError: xxx is not define"></a>Q:Uncaught ReferenceError: xxx is not define</h3><ul><li>å®ä¾‹å†…çš„ data å¯¹åº”çš„å˜é‡æ²¡æœ‰å£°æ˜</li><li>ä½ å¯¼å…¥æ¨¡å—æŠ¥è¿™ä¸ªé”™è¯¯,é‚£ç»é€¼æ˜¯å¯¼å‡ºæ²¡å†™å¥½</li></ul><h3 id="Q-Error-in-render-function-â€Type-Error-Cannot-read-property-â€˜xxxâ€™-of-undefinedâ€"><a href="#Q-Error-in-render-function-â€Type-Error-Cannot-read-property-â€˜xxxâ€™-of-undefinedâ€" class="headerlink" title="Q:Error in render function:â€Type Error: Cannot read property â€˜xxxâ€™ of undefinedâ€"></a>Q:Error in render function:â€Type Error: Cannot read property â€˜xxxâ€™ of undefinedâ€</h3><p>è¿™ç§é—®é¢˜å¤§å¤šéƒ½æ˜¯åˆå§‹åŒ–çš„å§¿åŠ¿ä¸å¯¹;</p><p>æ¯”å¦‚å¼•å…¥echartè¿™äº›,ä»”ç»†å»äº†è§£ä¸‹ç”Ÿå‘½å‘¨æœŸ,å†æ¥å…·ä½“åˆå§‹åŒ–;</p><p>vue ç»„ä»¶æœ‰æ—¶å€™ä¹Ÿä¼š(åµŒå¥—ç»„ä»¶æˆ–è€… propsä¼ é€’åˆå§‹åŒ–),ä¹Ÿæ˜¯åŸºæœ¬è¿™ä¸ªé—®é¢˜</p><h3 id="Q-Unexpected-token-operator-xxxxx"><a href="#Q-Unexpected-token-operator-xxxxx" class="headerlink" title="Q:Unexpected token: operator xxxxx"></a>Q:Unexpected token: operator xxxxx</h3><p>å¤§ä½¬,è¿™ä¸ªä¸€çœ‹å°±æ˜¯è¯­æ³•é”™è¯¯å•Š.<br>åŸºæœ¬éƒ½æ˜¯ç¬¦å·é—®é¢˜.<br>ä¸€èˆ¬æŠ¥é”™ä¼šç»™å‡ºå“ªä¸€è¡Œæˆ–è€…å“ªä¸ªç»„ä»¶</p><h3 id="Q-npm-run-buildä¹‹åä¸èƒ½ç›´æ¥è®¿é—®"><a href="#Q-npm-run-buildä¹‹åä¸èƒ½ç›´æ¥è®¿é—®" class="headerlink" title="Q:npm run buildä¹‹åä¸èƒ½ç›´æ¥è®¿é—®"></a>Q:npm run buildä¹‹åä¸èƒ½ç›´æ¥è®¿é—®</h3><p>å¤§ä½¬!ä½ æœ€èµ·ç å¾—åœ¨æœ¬åœ°æ­ä¸ªæœåŠ¡å™¨æ‰èƒ½è®¿é—®å¥½ä¹ˆ!!</p><h3 id="Q-æ“ä½œVueçš„åŸå‹é“¾å¥½ä¹ˆ"><a href="#Q-æ“ä½œVueçš„åŸå‹é“¾å¥½ä¹ˆ" class="headerlink" title="Q: æ“ä½œVueçš„åŸå‹é“¾å¥½ä¹ˆ"></a>Q: æ“ä½œVueçš„åŸå‹é“¾å¥½ä¹ˆ</h3><p>è¿™ä¸ªé—®é¢˜éœ€è¦å…·ä½“æƒ…å†µå…·ä½“åˆ†æï¼›</p><p>æˆ‘çœ‹å¾ˆå¤šäººå–œæ¬¢æŠŠaxiosæŒ‚è½½åˆ°Vue.prototypeä¸Šï¼›</p><p>è¿™æ ·åšæœ‰ä¸€å®šçš„å¼Šç«¯ï¼Œç›¸å½“è€¦åˆï¼Œè‹¥æ˜¯å¤šäººç»´æŠ¤æˆ–è€…æ›¿æ¢å…¶ä»–åº“çš„æ—¶å€™æœ‰ä¸€å®šå›°éš¾ï¼›</p><p>æ¯”è¾ƒå¥½çš„åšæ³•æ˜¯ä¸æŒ‚è½½ï¼Œè€Œæ˜¯å•ç‹¬æœ‰æœåŠ¡è¯·æ±‚çš„æ–‡ä»¶ï¼Œç”¨å‡½æ•°æ¥å°è£…ä½ æ‰€éœ€è¦çš„æ¥å£èšåˆï¼›</p><p>è¿™æ ·ç»Ÿä¸€æš´éœ²å‡½æ•°åï¼Œè€Œå†…éƒ¨å®ç°å¯ä»¥éšä¾¿æ”¹åŠ¨</p><h3 id="Q-CSSbackgroundå¼•å…¥å›¾ç‰‡æ‰“åŒ…å-è®¿é—®è·¯å¾„é”™è¯¯"><a href="#Q-CSSbackgroundå¼•å…¥å›¾ç‰‡æ‰“åŒ…å-è®¿é—®è·¯å¾„é”™è¯¯" class="headerlink" title="Q:CSSbackgroundå¼•å…¥å›¾ç‰‡æ‰“åŒ…å,è®¿é—®è·¯å¾„é”™è¯¯"></a>Q:CSSbackgroundå¼•å…¥å›¾ç‰‡æ‰“åŒ…å,è®¿é—®è·¯å¾„é”™è¯¯</h3><p>å› ä¸ºæ‰“åŒ…åå›¾ç‰‡æ˜¯åœ¨æ ¹ç›®å½•ä¸‹,ä½ ç”¨ç›¸å¯¹è·¯å¾„è‚¯å®šæŠ¥é”™å•Š,</p><p>ä½ å¯ä»¥é­”æ”¹ webpack çš„é…ç½®æ–‡ä»¶é‡Œé¢çš„staticä¸º./static,ä½†æ˜¯ä¸å»ºè®®</p><p>ä½ è‹¥æ˜¯æŠŠå›¾ç‰‡ä»€ä¹ˆä¸¢åˆ°assetsç›®å½•ä¸‹,ç„¶åç›¸å¯¹è·¯å¾„,æ‰“åŒ…åæ˜¯æ­£å¸¸çš„</p><h3 id="Q-å®‰è£…æ¨¡å—æ—¶å‘½ä»¤çª—å£è¾“å‡ºunsupported-platform-xxx"><a href="#Q-å®‰è£…æ¨¡å—æ—¶å‘½ä»¤çª—å£è¾“å‡ºunsupported-platform-xxx" class="headerlink" title="Q:å®‰è£…æ¨¡å—æ—¶å‘½ä»¤çª—å£è¾“å‡ºunsupported platform xxx"></a>Q:å®‰è£…æ¨¡å—æ—¶å‘½ä»¤çª—å£è¾“å‡ºunsupported platform xxx</h3><p>ä¸€èˆ¬ä¸¤ç§æƒ…å†µ,nodeç‰ˆæœ¬ä¸å…¼å®¹,ç³»ç»Ÿä¸å…¼å®¹;</p><p>è§£å†³æ–¹æ¡ˆ: è¦ä¹ˆä¸è£…,è¦ä¹ˆæ»¡è¶³å®‰è£…è¦æ±‚;</p><h3 id="Q-Unexpected-tab-charaterè¿™äº›"><a href="#Q-Unexpected-tab-charaterè¿™äº›" class="headerlink" title="Q:Unexpected tab charaterè¿™äº›"></a>Q:Unexpected tab charaterè¿™äº›</h3><p>ä¸€èˆ¬æ˜¯ä½ ç”¨è„šæ‰‹æ¶åˆå§‹åŒ–çš„æ—¶å€™å¼€äº† eslint ;</p><p>è¦ä¹ˆéµå¾ªè§„åˆ™,è¦ä¹ˆæ”¹å˜è§„åˆ™;</p><p>è¦ä¹ˆç›´æ¥æŠŠ webpack é‡Œé¢çš„ eslint æ£€æµ‹ç»™å…³é—­äº†</p><h3 id="Q-Failed-to-mount-component-template-or-render-function-not-defined"><a href="#Q-Failed-to-mount-component-template-or-render-function-not-defined" class="headerlink" title="Q:Failed to mount component: template or render function not defined"></a>Q:Failed to mount component: template or render function not defined</h3><p>ç»„ä»¶æŒ‚è½½å¤±è´¥,é—®é¢˜åªæœ‰è¿™ä¹ˆå‡ ä¸ªï¼Œç»„ä»¶æ²¡æœ‰æ­£ç¡®å¼•å…¥æˆ–æŒ‚è½½ç‚¹é¡ºåºé”™äº†ã€‚</p><h3 id="Q-Unknown-custom-element-did-you-register-the-component-correctly"><a href="#Q-Unknown-custom-element-did-you-register-the-component-correctly" class="headerlink" title="Q:Unknown custom element:  - did you register the component correctly?"></a>Q:Unknown custom element: <xxx> - did you register the component correctly?</xxx></h3><p>ç»„ä»¶æ²¡æœ‰æ­£ç¡®å¼•å…¥æˆ–è€…æ­£ç¡®ä½¿ç”¨,ä¾æ¬¡ç¡®è®¤</p><ol><li>å¯¼å…¥å¯¹åº”çš„ç»„ä»¶</li><li>åœ¨ components å†…å£°æ˜</li><li>åœ¨ dom åŒºåŸŸå£°æ˜æ ‡ç­¾</li></ol><p>Q: å¦‚ä½•è®©è‡ªå®šä¹‰ç»„ä»¶æ”¯æŒVue.useä½¿ç”¨å‘¢<br>åªè¦æš´éœ²ä¸€ä¸ªinstallå‡½æ•°å³å¯ï¼Œå¤§ä½“å¯ä»¥çœ‹ä¸‹ä»¥ä¸‹ä»£ç ï¼›</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> BtnPopconfirm <span class="keyword">from</span> <span class="string">'./BtnPopconfirm.vue'</span>;</span><br><span class="line">BtnPopconfirm.install = <span class="function"><span class="keyword">function</span>(<span class="params">Vue</span>) </span>&#123;</span><br><span class="line">  Vue.component(BtnPopconfirm.name, BtnPopconfirm);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> BtnPopconfirm;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç„¶åå°±æ”¯æŒVue.useäº†</span></span><br></pre></td></tr></table></figure><h3 id="Q-axiosçš„-post-è¯·æ±‚åå°æ¥å—ä¸åˆ°"><a href="#Q-axiosçš„-post-è¯·æ±‚åå°æ¥å—ä¸åˆ°" class="headerlink" title="Q: axiosçš„ post è¯·æ±‚åå°æ¥å—ä¸åˆ°!"></a>Q: axiosçš„ post è¯·æ±‚åå°æ¥å—ä¸åˆ°!</h3><p>axiosé»˜è®¤æ˜¯ json æ ¼å¼æäº¤,ç¡®è®¤åå°æ˜¯å¦åšäº†å¯¹åº”çš„æ”¯æŒ;<br>è‹¥æ˜¯åªèƒ½æ¥å—ä¼ ç»Ÿçš„è¡¨å•åºåˆ—åŒ–,å°±éœ€è¦è‡ªå·±å†™ä¸€ä¸ªè½¬ä¹‰çš„æ–¹æ³•,<br>å½“ç„¶è¿˜æœ‰ä¸€ä¸ªæ›´åŠ çœäº‹çš„æ–¹æ¡ˆ,è£…ä¸€ä¸ªå°æ¨¡å—qs</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// npm install qs -S</span></span><br><span class="line"><span class="comment">// ç„¶ååœ¨å¯¹åº”çš„åœ°æ–¹è½¬å°±è¡Œäº†,å•ä¸€è¯·æ±‚ä¹Ÿè¡Œ,æ‹¦æˆªå™¨ä¹Ÿè¡Œ,æˆ‘æ˜¯å†™åœ¨æ‹¦æˆªå™¨çš„.</span></span><br><span class="line"><span class="comment">// å…·ä½“å¯ä»¥çœ‹çœ‹æˆ‘ axios å°è£…é‚£ç¯‡æ–‡ç« </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//POSTä¼ å‚åºåˆ—åŒ–(æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨)</span></span><br><span class="line">Axios.interceptors.request.<span class="keyword">use</span>(</span><br><span class="line">  config =&gt; &#123;</span><br><span class="line">    <span class="comment">// åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšæŸä»¶äº‹</span></span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      config.method === <span class="string">"post"</span></span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="comment">// åºåˆ—åŒ–</span></span><br><span class="line">      config.data = qs.stringify(config.data); <span class="comment">// ***** è¿™é‡Œè½¬ä¹‰</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è‹¥æ˜¯æœ‰åšé‰´æƒtoken , å°±ç»™å¤´éƒ¨å¸¦ä¸Štoken</span></span><br><span class="line">    <span class="keyword">if</span> (localStorage.<span class="built_in">token</span>) &#123;</span><br><span class="line">      config.headers.Authorization = localStorage.<span class="built_in">token</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">error</span> =&gt; &#123;</span><br><span class="line">    Message(&#123;</span><br><span class="line">      <span class="comment">//  é¥¿äº†ä¹ˆçš„æ¶ˆæ¯å¼¹çª—ç»„ä»¶,ç±»ä¼¼toast</span></span><br><span class="line">      showClose: true,</span><br><span class="line">      message: <span class="built_in">error</span>,</span><br><span class="line">      <span class="built_in">type</span>: <span class="string">"error.data.error.message"</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> Promise.reject(<span class="built_in">error</span>.data.<span class="built_in">error</span>.message);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="Q-Vueæ”¯æŒjsxçš„å†™æ³•ä¹ˆ"><a href="#Q-Vueæ”¯æŒjsxçš„å†™æ³•ä¹ˆ" class="headerlink" title="Q: Vueæ”¯æŒjsxçš„å†™æ³•ä¹ˆ"></a>Q: Vueæ”¯æŒjsxçš„å†™æ³•ä¹ˆ</h3><p>å¯ä»¥å¾ˆç¡®å®šçš„å‘Šè¯‰ä½ ï¼Œæ˜¯æ”¯æŒçš„ï¼›</p><p>ä½†æ˜¯å’ŒReactæ˜¯æœ‰æ‰€å·®å¼‚çš„ï¼Œè€Œéå®Œå…¨ç­‰åŒçš„ï¼Œå…·ä½“å¯ä»¥çœ‹å®˜æ–¹çš„æ”¯æŒåº“(<a href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html" target="_blank" rel="noopener">github.com/vuejs/jsx</a>)</p><h3 id="Q-Invalid-prop-type-check-failed-for-prop-â€œxxxâ€-Expected-Boolean-got-String"><a href="#Q-Invalid-prop-type-check-failed-for-prop-â€œxxxâ€-Expected-Boolean-got-String" class="headerlink" title="Q: Invalid prop: type check failed for prop â€œxxxâ€. Expected Boolean, got String."></a>Q: Invalid prop: type check failed for prop â€œxxxâ€. Expected Boolean, got String.</h3><p>è¿™ç§é—®é¢˜ä¸€èˆ¬å°±æ˜¯ç»„ä»¶å†…çš„ props ç±»å‹å·²ç»è®¾ç½®äº†æ¥å—çš„èŒƒå›´ç±»å‹,</p><p>è€Œä½ ä¼ é€’çš„å€¼å´åˆä¸æ˜¯å®ƒéœ€è¦çš„ç±»å‹,å†™ä»£ç ä¸¥è°¨äº› OK?</p><h3 id="Q-è¿‡æ»¤å™¨å¯ä»¥ç”¨äºDOMåŒºåŸŸç»“åˆæŒ‡ä»¤ä¹ˆ"><a href="#Q-è¿‡æ»¤å™¨å¯ä»¥ç”¨äºDOMåŒºåŸŸç»“åˆæŒ‡ä»¤ä¹ˆ" class="headerlink" title="Q: è¿‡æ»¤å™¨å¯ä»¥ç”¨äºDOMåŒºåŸŸç»“åˆæŒ‡ä»¤ä¹ˆ?"></a>Q: è¿‡æ»¤å™¨å¯ä»¥ç”¨äºDOMåŒºåŸŸç»“åˆæŒ‡ä»¤ä¹ˆ?</h3><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml">// ä¸è¡Œ,çœ‹ä¸‹é¢çš„é”™è¯¯ä¾‹å­</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(item,index) in range | sortByDesc | spliceText"</span>&gt;</span></span><span class="template-variable">&#123;&#123;item&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">// `vue2+`çš„æŒ‡ä»¤åªèƒ½ç”¨è¯­ mustache`</span><span class="template-variable">&#123;&#123;&#125;&#125;</span><span class="xml">` , æ­£ç¡®å§¿åŠ¿å¦‚ä¸‹:</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span><span class="template-variable">&#123;&#123; message | capitalize &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="Q-Array-mapState-SOME-MUTATION-state-increment-commit-è¿™ç§å†™æ³•æ˜¯ä»€ä¹ˆé¬¼"><a href="#Q-Array-mapState-SOME-MUTATION-state-increment-commit-è¿™ç§å†™æ³•æ˜¯ä»€ä¹ˆé¬¼" class="headerlink" title="Q: [,Array],,mapState,[SOME_MUTATION] (state) {},increment ({ commit }) {}è¿™ç§å†™æ³•æ˜¯ä»€ä¹ˆé¬¼!"></a>Q: [,Array],,mapState,[SOME_MUTATION] (state) {},increment ({ commit }) {}è¿™ç§å†™æ³•æ˜¯ä»€ä¹ˆé¬¼!</h3><p>å‡ºé—¨å·¦æ‹,ES6+(ES2015+)çš„åŸºç¡€å»è¿‡ä¸€é,</p><p>ä¸Šé¢ä¾æ¬¡:æ•°ç»„è§£æ„,å¯¹è±¡è§£æ„,å¯¹è±¡é£æ ¼å‡½æ•°,å¯¹è±¡è§£æ„èµ‹å€¼ä¼ é€’</p><h3 id="Q-æˆ‘çš„-Vue-ç½‘ç«™ä¸ºä»€ä¹ˆ-UC-è®¿é—®ä¸€ç‰‡ç©ºç™½äº¦æˆ–è€…flexå¸ƒå±€é”™ä¹±"><a href="#Q-æˆ‘çš„-Vue-ç½‘ç«™ä¸ºä»€ä¹ˆ-UC-è®¿é—®ä¸€ç‰‡ç©ºç™½äº¦æˆ–è€…flexå¸ƒå±€é”™ä¹±" class="headerlink" title="Q: æˆ‘çš„ Vue ç½‘ç«™ä¸ºä»€ä¹ˆ UC è®¿é—®ä¸€ç‰‡ç©ºç™½äº¦æˆ–è€…flexå¸ƒå±€é”™ä¹±!!"></a>Q: æˆ‘çš„ Vue ç½‘ç«™ä¸ºä»€ä¹ˆ UC è®¿é—®ä¸€ç‰‡ç©ºç™½äº¦æˆ–è€…flexå¸ƒå±€é”™ä¹±!!</h3><p>æ¥æ¥æ¥,å¢™è§’èµ°èµ·,. UC å·ç§°ç§»åŠ¨ç•Œçš„ IE è¿™ç§°å·ä¸æ˜¯ç™½å«çš„</p><ul><li>flexbox å¸ƒå±€é”™ä¹±,ä¸€èˆ¬æ˜¯ä½ æ²¡æœ‰æŠŠå…¼å®¹æ–¹æ¡ˆå†™ä¸Š,å°±æ˜¯å¸¦å„ç§å‰ç¼€,å¤åˆå±æ€§æ‹†åˆ†ï¼Œå¼•å…¥ autoprefixer, å†™ä¸Šå…¼å®¹èŒƒå›´å°±å¥½äº†.</li><li>UCè®¿é—®ç©ºç™½, æœ‰ä¸€ç§æƒ…å†µç»å¯¹ä¼šé€ æˆ,é‚£å°±æ˜¯ ES6çš„ä»£ç é™çº§ä¸å¤Ÿå½»åº•. å…¶ä»–æƒ…å†µå¯èƒ½å°±æ˜¯è·¯ç”±é…ç½®é—®é¢˜(è‡ªå·±å»æ’é™¤)</li><li>ç°åœ¨çš„å¼€å‘éƒ½æ¨èæŒ‰éœ€å¼•å…¥,é babel-preset-env æ¥æ§åˆ¶,ä»¥è¾¾åˆ°æ‰“åŒ…ä½“ç§¯å‡å°.</li><li>ä½†æ˜¯è¿™æ ·åšçš„åæœ,æœ‰äº›å†…æ ¸æ¯”è¾ƒè€çš„,å˜¿å˜¿,æ‹œæ‹œ,</li><li>æ‰€ä»¥æœ€å¥½æŠŠä»£ç å®Œå…¨ ES5è¯!!è®°ä½æœ‰äº›ç‰¹æ€§ä¸èƒ½ä¹±ä½¿ç”¨,æ²¡æœ‰å¯¹åº”çš„ polyfill,æ¯”å¦‚ ES6 çš„proxy</li></ul><h3 id="Q-this-set-this-xxx-è¿™ä¸ª-æ˜¯ä¸ªä»€ä¹ˆæ„æ€-æ˜¯-jQueryçš„ä¹ˆ-ä¼šå†²çªä¹ˆ"><a href="#Q-this-set-this-xxx-è¿™ä¸ª-æ˜¯ä¸ªä»€ä¹ˆæ„æ€-æ˜¯-jQueryçš„ä¹ˆ-ä¼šå†²çªä¹ˆ" class="headerlink" title="Q:this.$set | this.$xxx è¿™ä¸ª $ æ˜¯ä¸ªä»€ä¹ˆæ„æ€?æ˜¯ jQueryçš„ä¹ˆ,ä¼šå†²çªä¹ˆ?"></a>Q:this.$set | this.$xxx è¿™ä¸ª $ æ˜¯ä¸ªä»€ä¹ˆæ„æ€?æ˜¯ jQueryçš„ä¹ˆ,ä¼šå†²çªä¹ˆ?</h3><p>ä¸”çœ‹æˆ‘ç»†ç»†é“æ¥.</p><p>Vue çš„$å’Œ jQuery çš„$å¹¶æ²¡æœ‰åŠæ¯›é’±çš„å…³ç³»,å°±è·Ÿjavascriptå’Œjavaä¸€æ ·.</p><p>Vue çš„$æ˜¯å°è£…äº†ä¸€äº› vue çš„å†…å»ºå‡½æ•°,ç„¶åå¯¼å‡ºä»¥$å¼€å¤´,è¿™æ˜¾ç„¶å¹¶ä¸æ˜¯ jQueryçš„ä¸“åˆ©;</p><p>jQuery çš„$æ˜¯é€‰æ‹©å™¨!!å–å¾— DOMåŒºåŸŸ,ä¸¤è€…çš„ä½œç”¨å®Œå…¨ä¸ä¸€è‡´!</p><h3 id="Q-Module-not-found-Error-Canâ€™t-resolve-â€˜xxx-loaderâ€™-in-xxxx"><a href="#Q-Module-not-found-Error-Canâ€™t-resolve-â€˜xxx-loaderâ€™-in-xxxx" class="headerlink" title="Q:Module not found: Error : Canâ€™t resolve â€˜xxx-loaderâ€™ in xxxx"></a>Q:Module not found: Error : Canâ€™t resolve â€˜xxx-loaderâ€™ in xxxx</h3><p>è¿™é‡Œé—®é¢˜ä¸€èˆ¬å°±æ˜¯webpackçš„é…ç½®æ–‡ä»¶ä½ æ”¹åŠ¨äº†æˆ–å¯¹åº”çš„loader æ²¡æœ‰è£…ä¸Š</p><h3 id="Q-çˆ¶ç»„ä»¶å¯ä»¥ç›´æ¥è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•ä¹ˆ"><a href="#Q-çˆ¶ç»„ä»¶å¯ä»¥ç›´æ¥è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•ä¹ˆ" class="headerlink" title="Q: çˆ¶ç»„ä»¶å¯ä»¥ç›´æ¥è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•ä¹ˆ!"></a>Q: çˆ¶ç»„ä»¶å¯ä»¥ç›´æ¥è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•ä¹ˆ!</h3><p>å¯ä»¥,é€šè¿‡$refsæˆ–è€…$chilrenæ¥æ‹¿åˆ°å¯¹åº”çš„å®ä¾‹,ä»è€Œæ“ä½œ</p><h3 id="Q-Error-in-event-handler-for-â€œclickâ€-â€xxxâ€"><a href="#Q-Error-in-event-handler-for-â€œclickâ€-â€xxxâ€" class="headerlink" title="Q:Error in event handler for â€œclickâ€:â€xxxâ€"></a>Q:Error in event handler for â€œclickâ€:â€xxxâ€</h3><p>è¿™ä¸ªé—®é¢˜å¤§å¤šéƒ½æ˜¯ä½ å†™çš„ä»£ç æœ‰é—®é¢˜.ä½ çš„äº‹ä»¶è§¦å‘äº†.</p><p>ä½†æ˜¯ç»„ä»¶å†…éƒ¨ç¼ºå°‘å¯¹åº”çš„å®ç°æˆ–è€…å˜é‡,æ‰€ä»¥æŠ›å‡ºäº‹ä»¶é”™è¯¯.</p><p>è§£å†³æ–¹æ¡ˆ:çœ‹ç€æŠ¥é”™æ…¢æ…¢æ’æŸ¥</p><h3 id="Q-ç»„ä»¶çš„é€šè®¯æœ‰å“ªå‡ ç§å•Š"><a href="#Q-ç»„ä»¶çš„é€šè®¯æœ‰å“ªå‡ ç§å•Š" class="headerlink" title="Q: ç»„ä»¶çš„é€šè®¯æœ‰å“ªå‡ ç§å•Š!"></a>Q: ç»„ä»¶çš„é€šè®¯æœ‰å“ªå‡ ç§å•Š!</h3><p>åŸºæœ¬æœ€å¸¸ç”¨çš„æ˜¯è¿™ä¸‰ç§;</p><ol><li>çˆ¶ä¼ å­: props</li><li>å­ä¼ çˆ¶: emit</li><li>å…„å¼Ÿé€šè®¯:<ul><li>event bus: å°±æ˜¯æ‰¾ä¸€ä¸ªä¸­é—´ç»„ä»¶æ¥ä½œä¸ºä¿¡æ¯ä¼ é€’ä¸­ä»‹</li><li>vuex: ä¿¡æ¯æ ‘</li></ul></li></ol><p>ä¼ é€é—¨:</p><p>åŸºæœ¬é€šè®¯<br><a href="https://vuex.vuejs.org/zh/guide/" target="_blank" rel="noopener">Vuex</a></p><h3 id="Q-æ—¢ç„¶localStorageå’ŒsessionStorageèƒ½åšåˆ°æ•°æ®ç»´æŠ¤-ä¸ºä»€ä¹ˆè¿˜è¦å¼•å…¥vuex"><a href="#Q-æ—¢ç„¶localStorageå’ŒsessionStorageèƒ½åšåˆ°æ•°æ®ç»´æŠ¤-ä¸ºä»€ä¹ˆè¿˜è¦å¼•å…¥vuex" class="headerlink" title="Q:æ—¢ç„¶localStorageå’ŒsessionStorageèƒ½åšåˆ°æ•°æ®ç»´æŠ¤,ä¸ºä»€ä¹ˆè¿˜è¦å¼•å…¥vuex!"></a>Q:æ—¢ç„¶localStorageå’ŒsessionStorageèƒ½åšåˆ°æ•°æ®ç»´æŠ¤,ä¸ºä»€ä¹ˆè¿˜è¦å¼•å…¥vuex!</h3><p>è¿™ä¸ªé—®é¢˜é—®å¾—å¥½,Vuexçš„ç›®çš„ç”¨æ¥ç»´æŠ¤åŒçº§ç»„ä»¶é—´çš„æ•°æ®é€šè®¯,æ‹¥æœ‰ä¸€ä¸ªå…±åŒçš„çŠ¶æ€æ ‘;</p><p>ä»…ä»…æ´»åœ¨SPAçš„é‡Œé¢çš„<strong>ä¼ªå¤šé¡µ(è·¯ç”±)</strong>å†…,<br>è¿™ç§ä¸œä¸œæ˜æ˜ç„¶localStorageå’ŒsessionStorage</p><p>ä¹Ÿå¯ä»¥åšåˆ°,è¿˜èƒ½åšåˆ°è·¨é¡µé¢æ•°æ®ç»´æŠ¤,è¿˜ä¸ä¼šè¢«æµè§ˆå™¨åˆ·æ–°å¹²æ‰,</p><p>ä¸ºä»€ä¹ˆè¿˜è¦å¼•å…¥ vuex, æˆ‘ä¸ªäººè§‰å¾—åŸå› åªæœ‰è¿™ä¹ˆä¸€ä¸ª,â€å¯ç»´æŠ¤æ€§â€å’Œâ€æ˜“ç”¨æ€§â€åŠ</p><p>æ€ä¹ˆç†è§£å‘¢?</p><ul><li>å¯ç»´æŠ¤æ€§: å› ä¸ºæ˜¯å•å‘æ•°æ®æµ,æ‰€æœ‰çŠ¶æ€æ˜¯æœ‰è¿¹å¯å¾ªçš„,æ•°æ®çš„ä¼ é€’ä¹Ÿå¯ä»¥åŠæ—¶åˆ†å‘å“åº”</li><li>æ˜“ç”¨æ€§: å®ƒä½¿å¾—æˆ‘ä»¬ç»„ä»¶é—´çš„é€šè®¯å˜å¾—æ›´å¼ºå¤§,è€Œä¸ç”¨å€ŸåŠ©ä¸­é—´ä»¶è¿™ç±»æ¥å®ç°ä¸åŒç»„ä»¶é—´çš„é€šè®¯</li></ul><p>è€Œä¸”ä»£ç é‡ä¸å¤š,è‹¥æ˜¯ä½ è¦ç”¨ lsæˆ–è€…ss,ä½ å¿…é¡»æ‰‹åŠ¨å»è·Ÿè¸ªç»´æŠ¤ä½ çš„çŠ¶æ€è¡¨,<br>è™½è¯´å¯è¡Œ,ä½†æ˜¯ä»£ç é‡ä¼šå¤šå¾ˆå¤š,è€Œä¸”å¯è¯»æ€§å¾ˆå·®,</p><p>æ˜¯ä¸æ˜¯æ¯ä¸ªé¡¹ç›®éƒ½éœ€è¦ç”¨åˆ°vuex?</p><p>ç­”æ¡ˆæ˜¯å¦å®šçš„,å°å‹é¡¹ç›®ä¸Šè¿™ä¸ªåè€Œæ˜¯ç´¯èµ˜,è¿™ä¸œè¥¿ä¸€èˆ¬æ˜¯ç”¨åœ¨ä¸­å‹é¡¹ç›®+çš„,</p><p>å› ä¸ºé‡Œé¢æ¶‰åŠéœ€è¦ç»´æŠ¤çš„æ•°æ®æ¯”è¾ƒå¤š,åŒçº§ç»„ä»¶é—´çš„é€šè®¯æ¯”è¾ƒé¢‘ç¹</p><p>è‹¥æ˜¯ç”¨åˆ°vuexçš„é¡¹ç›®è®°å¾—ç»“åˆssæˆ–è€…lsæ¥è¾¾åˆ°æŸäº›çŠ¶æ€æŒä¹…åŒ–!ä¸ºä»€ä¹ˆçœ‹ä¸‹é¢!</p><h3 id="Q-vuexçš„ç”¨æˆ·ä¿¡æ¯ä¸ºä»€ä¹ˆè¿˜è¦å­˜ä¸€éåœ¨æµè§ˆå™¨é‡Œ-sessionStorageæˆ–localStorage"><a href="#Q-vuexçš„ç”¨æˆ·ä¿¡æ¯ä¸ºä»€ä¹ˆè¿˜è¦å­˜ä¸€éåœ¨æµè§ˆå™¨é‡Œ-sessionStorageæˆ–localStorage" class="headerlink" title="Q:vuexçš„ç”¨æˆ·ä¿¡æ¯ä¸ºä»€ä¹ˆè¿˜è¦å­˜ä¸€éåœ¨æµè§ˆå™¨é‡Œ(sessionStorageæˆ–localStorage)"></a>Q:vuexçš„ç”¨æˆ·ä¿¡æ¯ä¸ºä»€ä¹ˆè¿˜è¦å­˜ä¸€éåœ¨æµè§ˆå™¨é‡Œ(sessionStorageæˆ–localStorage)</h3><p><strong>å› ä¸º vuexçš„ store åˆ·æ–°å°±æ²¡æœ‰.</strong><br>ä¿å­˜åœ¨æµè§ˆå™¨çš„ç¼“å­˜å†…,è‹¥ç”¨æˆ·åˆ·æ–°çš„è¯,å€¼å†å–ä¸€éå‘—;</p><h3 id="Q-â€æœ‰-Vue-Vue-Router-Vuexâ€æˆ–ä»€ä¹ˆâ€express-vue-mongodbâ€çš„é¡¹ç›®å­¦ä¹ ä¹ˆ"><a href="#Q-â€æœ‰-Vue-Vue-Router-Vuexâ€æˆ–ä»€ä¹ˆâ€express-vue-mongodbâ€çš„é¡¹ç›®å­¦ä¹ ä¹ˆ" class="headerlink" title="Q:â€æœ‰ Vue + Vue Router + Vuexâ€æˆ–ä»€ä¹ˆâ€express + vue + mongodbâ€çš„é¡¹ç›®å­¦ä¹ ä¹ˆ"></a>Q:â€æœ‰ Vue + Vue Router + Vuexâ€æˆ–ä»€ä¹ˆâ€express + vue + mongodbâ€çš„é¡¹ç›®å­¦ä¹ ä¹ˆ</h3><p>Github ä¸€æœä¸€å¤§å †,æè¿™äº›é—®é¢˜çš„äººåŠ¨åŠ¨è„‘å­!.ä¼ é€é—¨:<a href="http://github.com/" target="_blank" rel="noopener">Github</a></p><h3 id="Q-æˆ‘ä¼š-Vue-æˆ‘è¿˜éœ€è¦å­¦ä¹ -jQuery-æˆ–è€…åŸç”Ÿ-JS-ä¹ˆ"><a href="#Q-æˆ‘ä¼š-Vue-æˆ‘è¿˜éœ€è¦å­¦ä¹ -jQuery-æˆ–è€…åŸç”Ÿ-JS-ä¹ˆ" class="headerlink" title="Q:æˆ‘ä¼š Vue æˆ‘è¿˜éœ€è¦å­¦ä¹  jQuery æˆ–è€…åŸç”Ÿ JS ä¹ˆ"></a>Q:æˆ‘ä¼š Vue æˆ‘è¿˜éœ€è¦å­¦ä¹  jQuery æˆ–è€…åŸç”Ÿ JS ä¹ˆ</h3><p>jQueryè¿˜æœ‰å¾ˆå¤šå…¬å¸åœ¨ç”¨,æºç å¯ä»¥å­¦ä¹ çš„åœ°æ–¹å¾ˆå¤šï¼Œæ¡†æ¶åªæ˜¯åŠ å¿«å¼€å‘,æé«˜æ•ˆç‡,ä½†ä¸æ˜¯ä½ åœ¨è¿™ä¸€è¡Œé•¿æœŸç«‹è¶³çš„æ ¹æœ¬;</p><p>å¤§ä½¬ä»¬éƒ½æ˜¯å„ç§è®¾è®¡æ¨¡å¼å’Œç®—æ³•ç©çš„å¥½ï¼Œæ‰èƒ½å†™å‡ºè¿™ä¹ˆä¼˜ç§€çš„æ¡†æ¶ã€‚</p><p>å‰ç«¯çš„äººä¸ä»…éœ€è¦å®½åº¦,ä¹Ÿè¦æ·±åº¦,è¿™æ ·æ‰èƒ½èµ°çš„æ›´è¿œ</p><h3 id="Q-npm-run-dev-æŠ¥ç«¯å£é”™è¯¯-Error-listen-EADDRINUSE-8080"><a href="#Q-npm-run-dev-æŠ¥ç«¯å£é”™è¯¯-Error-listen-EADDRINUSE-8080" class="headerlink" title="Q: npm run dev æŠ¥ç«¯å£é”™è¯¯!Error: listen EADDRINUSE :::8080"></a>Q: npm run dev æŠ¥ç«¯å£é”™è¯¯!Error: listen EADDRINUSE :::8080</h3><p>è‡ªå·±ç”¨ webpackæ­è„šæ‰‹æ¶çš„éƒ½ä¸ç”¨æˆ‘è¯´äº†;<br>Vue-cli é‡Œé¢çš„ webpack é…ç½®: config/index.js</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">dev:</span> &#123;</span><br><span class="line"><span class="symbol">    env:</span> require(<span class="string">"./dev.env"</span>),</span><br><span class="line"><span class="symbol">    port:</span> <span class="number">8080</span>, <span class="comment">//  è¿™é‡Œè¿™é‡Œ,è‹¥æ˜¯è¿™ä¸ªç«¯å£å·²ç»ç»™ç³»ç»Ÿçš„å…¶ä»–ç¨‹åºå ç”¨äº†.æ”¹æˆ‘æ”¹æˆ‘!!</span></span><br><span class="line"><span class="symbol">    autoOpenBrowser:</span> true,</span><br><span class="line"><span class="symbol">    assetsSubDirectory:</span> <span class="string">"static"</span>,</span><br><span class="line"><span class="symbol">    assetsPublicPath:</span> <span class="string">"/"</span>,</span><br><span class="line"><span class="symbol">    proxyTable:</span> &#123;</span><br><span class="line">      <span class="string">"/bp-api"</span>: &#123;</span><br><span class="line"><span class="symbol">        target:</span> <span class="string">"http://new.d.st.cn"</span>,</span><br><span class="line"><span class="symbol">        changeOrigin:</span> true,</span><br><span class="line">        <span class="comment">// pathRewrite: &#123;</span></span><br><span class="line">        <span class="comment">//   "^/bp-api": "/"</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="Q-ä»€ä¹ˆæ—¶å€™ç”¨v-if-ä»€ä¹ˆç”¨-v-show"><a href="#Q-ä»€ä¹ˆæ—¶å€™ç”¨v-if-ä»€ä¹ˆç”¨-v-show" class="headerlink" title="Q: ä»€ä¹ˆæ—¶å€™ç”¨v-if,ä»€ä¹ˆç”¨ v-show!"></a>Q: ä»€ä¹ˆæ—¶å€™ç”¨v-if,ä»€ä¹ˆç”¨ v-show!</h3><p>æˆ‘ä»¬å…ˆæ¥è¯´è¯´ä¸¤è€…çš„æ ¸å¿ƒå·®å¼‚;</p><ul><li><p>v-if :  DOM åŒºåŸŸæ²¡æœ‰ç”Ÿæˆ,æ²¡æœ‰æ’å…¥æ–‡æ¡£,ç­‰æ¡ä»¶æˆç«‹çš„æ—¶å€™æ‰åŠ¨æ€æ’å…¥åˆ°é¡µé¢!</p><ul><li>æœ‰äº›éœ€è¦éå†çš„æ•°ç»„å¯¹è±¡æˆ–è€…å€¼,æœ€å¥½ç”¨è¿™è´§æ§åˆ¶,ç­‰åˆ°æ‹¿åˆ°å€¼æ‰å¤„ç†éå†,ä¸ç„¶ä¸€äº›æ“ä½œè¿‡å¿«çš„æƒ…å†µä¼šæŠ¥é”™,æ¯”å¦‚æ•°æ®è¿˜æ²¡è¯·æ±‚åˆ°!</li></ul></li></ul><ul><li><p>v-show: DOM åŒºåŸŸåœ¨ç»„ä»¶æ¸²æŸ“çš„æ—¶å€™åŒæ—¶æ¸²æŸ“äº†,åªæ˜¯å•çº¯ç”¨ css éšè—äº†</p><ul><li>å¯¹äºä¸‹æ‹‰èœå•,æŠ˜å èœå•è¿™äº›æ•°æ®åŸºæœ¬ä¸æ€ä¹ˆå˜åŠ¨.ç”¨è¿™ä¸ªæœ€åˆé€‚äº†,è€Œä¸”å¯ä»¥æ”¹å–„ç”¨æˆ·ä½“éªŒ,å› ä¸ºå®ƒä¸ä¼šå¯¼è‡´é¡µé¢çš„é‡ç»˜,DOM æ“ä½œä¼š!</li></ul></li></ul><p>ç®€è¨€ä¹‹: DOMç»“æ„ä¸æ€ä¹ˆå˜åŒ–çš„ç”¨v-show, æ•°æ®éœ€è¦æ”¹åŠ¨å¾ˆå¤§æˆ–è€…å¸ƒå±€æ”¹åŠ¨çš„ç”¨v-if</p><h3 id="Q-æ˜¯ä»€ä¹ˆ-html5çš„æ ‡ç­¾ä¹ˆ"><a href="#Q-æ˜¯ä»€ä¹ˆ-html5çš„æ ‡ç­¾ä¹ˆ" class="headerlink" title="Q: æ˜¯ä»€ä¹ˆ,html5çš„æ ‡ç­¾ä¹ˆ?"></a>Q: <template>æ˜¯ä»€ä¹ˆ,html5çš„æ ‡ç­¾ä¹ˆ?</template></h3><p>ä½ çŒœå¯¹äº†,html5çš„æ ‡ç­¾è¿˜çœŸæœ‰è¿™ä¹ˆä¸€ä¸ª.ä¼ é€é—¨Can I Use:template</p><p>ä¸è¿‡ Vue çš„ template æœ‰ç‚¹ä¸ä¸€æ ·,ä¸æ˜¯å»ç»™æµè§ˆå™¨è§£æçš„,</p><p>ä½ å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªä¸´æ—¶æ ‡ç­¾,ç”¨æ¥æ–¹ä¾¿ä½ å†™å¾ªç¯,åˆ¤æ–­çš„,</p><p>å› ä¸ºæœ€ç»ˆ template ä¸ä¼šè§£æåˆ°æµè§ˆå™¨çš„é¡µé¢,ä»–åªæ˜¯åœ¨ Vue è§£æçš„è¿‡ç¨‹å……å½“ä¸€ä¸ªåŒ…è£¹å±‚!</p><p>æœ€ç»ˆæˆ‘ä»¬çœ‹åˆ°çš„æ˜¯å†…éƒ¨å¤„ç†åçš„ç»„åˆçš„ DOM ç»“æ„!</p><h3 id="Q-Vueæ”¯æŒç±»ä¼¼Reactçš„-props-å—"><a href="#Q-Vueæ”¯æŒç±»ä¼¼Reactçš„-props-å—" class="headerlink" title="Q: Vueæ”¯æŒç±»ä¼¼Reactçš„{,props}å—"></a>Q: Vueæ”¯æŒç±»ä¼¼Reactçš„{,props}å—</h3><p>jsxçš„å†™æ³•è‚¯å®šæ˜¯æ”¯æŒçš„ï¼Œå¸¸è§„çš„å†™æ³•ä¹Ÿæ”¯æŒï¼Œç”¨v-bind=â€propsObjectâ€ä¼šè‡ªåŠ¨å±•å¼€</p><h3 id="Q-Uncaught-ReferenceError-Vue-is-not-defined"><a href="#Q-Uncaught-ReferenceError-Vue-is-not-defined" class="headerlink" title="Q: Uncaught ReferenceError : Vue is not defined!"></a>Q: Uncaught ReferenceError : Vue is not defined!</h3><p>ä¾æ¬¡æ’é™¤:</p><ul><li>Vueæ˜¯å¦æ­£ç¡®å¼•å…¥!</li><li>Vueæ˜¯å¦æ­£ç¡®å®ä¾‹åŒ–!</li><li>Vue ç”¨çš„å§¿åŠ¿æ˜¯å¦æ­£ç¡®(æ¯”å¦‚ä½ ç›´æ¥ä¸€ä¸ª Vue çš„å˜é‡!åˆšå¥½åˆæ²¡å®šä¹‰,,å…·ä½“é—®é¢˜å…·ä½“åˆ†æå§)</li></ul><h3 id="Q-ERROR-in-static-js-xxxxxxx-js-from-UglifyJs"><a href="#Q-ERROR-in-static-js-xxxxxxx-js-from-UglifyJs" class="headerlink" title="Q: ERROR in static/js/xxxxxxx.js from UglifyJs"></a>Q: ERROR in static/js/xxxxxxx.js from UglifyJs</h3><p>æˆ‘çŸ¥é“å…¶ä¸­ä¸€ç§æƒ…å†µä¼šæŠ¥è¿™ç§æƒ…å†µ,å°±æ˜¯ä½ å¼•å…¥çš„ js,æ˜¯ç›´æ¥å¼•å…¥å‹ç¼©ç‰ˆæœ¬åçš„ js(xxx.min.js);</p><p>ç„¶å webpack å†…åˆå¯ç”¨äº† UglifyJs(å‹ç¼© JSçš„), äºŒé‡å‹ç¼©å¤§å¤šéƒ½ä¼šæŠ¥é”™!!</p><p><strong>è§£å†³æ–¹æ¡ˆ:å¼•å…¥æ ‡å‡†æœªå‹ç¼©çš„ JS</strong></p><h3 id="Q-propsä¸ä½¿ç”¨-v-bind-å¯ä»¥ä¼ é€’å€¼ä¹ˆ"><a href="#Q-propsä¸ä½¿ç”¨-v-bind-å¯ä»¥ä¼ é€’å€¼ä¹ˆ" class="headerlink" title="Q:propsä¸ä½¿ç”¨:(v-bind)å¯ä»¥ä¼ é€’å€¼ä¹ˆ!"></a>Q:propsä¸ä½¿ç”¨:(v-bind)å¯ä»¥ä¼ é€’å€¼ä¹ˆ!</h3><p>å¯ä»¥,åªæ˜¯é»˜è®¤ä¼ é€’çš„ç±»å‹ä¼šè¢«è§£ææˆå­—ç¬¦ä¸²!</p><p>è‹¥æ˜¯è¦ä¼ é€’å…¶ä»–ç±»å‹,è¯¥ç»‘å®šè¿˜æ˜¯ç»‘å®š!!</p><h3 id="Q-Uncaught-TypeError-Cannot-set-property-xxx-which-has-only-a-getter"><a href="#Q-Uncaught-TypeError-Cannot-set-property-xxx-which-has-only-a-getter" class="headerlink" title="Q: Uncaught TypeError : Cannot set property xxx which has only a getter"></a>Q: Uncaught TypeError : Cannot set property xxx which has only a getter</h3><p>è¿™ä¸ªé—®é¢˜å°±æ˜¯ä½ è¦æ“ä½œçš„å±æ€§åªå…è®¸ getter,ä¸å…è®¸ setter;</p><p>è§£å†³æ–¹æ¡ˆ? ç”¨äº†åˆ«äººçš„ä¸œè¥¿å°±è¦éµå¾ªåˆ«äººçš„å¥—è·¯æ¥,ä¸ç„¶å°±åªèƒ½è‡ªå·±åŠ¨æ‰‹ä¸°è¡£è¶³é£Ÿäº†!!</p><h3 id="Q-å•ç»„ä»¶ä¸­é‡Œé¢çš„-import-xxx-from-â€˜-components-layout-xxxâ€™ä¸­çš„-æ˜¯ä»€ä¹ˆé¬¼"><a href="#Q-å•ç»„ä»¶ä¸­é‡Œé¢çš„-import-xxx-from-â€˜-components-layout-xxxâ€™ä¸­çš„-æ˜¯ä»€ä¹ˆé¬¼" class="headerlink" title="Q: å•ç»„ä»¶ä¸­é‡Œé¢çš„ import xxx from â€˜@/components/layout/xxxâ€™ä¸­çš„@æ˜¯ä»€ä¹ˆé¬¼!"></a>Q: å•ç»„ä»¶ä¸­é‡Œé¢çš„ import xxx from â€˜@/components/layout/xxxâ€™ä¸­çš„@æ˜¯ä»€ä¹ˆé¬¼!</h3><p>è¿™æ˜¯ webpack æ–¹é¢çš„çŸ¥è¯†,çœ‹åˆ°äº†ä¹Ÿè¯´ä¸‹å§,</p><p>webpackå¯ä»¥é…ç½®alias(ä¹Ÿå°±æ˜¯è·¯å¾„åˆ«å),ç©è¿‡ linux æˆ–è€… mac éƒ½çŸ¥é“</p><p>ä¾æ—§å¦‚ä¸Š,ä¼šè‡ªå·±æ­è„šæ‰‹æ¶çš„ä¸ç”¨æˆ‘è¯´äº†,çœ‹çœ‹ vue-cli é‡Œé¢çš„;</p><p>æ–‡ä»¶å: build -&gt; webpack.base.conf.js</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">resolve</span>: &#123;</span><br><span class="line">    <span class="attribute">extensions</span>: [<span class="string">".js"</span>, <span class="string">".vue"</span>, <span class="string">".json"</span>], // å¯ä»¥å¯¼å…¥çš„æ—¶å€™å¿½ç•¥çš„æ‹“å±•åèŒƒå›´</span><br><span class="line">    alias: &#123;</span><br><span class="line">      vue$: <span class="string">"vue/dist/vue.esm.js"</span>,  </span><br><span class="line">      <span class="string">"@"</span>: <span class="built_in">resolve</span>(<span class="string">"src"</span>),  // è¿™é‡Œå°±æ˜¯åˆ«åäº†,æ¯”å¦‚@å°±ä»£è¡¨ç›´æ¥ä»/src ä¸‹å¼€å§‹æ‰¾èµ·!</span><br><span class="line">      <span class="string">"~"</span>: <span class="built_in">resolve</span>(<span class="string">"src/components"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="Q-SCSS-SASS-è¿˜æ˜¯-less-stylus-å¥½"><a href="#Q-SCSS-SASS-è¿˜æ˜¯-less-stylus-å¥½" class="headerlink" title="Q: SCSS(SASS) è¿˜æ˜¯ less,stylus å¥½!!"></a>Q: SCSS(SASS) è¿˜æ˜¯ less,stylus å¥½!!</h3><p>ä¸‰è€…éƒ½æ˜¯é¢„å¤„ç†å™¨;<br>scss å‡ºç°æœ€ä¹…,èƒ½åšçš„åŠŸèƒ½æ¯”è¾ƒå¤š,ä½†æ˜¯è‹¥æ˜¯æ™®é€šçš„åµŒå¥—å†™æ³•,ç»§æ‰¿,mixin å•Š</p><p>è¿™ä¸‰ä¸ªéƒ½å·®ä¸å¤š,ä¼šå…¶ä¸­ä¸€ä¸ªå…¶ä»–ä¸¤ä¸ªçš„ç²—æµ…ç”¨æ³•åŸºæœ¬ä¹Ÿä¼šäº†.ä¸è¿‡!!</p><p>å†™æ³•æœ‰äº›å·®å¼‚:</p><ul><li>scss: å†™æ³•ä¸Šæ˜¯å‘ css é é½</li><li>sass : å…¶å®ä¹Ÿå°±æ˜¯ scss , åªæ˜¯å†™æ³•ä¸ä¸€æ ·,é çš„æ˜¯ç¼©è¿›</li><li>less : è·Ÿ css åŸºæœ¬é é½</li><li>stylus : ä¸€æ ·,é ç¼©è¿›,è·Ÿpug(Jade)ä¸€æ ·</li></ul><p>ä½¿ç”¨ç¯å¢ƒçš„å·®å¼‚:</p><ul><li>scss å¯ä»¥å€ŸåŠ© ruby æˆ–è€… node-sassæˆ–è€…dart-sass ç¼–è¯‘</li><li>less å¯ä»¥ç”¨ less.js æˆ–è€…å¯¹åº”çš„ loader è§£æ</li><li>stylus åªèƒ½å€ŸåŠ© loader è§£æ,å®ƒçš„å‡ºç°å°±æ˜¯åŸºäº node çš„</li></ul><p>ä¹Ÿæœ‰ä¸€ä¸ªåèµ·ä¹‹ç§€,ä¸»æ‰“è§£è€¦,æ’ä»¶åŒ–çš„! é‚£å°±æ˜¯PostCSS,è¿™ä¸ªæ˜¯åå¤„ç†å™¨!<br>æœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡Œå»äº†è§£,ä¸Šé¢çš„å†™æ³•éƒ½èƒ½å€ŸåŠ©æ’ä»¶å®ç°!</p><h3 id="Q-Failed-to-compile-with-x-errors-This-dependency-was-not-found"><a href="#Q-Failed-to-compile-with-x-errors-This-dependency-was-not-found" class="headerlink" title="Q:Failed to compile with x errors : This dependency was not found !"></a>Q:Failed to compile with x errors : This dependency was not found !</h3><p>ç¼–è¯‘é”™è¯¯,å¯¹åº”çš„ä¾èµ–æ²¡æ‰¾åˆ°!</p><p>è§£å†³å¦‚ä¸‹:</p><ul><li>çŸ¥é“ç¼ºå°‘å¯¹åº”çš„æ¨¡å—,ç›´æ¥è£…è¿›å»</li><li>è‹¥æ˜¯ä¸€ä¸ªä½ å·²ç»å®‰è£…çš„å¤§æ¨¡å—(æ¯”å¦‚ axios)é‡Œé¢çš„å­æ¨¡å—(ä¾èµ–åŒ…)å‡ºäº†é—®é¢˜,å¸è½½é‡è£…æ•´ä¸ªå¤§æ¨¡å—.å› ä¸ºä½ è¡¥å…¨ä¸ä¸€å®šæœ‰ç”¨!</li></ul><h3 id="Q-SyntaxError-Unexpected-identifier"><a href="#Q-SyntaxError-Unexpected-identifier" class="headerlink" title="Q:SyntaxError: Unexpected identifier"></a>Q:SyntaxError: Unexpected identifier</h3><p>è¯­æ³•é”™è¯¯,çœ‹é”™è¯¯ä¿¡æ¯å»æ‰¾åˆ°å¯¹åº”çš„é¡µé¢æ’æŸ¥!</p><h3 id="Q-ä¸ºä»€ä¹ˆæˆ‘çš„-npm-æˆ–è€…-yarn-å®‰è£…ä¾èµ–ä¼šç”Ÿæˆ-lockæ–‡ä»¶-æœ‰ä»€ä¹ˆç”¨"><a href="#Q-ä¸ºä»€ä¹ˆæˆ‘çš„-npm-æˆ–è€…-yarn-å®‰è£…ä¾èµ–ä¼šç”Ÿæˆ-lockæ–‡ä»¶-æœ‰ä»€ä¹ˆç”¨" class="headerlink" title="Q: ä¸ºä»€ä¹ˆæˆ‘çš„ npm æˆ–è€… yarn å®‰è£…ä¾èµ–ä¼šç”Ÿæˆ lockæ–‡ä»¶,æœ‰ä»€ä¹ˆç”¨!"></a>Q: ä¸ºä»€ä¹ˆæˆ‘çš„ npm æˆ–è€… yarn å®‰è£…ä¾èµ–ä¼šç”Ÿæˆ lockæ–‡ä»¶,æœ‰ä»€ä¹ˆç”¨!</h3><p>lock æ–‡ä»¶çš„ä½œç”¨æ˜¯ç»Ÿä¸€ç‰ˆæœ¬å·,è¿™å¯¹å›¢é˜Ÿåä½œæœ‰å¾ˆå¤§çš„ä½œç”¨;</p><p>è‹¥æ˜¯æ²¡æœ‰ lock é”å®š,æ ¹æ®package.jsoné‡Œé¢çš„^,~è¿™äº›,</p><p>ä¸åŒäºº,ä¸åŒæ—¶é—´å®‰è£…å‡ºæ¥çš„ç‰ˆæœ¬å·ä¸ä¸€å®šä¸€è‡´;</p><p>æœ‰äº›åŒ…ç”šè‡³æœ‰ä¸€äº›breaking change(ç ´åæ€§çš„æ›´æ–°),é€ æˆå¼€å‘å¾ˆéš¾é¡ºåˆ©è¿›è¡Œ!</p><h3 id="Q-ç»„ä»¶å¯ä»¥ç¼“å­˜ä¹ˆ"><a href="#Q-ç»„ä»¶å¯ä»¥ç¼“å­˜ä¹ˆ" class="headerlink" title="Q: ç»„ä»¶å¯ä»¥ç¼“å­˜ä¹ˆ?"></a>Q: ç»„ä»¶å¯ä»¥ç¼“å­˜ä¹ˆ?</h3><p><strong>å¯ä»¥,ç”¨keep-alive;</strong></p><p>ä¸è¿‡æ˜¯æœ‰ä»£ä»·çš„,å æœ‰å†…å­˜ä¼šå¤šäº†,æ‰€ä»¥æ— è„‘çš„ç¼“å­˜æ‰€æœ‰ç»„ä»¶!åˆ«è¯´æ€§èƒ½å¥½äº†,åˆ‡æ¢å‡ æ¬¡,<br>æœ‰äº›ç¡¬ä»¶ holdä¸ä½çš„,æµè§ˆå™¨ç›´æ¥å´©æºƒæˆ–è€…å¡æ­»,</p><p>æ‰€ä»¥keep-aliveä¸€èˆ¬ç¼“å­˜éƒ½æ˜¯ä¸€äº›åˆ—è¡¨é¡µ,ä¸ä¼šæœ‰å¤ªå¤šçš„æ“ä½œ,æ›´å¤šçš„åªæ˜¯ç»“æœé›†çš„æ›´æ¢,</p><p>ç»™è·¯ç”±çš„ç»„ä»¶metaå¢åŠ ä¸€ä¸ªæ ‡å¿—ä½,ç»“åˆv-ifå°±å¯ä»¥æŒ‰éœ€åŠ ä¸Šç¼“å­˜äº†!</p><h3 id="Q-package-jsoné‡Œé¢çš„dependencies-å’ŒdevDependenciesçš„å·®å¼‚"><a href="#Q-package-jsoné‡Œé¢çš„dependencies-å’ŒdevDependenciesçš„å·®å¼‚" class="headerlink" title="Q:package.jsoné‡Œé¢çš„dependencies å’ŒdevDependenciesçš„å·®å¼‚!"></a>Q:package.jsoné‡Œé¢çš„dependencies å’ŒdevDependenciesçš„å·®å¼‚!</h3><p>å…¶å®ä¸ä¸¥æ ¼çš„è¯,æ²¡æœ‰ç‰¹åˆ«çš„å·®å¼‚;<br>è‹¥æ˜¯ä¸¥æ ¼,éµå¾ªå®˜æ–¹çš„ç†è§£;</p><ul><li>dependencies : å­˜æ”¾çº¿ä¸Šæˆ–è€…ä¸šåŠ¡èƒ½è®¿é—®çš„æ ¸å¿ƒä»£ç æ¨¡å—,æ¯”å¦‚ vue,vue-router;</li><li>devDependencies: å¤„äºå¼€å‘æ¨¡å¼ä¸‹æ‰€ä¾èµ–çš„å¼€å‘æ¨¡å—,ä¹Ÿè®¸åªæ˜¯ç”¨æ¥è§£æä»£ç ,è½¬ä¹‰ä»£ç ,ä½†æ˜¯ä¸äº§ç”Ÿé¢å¤–çš„ä»£ç åˆ°ç”Ÿäº§ç¯å¢ƒ, æ¯”å¦‚ä»€ä¹ˆbabel-coreè¿™äº›</li></ul><p>å¦‚ä½•æŠŠåŒ…å®‰è£…åˆ°å¯¹åº”çš„ä¾èµ–ä¸‹å‘¢?</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> <span class="comment">--save xxxx // dependencies</span></span><br><span class="line">npm <span class="keyword">install</span> <span class="comment">--save-dev xxxx // devDependencies</span></span><br><span class="line"></span><br><span class="line">//ä¹Ÿèƒ½ç”¨ç®€æ˜“çš„å†™æ³•(i:<span class="keyword">install</span>,-S:<span class="keyword">save</span>,-D:<span class="keyword">save</span>-dev)</span><br><span class="line"></span><br><span class="line">npm i -S xxxx // npm <span class="keyword">install</span> <span class="comment">--save xxxx</span></span><br><span class="line">npm i -D xxxx // npm <span class="keyword">install</span> <span class="comment">--save-dev xxxx</span></span><br></pre></td></tr></table></figure><h3 id="Q-å®‰è£…chromedriveræŠ¥é”™-å§¿åŠ¿æ²¡é”™å•Šnpm-i-D-chromedriver"><a href="#Q-å®‰è£…chromedriveræŠ¥é”™-å§¿åŠ¿æ²¡é”™å•Šnpm-i-D-chromedriver" class="headerlink" title="Q: å®‰è£…chromedriveræŠ¥é”™!!å§¿åŠ¿æ²¡é”™å•Šnpm i -D chromedriver"></a>Q: å®‰è£…chromedriveræŠ¥é”™!!å§¿åŠ¿æ²¡é”™å•Šnpm i -D chromedriver</h3><p>æ©,ä¼Ÿå¤§çš„ GFW,,è§£å†³æ–¹æ¡ˆ:æŒ‡å®šå›½å†…çš„æºå®‰è£…å°±å¯ä»¥äº†</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install <span class="params">--save-dev</span> chromedriver <span class="params">--chromedriver_cdnurl=http</span>:<span class="string">//cdn.npm.taobao.org/dist/chromedriver</span></span><br></pre></td></tr></table></figure><h3 id="Q-Vue-React-Angularå­¦ä¹ å“ªä¸ªå¥½-å“ªä¸ªå·¥ä½œæ¯”è¾ƒå¥½æ‰¾"><a href="#Q-Vue-React-Angularå­¦ä¹ å“ªä¸ªå¥½-å“ªä¸ªå·¥ä½œæ¯”è¾ƒå¥½æ‰¾" class="headerlink" title="Q:Vue ,React, Angularå­¦ä¹ å“ªä¸ªå¥½?å“ªä¸ªå·¥ä½œæ¯”è¾ƒå¥½æ‰¾!"></a>Q:Vue ,React, Angularå­¦ä¹ å“ªä¸ªå¥½?å“ªä¸ªå·¥ä½œæ¯”è¾ƒå¥½æ‰¾!</h3><p>Vueå±äºæ¸è¿›å¼å¼€å‘,ä¼ ç»Ÿå¼€å‘è¿‡æ¸¡ MVVM æ¨¡å¼çš„å°ä¼™ä¼´,Vue æ¯”è¾ƒå¥½ä¸Šæ‰‹,å­¦ä¹ æˆæœ¬æ¯”è¾ƒä½<br>åŸºç¡€æ¯”è¾ƒå¥½çš„,æœ‰æŠ˜è…¾ç²¾ç¥çš„,å¯ä»¥é€‰æ‹©NG5æˆ–è€…React 16;</p><p>NG5éœ€è¦å­¦ä¹ typescriptå’Œrxjs,è¿˜ç”¨åˆ°æ¯”è¾ƒå¤šçš„æ–°ä¸œè¥¿,æ¯”å¦‚è£…é¥°å™¨,åç«¯çš„æ³¨å…¥æ¦‚å¿µ.ngæœ‰è‡ªå·±çš„ä¸€æ•´å¥— MVVM æµç¨‹;</p><p>è€ŒVueå’ŒReactæ ¸å¿ƒåªæ˜¯view,å¯ä»¥æ­é…è‡ªå·±å–œæ¬¢çš„</p><p>Reactçš„å†™æ³•åå‘å‡½æ•°å¼å†™æ³•,è¿˜æœ‰ jsx,å®˜æ–¹è‡ªå·±æœ‰ flow,å½“ç„¶ä¹Ÿèƒ½æ­é…ts,æˆ‘ä¹Ÿæ²¡æ€ä¹ˆæ¥è§¦,æ‰€ä»¥ä¹Ÿæœ‰ä¸€å®šçš„å­¦ä¹ æˆæœ¬;</p><p>è‡³äºå“ªä¸ªæ¯”è¾ƒå¥½æ‰¾å·¥ä½œ!å‘Šè¯‰ä½ ,è‹¥æ˜¯åªä¼šä¸€ä¸ªæ¡†æ¶,é‚£ä¸æ˜¯ä¸€ä¸ªåˆæ ¼çš„å‰ç«¯;</p><p>äººå®¶è¦çš„æ˜¯åŠ¨æ‰‹èƒ½åŠ›,è§£å†³èƒ½åŠ›!!æŠ€æœ¯å’Œå¾…é‡æ˜¯æˆæ­£æ¯”çš„!!</p><p>é¢œå€¼å’ŒèƒŒæ™¯,å­¦å†,å£æ‰å¯ä»¥åŠ åˆ†,ä½†æ˜¯è¿™äº›æ¡ä»¶ä½ å¿…é¡»è¦æœ‰çš„åŸºç¡€ä¸‹æ‰èƒ½è€ƒè™‘è¿™äº›!</p><h3 id="Q-æˆ‘æœ‰ä¸ªå¤æ‚ç»„ä»¶éœ€è¦æœ‰æ–°å¢å’Œç¼–è¾‘çš„åŠŸèƒ½åŒæ—¶å­˜åœ¨-ä½†æ˜¯å­—æ®µè¦ä¿æŒä¸å˜æ€§æ€ä¹ˆç ´"><a href="#Q-æˆ‘æœ‰ä¸ªå¤æ‚ç»„ä»¶éœ€è¦æœ‰æ–°å¢å’Œç¼–è¾‘çš„åŠŸèƒ½åŒæ—¶å­˜åœ¨-ä½†æ˜¯å­—æ®µè¦ä¿æŒä¸å˜æ€§æ€ä¹ˆç ´" class="headerlink" title="Q: æˆ‘æœ‰ä¸ªå¤æ‚ç»„ä»¶éœ€è¦æœ‰æ–°å¢å’Œç¼–è¾‘çš„åŠŸèƒ½åŒæ—¶å­˜åœ¨,ä½†æ˜¯å­—æ®µè¦ä¿æŒä¸å˜æ€§æ€ä¹ˆç ´"></a>Q: æˆ‘æœ‰ä¸ªå¤æ‚ç»„ä»¶éœ€è¦æœ‰æ–°å¢å’Œç¼–è¾‘çš„åŠŸèƒ½åŒæ—¶å­˜åœ¨,ä½†æ˜¯å­—æ®µè¦ä¿æŒä¸å˜æ€§æ€ä¹ˆç ´</h3><p>å­—æ®µä¿æŒä¸å˜æ€§æ€ä¹ˆç†è§£å‘¢? å°±æ˜¯è¯´æ¯”å¦‚æ–°å¢å’Œç¼–è¾‘åŒæ—¶å…±äº«ä¸€ä»½ data;</p><p>æœ‰ä¸€ç§å°±æ˜¯è·¯ç”±å˜äº†,ç»„ä»¶æ¸²æŸ“åŒä¸€ä¸ª(ä¸å¼•èµ·ç»„ä»¶çš„é‡æ–°æ¸²æŸ“å’Œé”€æ¯!),ä½†æ˜¯åŠŸèƒ½å´ä¸åŒ(æ–°å¢å’Œç¼–è¯‘),</p><p>æ¯”å¦‚ä»ç¼–è¾‘åˆ‡åˆ°æ–°å¢,dataå¿…é¡»ä¸ºç©ºç™½æ²¡æœ‰èµ‹å€¼çš„,ç­‰å¾…æˆ‘ä»¬å»èµ‹å€¼;</p><p>è¿™æ—¶å€™æœ‰ä¸ªä¸œè¥¿å°±ç‰¹åˆ«é€‚åˆäº†,é‚£å°±æ˜¯<a href="https://immutable-js.github.io/immutable-js/" target="_blank" rel="noopener">immutable-js</a>;</p><p>è¿™ä¸ªä¸œè¥¿å¯ä»¥æ¨¡æ‹Ÿæ•°æ®çš„å”¯ä¸€æ€§!æˆ–è€…å«åšä¸å˜æ€§!</p><h3 id="Q-â€é¦–å±åŠ è½½æ¯”è¾ƒæ…¢-æ€ä¹ˆç ´-æ‰“åŒ…æ–‡ä»¶æ–‡ä»¶æ¯”è¾ƒå¤§â€"><a href="#Q-â€é¦–å±åŠ è½½æ¯”è¾ƒæ…¢-æ€ä¹ˆç ´-æ‰“åŒ…æ–‡ä»¶æ–‡ä»¶æ¯”è¾ƒå¤§â€" class="headerlink" title="Q:â€é¦–å±åŠ è½½æ¯”è¾ƒæ…¢!!æ€ä¹ˆç ´!æ‰“åŒ…æ–‡ä»¶æ–‡ä»¶æ¯”è¾ƒå¤§â€"></a>Q:â€é¦–å±åŠ è½½æ¯”è¾ƒæ…¢!!æ€ä¹ˆç ´!æ‰“åŒ…æ–‡ä»¶æ–‡ä»¶æ¯”è¾ƒå¤§â€</h3><p>ä¾æ¬¡æ’é™¤å’Œç¡®è®¤:</p><ul><li>å‡å°‘ç¬¬ä¸‰æ–¹åº“çš„ä½¿ç”¨,æ¯”å¦‚jqueyè¿™äº›éƒ½å¯ä»¥ä¸è¦äº†,å¾ˆå°‘æ“ä½œ dom,è€Œä¸”åŸç”ŸåŸºæœ¬æ»¡è¶³å¼€å‘</li><li>è‹¥æ˜¯å¼•å…¥momentè¿™äº›,webpack æ’é™¤å›½é™…åŒ–è¯­è¨€åŒ…</li><li>webpack å¸¸è§„å‹ç¼©js,css, æ„¿æ„æŠ˜è…¾çš„è¿˜å¯ä»¥å¼•å…¥ dll è¿™äº›</li><li>è·¯ç”±ç»„ä»¶é‡‡ç”¨æ‡’åŠ è½½</li><li>åŠ å…¥è·¯ç”±è¿‡æ¸¡å’ŒåŠ è½½ç­‰å¾…æ•ˆæœ,è™½ç„¶ä¸èƒ½è§£å†³æ ¹æœ¬,ä½†èµ·ç è®©äººç­‰çš„èˆ’å¿ƒä¸€ç‚¹ä¸æ˜¯ä¹ˆ!</li></ul><p>æ•´ä½“ä¸‹æ¥,æ‰“åŒ…ä¹‹åä¸€èˆ¬ä¸ä¼šå¤ªå¤§;</p><p>ä½†æ˜¯å€˜è‹¥æƒ³è¦æ›´å¿«?é‚£å°±åªèƒ½é‡‡ç”¨æœåŠ¡ç«¯æ¸²æŸ“(SSR)äº†,å¯ä»¥é¿å…æµè§ˆå™¨å»è§£ææ¨¡æ¿å’ŒæŒ‡ä»¤è¿™äº›; ç›´æ¥è¿”å›ä¸€ä¸ª html ,.è¿˜èƒ½ SEO,</p><p><strong>Vueä½ ä»¬å¦‚ä½•åšspaçš„æ¨¡å—æ‡’åŠ è½½å‘¢</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¨èè¿™ç§å†™æ³•</span></span><br><span class="line"><span class="comment">// ä¸€æ¥å¯ä»¥èšåˆwebpackChunkNameåå­—ä¸€æ ·çš„ä¸ºä¸€ä¸ªæ¨¡å—ï¼Œä¹Ÿæ˜¯å½“å‰ç‰ˆæœ¬æ¨èçš„åŠ è½½å§¿åŠ¿</span></span><br><span class="line"><span class="keyword">const</span> Home = <span class="function"><span class="params">()</span> =&gt;</span><span class="keyword">import</span>(<span class="string">"HomePage"</span>);</span><br></pre></td></tr></table></figure><h3 id="Q-Vue-SPA-æ²¡æ³•åšä¼˜åŒ–-SEO-æœ‰è§£å†³æ–¹æ¡ˆä¹ˆ"><a href="#Q-Vue-SPA-æ²¡æ³•åšä¼˜åŒ–-SEO-æœ‰è§£å†³æ–¹æ¡ˆä¹ˆ" class="headerlink" title="Q: Vue SPA æ²¡æ³•åšä¼˜åŒ–(SEO)!æœ‰è§£å†³æ–¹æ¡ˆä¹ˆ"></a>Q: Vue SPA æ²¡æ³•åšä¼˜åŒ–(SEO)!æœ‰è§£å†³æ–¹æ¡ˆä¹ˆ</h3><p>å¯ä»¥çš„,ssr(æœåŠ¡ç«¯æ¸²æŸ“å°±èƒ½æ»¡è¶³ä½ çš„éœ€æ±‚),å› ä¸ºè¯·æ±‚å›æ¥å°±æ˜¯ä¸€ä¸ªå¤„ç†å®Œæ¯•çš„ html</p><p>ç°åœ¨ vue çš„æœåŠ¡ç«¯å¼€å‘æ¡†æ¶æœ‰è¿™ä¹ˆä¸ªæ¯”è¾ƒæµè¡Œ,å¦‚ä¸‹</p><p>ä¼ é€é—¨:<a href="https://zh.nuxtjs.org/" target="_blank" rel="noopener">Nuxt.js</a></p><p>ä¹Ÿæœ‰å®˜æ–¹çš„æ–¹æ¡ˆ,<a href="https://ssr.vuejs.org/zh/" target="_blank" rel="noopener">ssr å®Œå…¨æŒ‡å—</a></p><h3 id="Q-Vueå¯ä»¥å†™-hybird-App-ä¹ˆ"><a href="#Q-Vueå¯ä»¥å†™-hybird-App-ä¹ˆ" class="headerlink" title="Q: Vueå¯ä»¥å†™ hybird App ä¹ˆ!"></a>Q: Vueå¯ä»¥å†™ hybird App ä¹ˆ!</h3><p>å½“ç„¶å¯ä»¥,ä¸¤ä¸ªæ–¹å‘.</p><ul><li><a href="https://github.com/nativescript-vue/nativescript-vue" target="_blank" rel="noopener">codorva + nativescript</a></li><li><a href="https://weex.apache.org/" target="_blank" rel="noopener">Weex</a></li></ul><h3 id="Q-Vue-å¯ä»¥å†™æ¡Œé¢ç«¯ä¹ˆ"><a href="#Q-Vue-å¯ä»¥å†™æ¡Œé¢ç«¯ä¹ˆ" class="headerlink" title="Q: Vue å¯ä»¥å†™æ¡Œé¢ç«¯ä¹ˆ?"></a>Q: Vue å¯ä»¥å†™æ¡Œé¢ç«¯ä¹ˆ?</h3><p>å½“ç„¶å¯ä»¥,æœ‰electronå’Œnode-webkit(nw);</p><p>æˆ‘åªäº†è§£è¿‡electron;</p><ul><li><a href="https://www.electronjs.org/" target="_blank" rel="noopener">electron</a></li><li><a href="https://github.com/SimulatedGREG/electron-vue" target="_blank" rel="noopener">electron-vue</a>: Vue-cli é’ˆå¯¹ electron çš„è„šæ‰‹æ¶æ¨¡æ¿</li></ul><h3 id="Q-Vueå¼€å‘-é¡¹ç›®ä¸­è¿˜éœ€è¦-jQueryä¹ˆ"><a href="#Q-Vueå¼€å‘-é¡¹ç›®ä¸­è¿˜éœ€è¦-jQueryä¹ˆ" class="headerlink" title="Q: Vueå¼€å‘,é¡¹ç›®ä¸­è¿˜éœ€è¦ jQueryä¹ˆ"></a>Q: Vueå¼€å‘,é¡¹ç›®ä¸­è¿˜éœ€è¦ jQueryä¹ˆ</h3><p>åˆ†æƒ…å†µæ¢è®¨:</p><ol><li>è‹¥æ˜¯è€é¡¹ç›®,åªæ˜¯å•çº¯å¼•å…¥ Vue ç®€åŒ–å¼€å‘çš„,ä¾æ—§ç”¨å§,</li><li>é‡æ„é¡¹ç›®?æˆ–è€…å‘èµ·æ–°é¡¹ç›®çš„,çœŸå¿ƒæ²¡å¿…è¦äº†.å¼€å‘æ€è·¯ä¸ä¸€æ ·,å¾ˆå¤šä»¥å‰ç”¨ DOM æ“ä½œçš„ç°åœ¨åŸºæœ¬å¯ä»¥æ•°æ®é©±åŠ¨å®ç°,è€Œå°‘é‡è¿«ä¸å¾—å·²çš„DOM æ“ä½œåŸç”Ÿå°±èƒ½æå®š,è€Œä¸”èƒ½å‡å°æ‰“åŒ…ä½“ç§¯,é€Ÿåº¦åˆå¿«,ä½•ä¹è€Œä¸ä¸º!</li></ol><h3 id="Q-Vue-PC-æ¡Œé¢-ç«¯-M-mobile-ç§»åŠ¨-ç«¯-ç”¨ä»€ä¹ˆ-UI-æ¡†æ¶å¥½å•Š"><a href="#Q-Vue-PC-æ¡Œé¢-ç«¯-M-mobile-ç§»åŠ¨-ç«¯-ç”¨ä»€ä¹ˆ-UI-æ¡†æ¶å¥½å•Š" class="headerlink" title="Q:Vue PC(æ¡Œé¢)ç«¯,M(mobile:ç§»åŠ¨)ç«¯,ç”¨ä»€ä¹ˆ UI æ¡†æ¶å¥½å•Š!"></a>Q:Vue PC(æ¡Œé¢)ç«¯,M(mobile:ç§»åŠ¨)ç«¯,ç”¨ä»€ä¹ˆ UI æ¡†æ¶å¥½å•Š!</h3><p>PC: æ¨èçš„åªæœ‰ä¸¤ä¸ª element UIå’Œiview</p><p>mobile : Vuxã€Vant</p><h3 id="Q-Vueå¯ä»¥å†™å¾®ä¿¡å°ç¨‹åºä¹ˆ-æ€ä¹ˆæèµ·"><a href="#Q-Vueå¯ä»¥å†™å¾®ä¿¡å°ç¨‹åºä¹ˆ-æ€ä¹ˆæèµ·" class="headerlink" title="Q: Vueå¯ä»¥å†™å¾®ä¿¡å°ç¨‹åºä¹ˆ,æ€ä¹ˆæèµ·"></a>Q: Vueå¯ä»¥å†™å¾®ä¿¡å°ç¨‹åºä¹ˆ,æ€ä¹ˆæèµ·</h3><p>å¯ä»¥çš„,ç¤¾åŒºä¹Ÿæœ‰äººå‡ºäº†å¯¹åº”çš„è§£å†³æ–¹æ¡ˆ,uniapp;</p><ul><li><a href="https://uniapp.dcloud.io/" target="_blank" rel="noopener">uniapp</a></li></ul><h3 id="Q-the-â€œscopeâ€-attribute-for-scoped-slots-replaced-by-â€œslot-scopeâ€-since-2-5"><a href="#Q-the-â€œscopeâ€-attribute-for-scoped-slots-replaced-by-â€œslot-scopeâ€-since-2-5" class="headerlink" title="Q:the â€œscopeâ€ attribute for scoped slots replaced by â€œslot-scopeâ€ since 2.5"></a>Q:the â€œscopeâ€ attribute for scoped slots replaced by â€œslot-scopeâ€ since 2.5</h3><p>è¿™ä¸ªé—®é¢˜åªå‡ºç°è€é¡¹ç›®å‡çº§åˆ° vue2.5+çš„æ—¶å€™, æç¤ºå°±æ˜¯ scope ç°åœ¨è¦ç”¨ slot-scope æ¥ä»£æ›¿,<br>ä½†æ˜¯ scope æš‚æ—¶å¯ä»¥ç”¨,ä»¥åä¼šç§»é™¤</p><h3 id="Q-Vue-2-6åºŸé™¤çš„ç‰¹æ€§æ¸…å•"><a href="#Q-Vue-2-6åºŸé™¤çš„ç‰¹æ€§æ¸…å•" class="headerlink" title="Q:Vue 2.6åºŸé™¤çš„ç‰¹æ€§æ¸…å•"></a>Q:Vue 2.6åºŸé™¤çš„ç‰¹æ€§æ¸…å•</h3><p>è‡ª 2.6.0 èµ·æœ‰æ‰€æ›´æ–°ã€‚å·²åºŸå¼ƒçš„ä½¿ç”¨ slot ç‰¹æ€§çš„è¯­æ³•åœ¨<a href="https://cn.vuejs.org/v2/guide/components-slots.html#%E5%BA%9F%E5%BC%83%E4%BA%86%E7%9A%84%E8%AF%AD%E6%B3%95" target="_blank" rel="noopener">è¿™é‡Œ</a><br>å®˜æ–¹æ¨èç”¨v-slotæ¥è°ƒç”¨æ’æ§½</p><h3 id="Q-æƒ³è¦-mock-æ•°æ®-ç›´æ¥è¯·æ±‚-jsonæ–‡ä»¶-ä¸ºä»€ä¹ˆä¸è¡Œ"><a href="#Q-æƒ³è¦-mock-æ•°æ®-ç›´æ¥è¯·æ±‚-jsonæ–‡ä»¶-ä¸ºä»€ä¹ˆä¸è¡Œ" class="headerlink" title="Q:æƒ³è¦ mock æ•°æ®,ç›´æ¥è¯·æ±‚ jsonæ–‡ä»¶ ä¸ºä»€ä¹ˆä¸è¡Œ!"></a>Q:æƒ³è¦ mock æ•°æ®,ç›´æ¥è¯·æ±‚ jsonæ–‡ä»¶ ä¸ºä»€ä¹ˆä¸è¡Œ!</h3><p>å½“ç„¶ä¸è¡Œ,æµè§ˆå™¨å®‰å…¨æœºåˆ¶ä¸å…è®¸,JSå¤©ç”Ÿä¸èƒ½è¶Šæƒ(NodeJSä¸èƒ½å•çº¯è¯´æ˜¯JS)</p><p>ä½ è¦ mock æ•°æ®,ä¸€èˆ¬éƒ½æœ‰æ¯”è¾ƒæˆç†Ÿçš„æ–¹æ¡ˆä¼ é€é—¨:</p><ul><li><a href="https://github.com/nuysoft/Mock" target="_blank" rel="noopener">Mock</a></li><li><a href="https://github.com/easy-mock/easy-mock" target="_blank" rel="noopener">Easy Mock</a></li></ul><h2 id="Vue-å‘¨è¾¹åº“æ±‡æ€»"><a href="#Vue-å‘¨è¾¹åº“æ±‡æ€»" class="headerlink" title="Vue å‘¨è¾¹åº“æ±‡æ€»"></a>Vue å‘¨è¾¹åº“æ±‡æ€»</h2><p><a href="https://github.com/vuejs/awesome-vue" target="_blank" rel="noopener">Awesome Vue </a>: é‡Œé¢æ”¶é›†äº† Vue æ–¹æ–¹é¢é¢çš„çƒ­é—¨åº“!!</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æ–‡ç« å†…å®¹è¦†ç›–èŒƒå›´,èŠéº»ç»¿è±†çš„ç ´é—®é¢˜éƒ½æœ‰,ä¸æ­¢äºvue;&lt;br&gt;ç»™å‡ºçš„æ˜¯æ–¹æ¡ˆ,è€Œéæ‰‹æŠŠæ‰‹ä¸€å­—ä¸€å¥çš„ç»™ä½ è¯´åä¸‡ä¸ªä¸ºä»€ä¹ˆ!&lt;/p&gt;
&lt;h2 id=&quot;é—®é¢˜æ±‡æ€»&quot;&gt;&lt;a href=&quot;#é—®é¢˜æ±‡æ€»&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜æ±‡æ€»&quot;&gt;&lt;/a&gt;é—®é¢˜æ±‡æ€»&lt;/h2&gt;&lt;h3 id=&quot;Q-å®‰è£…è¶…æ—¶-install-timeout&quot;&gt;&lt;a href=&quot;#Q-å®‰è£…è¶…æ—¶-install-timeout&quot; class=&quot;headerlink&quot; title=&quot;Q:å®‰è£…è¶…æ—¶(install timeout)&quot;&gt;&lt;/a&gt;Q:å®‰è£…è¶…æ—¶(install timeout)&lt;/h3&gt;&lt;p&gt;æ–¹æ¡ˆæœ‰è¿™ä¹ˆäº›:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;cnpm : å›½å†…å¯¹npmçš„é•œåƒç‰ˆæœ¬&lt;/p&gt;
    
    </summary>
    
      <category term="vue" scheme="https://chongdee.github.io/categories/vue/"/>
    
    
      <category term="vue" scheme="https://chongdee.github.io/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>vue-cli4+webpack4ç§»åŠ¨ç«¯æ¡†æ¶</title>
    <link href="https://chongdee.github.io/2021/05/09/webpack/vue-cli4+webpack4%E7%A7%BB%E5%8A%A8%E7%AB%AF%E6%A1%86%E6%9E%B6/"/>
    <id>https://chongdee.github.io/2021/05/09/webpack/vue-cli4+webpack4ç§»åŠ¨ç«¯æ¡†æ¶/</id>
    <published>2021-05-08T17:16:10.291Z</published>
    <updated>2021-05-08T17:18:59.015Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>è¿™æ˜¯åŸºäº vue-cli4 å®ç°çš„ç§»åŠ¨ç«¯æ¡†æ¶ï¼Œå…¶ä¸­åŒ…å«é¡¹ç›®å¸¸ç”¨çš„é…ç½®ï¼Œç»„ä»¶å°è£…åŠwebpackä¼˜åŒ–æ–¹æ³•ï¼Œå¯ä¾›å¿«é€Ÿå¼€å‘ä½¿ç”¨ã€‚</p><p>æŠ€æœ¯æ ˆï¼švue-cli4 + webpack4 + vant + axios + less + postcss-px2rem</p><p>æºç  <a href="https://github.com/Michael-lzg/vue-cli4-vant" target="_blank" rel="noopener">https://github.com/Michael-lzg/vue-cli4-vant</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®‰è£…ä¾èµ–</span></span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ¬åœ°å¯åŠ¨</span></span><br><span class="line">npm run dev</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”Ÿäº§æ‰“åŒ…</span></span><br><span class="line">npm run build</span><br></pre></td></tr></table></figure><a id="more"></a><p>åœ¨ä¸€ä¸¤å¹´å‰ï¼Œvue-cli3å·²ç»å£°é©¾åˆ°3.0+ç‰ˆæœ¬ï¼Œä½†æ˜¯ç”±äºæ—§é¡¹ç›®ä¸€è‡´ä¹ æƒ¯äºvue-cli2çš„è„šæ‰‹æ¶çš„ä½¿ç”¨ï¼Œä¹‹å‰ä¹Ÿå†™è¿‡ä¸€ç¯‡ <a href="https://juejin.im/post/5db806b1f265da4d5133485a" target="_blank" rel="noopener">æ­å»ºä¸€ä¸ªvue-cliçš„ç§»åŠ¨ç«¯H5å¼€å‘æ¨¡æ¿</a> ç®€å•æ€»ç»“äº†ä¸€ç‚¹ç§»åŠ¨ç«¯çš„å¼€å‘æŠ€å·§ã€‚  </p><p>è¿‘æ—¥å‡çº§vue-cliè„šæ‰‹æ¶æ‰å‘ç°ï¼Œè¿™å·²ç»å‡çº§åˆ°4.0+ç‰ˆæœ¬äº†ï¼Œè§‰å¾—å¾ˆå¤šå¿…è¦åœ¨æ–°çš„é¡¹ç›®ä¸­ä½¿ç”¨vue-cli4è¿›è¡Œå¼€å‘ï¼ŒåŠ ä¸Šè¿‘æ¥å¯¹webpackæœ‰äº†è¿›ä¸€æ­¥ç†è§£ï¼Œæ‰€ä»¥ç»“åˆäº†vue-cli4å’Œwebpackæ­å»ºäº†ä¸€ä¸ªç§»åŠ¨ç«¯æ¡†æ¶ï¼Œä»¥ä¾¿å¼€ç®±å³ç”¨ã€‚ ä¸»è¦åŒ…æ‹¬å¦‚ä¸‹æŠ€æœ¯ç‚¹ï¼š</p><ul><li>vue-cli4è„šæ‰‹æ¶</li><li>vantæŒ‰éœ€å¼•å…¥</li><li>ç§»åŠ¨ç«¯remé€‚é…</li><li>axiosæ‹¦æˆªå°è£…</li><li>utilå·¥å…·ç±»å‡½æ•°å°è£…</li><li>vue-routeré…ç½®</li><li>ç™»å½•æƒé™æ ¡éªŒ</li><li>å¤šç¯å¢ƒå˜é‡é…ç½®</li><li>vue.config.jsé…ç½®</li><li>toastç»„ä»¶å°è£…</li><li>dialogç»„ä»¶å°è£…</li><li>è·¨åŸŸä»£ç†è®¾ç½®</li><li>webpackæ‰“åŒ…å¯è§†åŒ–åˆ†æ</li><li>CDNèµ„æºä¼˜åŒ–</li><li>gzipæ‰“åŒ…ä¼˜åŒ–</li><li>é¦–é¡µæ·»åŠ éª¨æ¶å±</li></ul><p>å…³äºæ›´å¤šçš„webpackä¼˜åŒ–æ–¹æ³•ï¼Œå¯å‚è€ƒ <a href="https://github.com/Michael-lzg/webpack-vue-cli" target="_blank" rel="noopener">https://github.com/Michael-lzg/webpack-vue-cli</a></p><h2 id="é…ç½®-vant"><a href="#é…ç½®-vant" class="headerlink" title="é…ç½® vant"></a>é…ç½® vant</h2><p>vant æ˜¯ä¸€å¥—è½»é‡ã€å¯é çš„ç§»åŠ¨ç«¯ Vue ç»„ä»¶åº“ï¼Œéå¸¸é€‚åˆåŸºäº vue æŠ€æœ¯æ ˆçš„ç§»åŠ¨ç«¯å¼€å‘ã€‚åœ¨è¿‡å»å¾ˆé•¿çš„ä¸€æ®µæ—¶é—´å†…ï¼Œæœ¬äººç”¨çš„ç§»åŠ¨ç«¯ UI æ¡†æ¶éƒ½æ˜¯ vuxã€‚åæ¥ç”±äº vux ä¸æ”¯æŒ vue-cli3ï¼Œå°±è½¬ç”¨äº† vantï¼Œä¸å¾—ä¸è¯´ï¼Œæ— è®ºæ˜¯åœ¨äº¤äº’ä½“éªŒä¸Šï¼Œè¿˜æ˜¯ä»£ç é€»è¾‘ä¸Šï¼Œvant éƒ½æ¯” vux å¥½å¾ˆå¤šï¼Œè€Œä¸” vant çš„å‘æ¯”è¾ƒå°‘ã€‚</p><p>å¯¹äºç¬¬ä¸‰æ–¹ UI ç»„ä»¶ï¼Œå¦‚æœæ˜¯å…¨éƒ¨å¼•å…¥çš„è¯ï¼Œæ¯”å¦‚ä¼šé€ æˆæ‰“åŒ…ä½“ç§¯è¿‡å¤§ï¼ŒåŠ è½½é¦–é¡µç™½å±æ—¶é—´è¿‡é•¿çš„é—®é¢˜ï¼Œæ‰€ä»¥æŒ‰éœ€åŠ è½½éå¸¸å¿…è¦ã€‚vant ä¹Ÿæä¾›äº†æŒ‰éœ€åŠ è½½çš„æ–¹æ³•ã€‚<code>babel-plugin-import</code> æ˜¯ä¸€æ¬¾ babel æ’ä»¶ï¼Œå®ƒä¼šåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å°† import çš„å†™æ³•è‡ªåŠ¨è½¬æ¢ä¸ºæŒ‰éœ€å¼•å…¥çš„æ–¹å¼ã€‚</p><p>1ã€å®‰è£…ä¾èµ–</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> i babel-plugin-<span class="keyword">import</span> -D</span><br></pre></td></tr></table></figure><p>2ã€é…ç½® .babelrc æˆ–è€… babel.config.js æ–‡ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨.babelrc ä¸­æ·»åŠ é…ç½®</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"plugins"</span>: [</span><br><span class="line">    [<span class="string">"import"</span>, &#123;</span><br><span class="line">      <span class="string">"libraryName"</span>: <span class="string">"vant"</span>,</span><br><span class="line">      <span class="string">"libraryDirectory"</span>: <span class="string">"es"</span>,</span><br><span class="line">      <span class="string">"style"</span>: <span class="literal">true</span></span><br><span class="line">    &#125;]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹äºä½¿ç”¨ babel7 çš„ç”¨æˆ·ï¼Œå¯ä»¥åœ¨ babel.config.js ä¸­é…ç½®</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    [<span class="string">'import'</span>, &#123;</span><br><span class="line">      libraryName: <span class="string">'vant'</span>,</span><br><span class="line">      libraryDirectory: <span class="string">'es'</span>,</span><br><span class="line">      style: <span class="literal">true</span></span><br><span class="line">    &#125;, <span class="string">'vant'</span>]</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>3ã€æŒ‰éœ€å¼•å…¥</p><p>ä½ å¯ä»¥åœ¨ä»£ç ä¸­ç›´æ¥å¼•å…¥ Vant ç»„ä»¶ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨å°†ä»£ç è½¬åŒ–ä¸ºæ–¹å¼äºŒä¸­çš„æŒ‰éœ€å¼•å…¥å½¢å¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> &#123; Button &#125; <span class="keyword">from</span> <span class="string">'vant'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Button)</span><br></pre></td></tr></table></figure><h2 id="rem-é€‚é…"><a href="#rem-é€‚é…" class="headerlink" title="rem é€‚é…"></a>rem é€‚é…</h2><p>ç§»åŠ¨ç«¯é€‚é…æ˜¯å¼€å‘è¿‡ç¨‹ä¸­ä¸å¾—ä¸é¢å¯¹çš„äº‹æƒ…ã€‚åœ¨æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨ postcss ä¸­çš„ px2rem-loaderï¼Œå°†æˆ‘ä»¬é¡¹ç›®ä¸­çš„ px æŒ‰ä¸€å®šæ¯”ä¾‹è½¬åŒ– remï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¯¹ç€è“æ¹–ä¸Šçš„æ ‡æ³¨å†™ px äº†ã€‚</p><p>æˆ‘ä»¬å°† html å­—è·Ÿå­—ä½“è®¾ç½®ä¸º 100pxï¼Œå¾ˆå¤šäººé€‰æ‹©è®¾ç½®ä¸º 375pxï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿™æ ·æ¢ç®—å‡ºæ¥çš„ rem ä¸å¤Ÿç²¾ç¡®ï¼Œè€Œä¸”æˆ‘ä»¬åœ¨æ§åˆ¶å°ä¸Šè°ƒè¯•ä»£ç çš„æ—¶å€™æ— æ³•å¾ˆå¿«åœ°å£ç®—å¾—å‡ºå®ƒæœ¬æ¥çš„ px å€¼ã€‚å¦‚æœè®¾ç½® 1rem=100pxï¼Œè¿™æ ·æˆ‘ä»¬çœ‹åˆ°çš„ 0.16remï¼Œ0.3rem å°±å¾ˆå¿«å¾—ç®—å‡ºåŸæ¥æ˜¯ 16pxï¼Œ30px äº†ã€‚</p><p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼›</p><p>1ã€å®‰è£…ä¾èµ–</p><figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install px2rem-loader --<span class="built_in">save</span>-<span class="built_in">dev</span></span><br></pre></td></tr></table></figure><p>2ã€åœ¨ vue.config.js è¿›è¡Œå¦‚ä¸‹é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">css: &#123;</span><br><span class="line">  <span class="comment">// cssé¢„è®¾å™¨é…ç½®é¡¹</span></span><br><span class="line">  loaderOptions: &#123;</span><br><span class="line">    postcss: &#123;</span><br><span class="line">      plugins: [</span><br><span class="line">        <span class="built_in">require</span>(<span class="string">'postcss-px2rem'</span>)(&#123;</span><br><span class="line">          remUnit: <span class="number">100</span></span><br><span class="line">        &#125;)</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>3ã€åœ¨ main.js è®¾ç½® html è·Ÿå­—ä½“å¤§å°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initRem</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> cale = <span class="built_in">window</span>.screen.availWidth &gt; <span class="number">750</span> ? <span class="number">2</span> : <span class="built_in">window</span>.screen.availWidth / <span class="number">375</span></span><br><span class="line">  <span class="built_in">window</span>.document.documentElement.style.fontSize = <span class="string">`<span class="subst">$&#123;<span class="number">100</span> * cale&#125;</span>px`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  initRem()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="axios-è¯·æ±‚å°è£…"><a href="#axios-è¯·æ±‚å°è£…" class="headerlink" title="axios è¯·æ±‚å°è£…"></a>axios è¯·æ±‚å°è£…</h2><p>1ã€è®¾ç½®è¯·æ±‚æ‹¦æˆªå’Œå“åº”æ‹¦æˆª</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> PRODUCT_URL = <span class="string">'https://xxxx.com'</span></span><br><span class="line"><span class="keyword">const</span> MOCK_URL = <span class="string">'http://xxxx.com'</span></span><br><span class="line"><span class="keyword">let</span> http = axios.create(&#123;</span><br><span class="line">  baseURL: process.env.NODE_ENV === <span class="string">'production'</span> ? PRODUCT_URL : MOCK_URL,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// è¯·æ±‚æ‹¦æˆªå™¨</span></span><br><span class="line">http.interceptors.request.use(</span><br><span class="line">  (config) =&gt; &#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®tokenï¼ŒContent-Type</span></span><br><span class="line">    <span class="keyword">var</span> token = sessionStorage.getItem(<span class="string">'token'</span>)</span><br><span class="line">    config.headers[<span class="string">'token'</span>] = token</span><br><span class="line">    config.headers[<span class="string">'Content-Type'</span>] = <span class="string">'application/json;charset=UTF-8'</span></span><br><span class="line">    <span class="comment">// è¯·æ±‚æ˜¾ç¤ºloadingæ•ˆæœ</span></span><br><span class="line">    <span class="keyword">if</span> (config.loading === <span class="literal">true</span>) &#123;</span><br><span class="line">      vm.$loading.show()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">  &#125;,</span><br><span class="line">  (error) =&gt; &#123;</span><br><span class="line">    vm.$loading.hide()</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line"><span class="comment">// å“åº”æ‹¦æˆªå™¨</span></span><br><span class="line">http.interceptors.response.use(</span><br><span class="line">  (res) =&gt; &#123;</span><br><span class="line">    vm.$loading.hide()</span><br><span class="line">    <span class="comment">// tokenå¤±æ•ˆï¼Œé‡æ–°ç™»å½•</span></span><br><span class="line">    <span class="keyword">if</span> (res.data.code === <span class="number">401</span>) &#123;</span><br><span class="line">      <span class="comment">//  é‡æ–°ç™»å½•</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">  &#125;,</span><br><span class="line">  (error) =&gt; &#123;</span><br><span class="line">    vm.$loading.hide()</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>2ã€å°è£… get å’Œ post è¯·æ±‚æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">url, data, lodaing</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    http</span><br><span class="line">      .get(url)</span><br><span class="line">      .then(</span><br><span class="line">        (response) =&gt; &#123;</span><br><span class="line">          resolve(response)</span><br><span class="line">        &#125;,</span><br><span class="line">        (err) =&gt; &#123;</span><br><span class="line">          reject(err)</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">      .catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">        reject(error)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">post</span>(<span class="params">url, data, loading</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    http</span><br><span class="line">      .post(url, data, &#123; <span class="attr">loading</span>: loading &#125;)</span><br><span class="line">      .then(</span><br><span class="line">        (response) =&gt; &#123;</span><br><span class="line">          resolve(response)</span><br><span class="line">        &#125;,</span><br><span class="line">        (err) =&gt; &#123;</span><br><span class="line">          reject(err)</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">      .catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">        reject(error)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; get, post &#125;</span><br></pre></td></tr></table></figure><p>3ã€æŠŠ getï¼Œpost æ–¹æ³•æŒ‚è½½åˆ° vue å®ä¾‹ä¸Šã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; get, post &#125; <span class="keyword">from</span> <span class="string">'./js/ajax'</span></span><br><span class="line">Vue.prototype.$http = &#123; get, post &#125;</span><br></pre></td></tr></table></figure><h2 id="å·¥å…·ç±»å‡½æ•°å°è£…"><a href="#å·¥å…·ç±»å‡½æ•°å°è£…" class="headerlink" title="å·¥å…·ç±»å‡½æ•°å°è£…"></a>å·¥å…·ç±»å‡½æ•°å°è£…</h2><p>1ã€æ·»åŠ æ–¹æ³•åˆ° vue å®ä¾‹çš„åŸå‹é“¾ä¸Š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  install (Vue, options) &#123;</span><br><span class="line">    Vue.prototype.util = &#123;</span><br><span class="line">      method1(val) &#123;</span><br><span class="line">        ...</span><br><span class="line">      &#125;,</span><br><span class="line">      method2 (val) &#123;</span><br><span class="line">       ...</span><br><span class="line">      &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€åœ¨ main.js é€šè¿‡ vue.use()æ³¨å†Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> utils <span class="keyword">from</span> <span class="string">'./js/utils'</span></span><br><span class="line">Vue.use(utils)</span><br></pre></td></tr></table></figure><h2 id="vue-router-é…ç½®"><a href="#vue-router-é…ç½®" class="headerlink" title="vue-router é…ç½®"></a>vue-router é…ç½®</h2><p>å¹³æ—¶å¾ˆå¤šäººå¯¹ vue-router çš„é…ç½®å¯é…ç½®äº† path å’Œ componentï¼Œå®ç°äº†è·¯ç”±è·³è½¬å³å¯ã€‚å…¶å® vue-router å¯åšçš„äº‹æƒ…è¿˜æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚</p><ul><li>è·¯ç”±æ‡’åŠ è½½é…ç½®</li><li>æ”¹å˜å•é¡µé¢åº”ç”¨çš„ title</li><li>ç™»å½•æƒé™æ ¡éªŒ</li><li>é¡µé¢ç¼“å­˜é…ç½®</li></ul><h4 id="è·¯ç”±æ‡’åŠ è½½é…ç½®"><a href="#è·¯ç”±æ‡’åŠ è½½é…ç½®" class="headerlink" title="è·¯ç”±æ‡’åŠ è½½é…ç½®"></a>è·¯ç”±æ‡’åŠ è½½é…ç½®</h4><p>Vue é¡¹ç›®ä¸­å®ç°è·¯ç”±æŒ‰éœ€åŠ è½½ï¼ˆè·¯ç”±æ‡’åŠ è½½ï¼‰çš„ 3 ç§æ–¹å¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1ã€Vueå¼‚æ­¥ç»„ä»¶æŠ€æœ¯ï¼š</span></span><br><span class="line">&#123;</span><br><span class="line">  path: <span class="string">'/home'</span>,</span><br><span class="line">  name: <span class="string">'Home'</span>,</span><br><span class="line">  component: <span class="function"><span class="params">resolve</span> =&gt;</span> reqire([<span class="string">'../views/Home.vue'</span>], resolve)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2ã€es6ææ¡ˆçš„import()</span></span><br><span class="line">&#123;</span><br><span class="line">  path: <span class="string">'/'</span>,</span><br><span class="line">  name: <span class="string">'home'</span>,</span><br><span class="line">  component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../views/Home.vue'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3ã€webpackæä¾›çš„require.ensure()</span></span><br><span class="line">&#123;</span><br><span class="line">  path: <span class="string">'/home'</span>,</span><br><span class="line">  name: <span class="string">'Home'</span>,</span><br><span class="line">  component: <span class="function"><span class="params">r</span> =&gt;</span> <span class="built_in">require</span>.ensure([],() =&gt;  r(<span class="built_in">require</span>(<span class="string">'../views/Home.vue'</span>)), <span class="string">'home'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ¬é¡¹ç›®é‡‡ç”¨çš„æ˜¯ç¬¬äºŒç§æ–¹å¼ï¼Œä¸ºäº†åç»­ webpack æ‰“åŒ…ä¼˜åŒ–ã€‚</p><h4 id="æ”¹å˜å•é¡µé¢åº”ç”¨çš„-title"><a href="#æ”¹å˜å•é¡µé¢åº”ç”¨çš„-title" class="headerlink" title="æ”¹å˜å•é¡µé¢åº”ç”¨çš„ title"></a>æ”¹å˜å•é¡µé¢åº”ç”¨çš„ title</h4><p>ç”±äºå•é¡µé¢åº”ç”¨åªæœ‰ä¸€ä¸ª htmlï¼Œæ‰€æœ‰é¡µé¢çš„ title é»˜è®¤æ˜¯ä¸ä¼šæ”¹å˜çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥æ‰è·¯ç”±é…ç½®ä¸­åŠ å…¥ç›¸å…³å±æ€§ï¼Œå†åœ¨è·¯ç”±å®ˆå«ä¸­é€šè¿‡ js æ”¹å˜é¡µé¢çš„ title</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.title = to.meta.title</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="ç™»å½•æƒé™æ ¡éªŒ"><a href="#ç™»å½•æƒé™æ ¡éªŒ" class="headerlink" title="ç™»å½•æƒé™æ ¡éªŒ"></a>ç™»å½•æƒé™æ ¡éªŒ</h4><p>åœ¨åº”ç”¨ä¸­ï¼Œé€šå¸¸ä¼šæœ‰ä»¥ä¸‹çš„åœºæ™¯ï¼Œæ¯”å¦‚å•†åŸï¼šæœ‰äº›é¡µé¢æ˜¯ä¸éœ€è¦ç™»å½•å³å¯è®¿é—®çš„ï¼Œå¦‚é¦–é¡µï¼Œå•†å“è¯¦æƒ…é¡µç­‰ï¼Œéƒ½æ˜¯ç”¨æˆ·åœ¨ä»»ä½•æƒ…å†µéƒ½èƒ½çœ‹åˆ°çš„ï¼›ä½†æ˜¯ä¹Ÿæœ‰æ˜¯éœ€è¦ç™»å½•åæ‰èƒ½è®¿é—®çš„ï¼Œå¦‚ä¸ªäººä¸­å¿ƒï¼Œè´­ç‰©è½¦ç­‰ã€‚æ­¤æ—¶å°±éœ€è¦å¯¹é¡µé¢è®¿é—®è¿›è¡Œæ§åˆ¶äº†ã€‚</p><p>æ­¤å¤–ï¼Œåƒä¸€äº›éœ€è¦è®°å½•ç”¨æˆ·ä¿¡æ¯å’Œç™»å½•çŠ¶æ€çš„é¡¹ç›®ï¼Œä¹Ÿæ˜¯éœ€è¦åšç™»å½•æƒé™æ ¡éªŒçš„ï¼Œä»¥é˜²åˆ«æœ‰ç”¨å¿ƒçš„äººé€šè¿‡ç›´æ¥è®¿é—®é¡µé¢çš„ url æ‰“å¼€é¡µé¢ã€‚</p><p>æ­¤æ—¶ã€‚è·¯ç”±å®ˆå«å¯ä»¥å¸®åŠ©æˆ‘ä»¬åšç™»å½•æ ¡éªŒã€‚å…·ä½“å¦‚ä¸‹ï¼š</p><p>1ã€é…ç½®è·¯ç”±çš„ meta å¯¹è±¡çš„ auth å±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/'</span>,</span><br><span class="line">    name: <span class="string">'home'</span>,</span><br><span class="line">    component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../views/Home.vue'</span>),</span><br><span class="line">    meta: &#123; <span class="attr">title</span>: <span class="string">'é¦–é¡µ'</span>, <span class="attr">keepAlive</span>: <span class="literal">false</span>, <span class="attr">auth</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/mine'</span>,</span><br><span class="line">    name: <span class="string">'mine'</span>,</span><br><span class="line">    component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../views/mine.vue'</span>),</span><br><span class="line">    meta: &#123; <span class="attr">title</span>: <span class="string">'æˆ‘çš„'</span>, <span class="attr">keepAlive</span>: <span class="literal">false</span>, <span class="attr">auth</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>2ã€åœ¨è·¯ç”±é¦–é¡µè¿›è¡Œåˆ¤æ–­ã€‚å½“<code>to.meta.auth</code>ä¸º<code>true</code>(éœ€è¦ç™»å½•)ï¼Œä¸”ä¸å­˜åœ¨ç™»å½•ä¿¡æ¯ç¼“å­˜æ—¶ï¼Œéœ€è¦é‡å®šå‘å»ç™»å½•é¡µé¢</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.title = to.meta.title</span><br><span class="line">  <span class="keyword">const</span> userInfo = sessionStorage.getItem(<span class="string">'userInfo'</span>) || <span class="literal">null</span></span><br><span class="line">  <span class="keyword">if</span> (!userInfo &amp;&amp; to.meta.auth) &#123;</span><br><span class="line">    next(<span class="string">'/login'</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    next()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="é¡µé¢ç¼“å­˜é…ç½®"><a href="#é¡µé¢ç¼“å­˜é…ç½®" class="headerlink" title="é¡µé¢ç¼“å­˜é…ç½®"></a>é¡µé¢ç¼“å­˜é…ç½®</h4><p>é¡¹ç›®ä¸­ï¼Œæ€»æœ‰ä¸€äº›é¡µé¢æˆ‘ä»¬æ˜¯å¸Œæœ›åŠ è½½ä¸€æ¬¡å°±ç¼“å­˜ä¸‹æ¥çš„ï¼Œæ­¤æ—¶å°±ç”¨åˆ° keep-alive äº†ã€‚keep-alive æ˜¯ Vue æä¾›çš„ä¸€ä¸ªæŠ½è±¡ç»„ä»¶ï¼Œç”¨æ¥å¯¹ç»„ä»¶è¿›è¡Œç¼“å­˜ï¼Œä»è€ŒèŠ‚çœæ€§èƒ½ï¼Œç”±äºæ˜¯ä¸€ä¸ªæŠ½è±¡ç»„ä»¶ï¼Œæ‰€ä»¥åœ¨ v é¡µé¢æ¸²æŸ“å®Œæ¯•åä¸ä¼šè¢«æ¸²æŸ“æˆä¸€ä¸ª DOM å…ƒç´ ã€‚</p><p>1ã€é€šè¿‡é…ç½®è·¯ç”±çš„ meta å¯¹è±¡çš„ keepAlive å±æ€§å€¼æ¥åŒºåˆ†é¡µé¢æ˜¯å¦éœ€è¦ç¼“å­˜</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/'</span>,</span><br><span class="line">    name: <span class="string">'home'</span>,</span><br><span class="line">    component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../views/Home.vue'</span>),</span><br><span class="line">    meta: &#123; <span class="attr">title</span>: <span class="string">'é¦–é¡µ'</span>, <span class="attr">keepAlive</span>: <span class="literal">false</span>, <span class="attr">auth</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/list'</span>,</span><br><span class="line">    name: <span class="string">'list'</span>,</span><br><span class="line">    component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'../views/list.vue'</span>),</span><br><span class="line">    meta: &#123; <span class="attr">title</span>: <span class="string">'åˆ—è¡¨é¡µ'</span>, <span class="attr">keepAlive</span>: <span class="literal">true</span>, <span class="attr">auth</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>2ã€åœ¨ app.vue åšç¼“å­˜åˆ¤æ–­</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">v-if</span>=<span class="string">"!$route.meta.keepAlive"</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">v-if</span>=<span class="string">"$route.meta.keepAlive"</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å¤šç¯å¢ƒå˜é‡é…ç½®"><a href="#å¤šç¯å¢ƒå˜é‡é…ç½®" class="headerlink" title="å¤šç¯å¢ƒå˜é‡é…ç½®"></a>å¤šç¯å¢ƒå˜é‡é…ç½®</h2><p>é¦–å…ˆæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ç¯å¢ƒå˜é‡ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬çš„é¡¹ç›®ä¼šæœ‰ä¸‰ä¸ªç¯å¢ƒï¼Œæœ¬åœ°ç¯å¢ƒ(development)ï¼Œæµ‹è¯•ç¯å¢ƒ(test)ï¼Œç”Ÿäº§ç¯å¢ƒ(production)ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹å»ºä¸‰ä¸ªé…ç½®ç¯å¢ƒå˜é‡çš„æ–‡ä»¶<code>.env.development</code>ï¼Œ<code>.env.test</code>ï¼Œ<code>.env.production</code></p><p>ç¯å¢ƒå˜é‡æ–‡ä»¶ä¸­åªåŒ…å«ç¯å¢ƒå˜é‡çš„â€œé”®=å€¼â€å¯¹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NODE_ENV = <span class="string">'production'</span></span><br><span class="line">VUE_APP_ENV = <span class="string">'production'</span> <span class="comment">// åªæœ‰VUE_APPå¼€å¤´çš„ç¯å¢ƒå˜é‡å¯ä»¥åœ¨é¡¹ç›®ä»£ç ä¸­ç›´æ¥ä½¿ç”¨</span></span><br></pre></td></tr></table></figure><p>é™¤äº†è‡ªå®šä¹‰çš„ VUE<em>APP</em>*å˜é‡ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸¤ä¸ªå¯ç”¨çš„å˜é‡ï¼š</p><ul><li>NODE_ENV : â€œdevelopmentâ€ã€â€productionâ€ æˆ– â€œtestâ€ä¸­çš„ä¸€ä¸ªã€‚å…·ä½“çš„å€¼å–å†³äºåº”ç”¨è¿è¡Œçš„æ¨¡å¼ã€‚</li><li>BASE_URL : å’Œ vue.config.js ä¸­çš„ publicPath é€‰é¡¹ç›¸ç¬¦ï¼Œå³ä½ çš„åº”ç”¨ä¼šéƒ¨ç½²åˆ°çš„åŸºç¡€è·¯å¾„ã€‚</li></ul><p>ä¸‹é¢å¼€å§‹é…ç½®æˆ‘ä»¬çš„ç¯å¢ƒå˜é‡</p><p>1ã€åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ–°å»º.env.*</p><ul><li>.env.development æœ¬åœ°å¼€å‘ç¯å¢ƒé…ç½®</li></ul><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">NODE_ENV</span>=<span class="string">'development'</span></span><br><span class="line"><span class="attr">VUE_APP_ENV</span> = <span class="string">'development'</span></span><br></pre></td></tr></table></figure><ul><li>env.staging æµ‹è¯•ç¯å¢ƒé…ç½®</li></ul><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">NODE_ENV</span>=<span class="string">'production'</span></span><br><span class="line"><span class="attr">VUE_APP_ENV</span> = <span class="string">'staging'</span></span><br></pre></td></tr></table></figure><ul><li>env.production æ­£å¼ç¯å¢ƒé…ç½®</li></ul><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">NODE_ENV</span>=<span class="string">'production'</span></span><br><span class="line"><span class="attr">VUE_APP_ENV</span> = <span class="string">'production'</span></span><br></pre></td></tr></table></figure><p>ä¸ºäº†åœ¨ä¸åŒç¯å¢ƒé…ç½®æ›´å¤šçš„å˜é‡ï¼Œæˆ‘ä»¬åœ¨ src æ–‡ä»¶ä¸‹æ–°å»ºä¸€ä¸ª config/index</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¹æ®ç¯å¢ƒå¼•å…¥ä¸åŒé…ç½® process.env.NODE_ENV</span></span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">'./env.'</span> + process.env.VUE_APP_ENV)</span><br><span class="line"><span class="built_in">module</span>.exports = config</span><br></pre></td></tr></table></figure><p>åœ¨åŒçº§ç›®å½•ä¸‹æ–°å»º <code>env.development.js</code>ï¼Œ<code>env.test.js</code>ï¼Œ<code>env.production.js</code>ï¼Œåœ¨é‡Œé¢é…ç½®éœ€è¦çš„å˜é‡ã€‚<br>ä»¥ env.development.js ä¸ºä¾‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  baseUrl: <span class="string">'http://localhost:8089'</span>, <span class="comment">// é¡¹ç›®åœ°å€</span></span><br><span class="line">  baseApi: <span class="string">'https://www.mock.com/api'</span>, <span class="comment">// æœ¬åœ°apiè¯·æ±‚åœ°å€</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€é…ç½®æ‰“åŒ…å‘½ä»¤</p><p>package.json é‡Œçš„ scripts ä¸åŒç¯å¢ƒçš„æ‰“åŒ…å‘½ä»¤</p><ul><li>é€šè¿‡ npm run serve å¯åŠ¨æœ¬åœ°</li><li>é€šè¿‡ npm run test æ‰“åŒ…æµ‹è¯•</li><li>é€šè¿‡ npm run build æ‰“åŒ…æ­£å¼</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">  <span class="string">"dev"</span>: <span class="string">"vue-cli-service serve"</span>,</span><br><span class="line">  <span class="string">"build"</span>: <span class="string">"vue-cli-service build"</span>,</span><br><span class="line">  <span class="string">"test"</span>: <span class="string">"vue-cli-service build --mode test"</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="vue-config-js-é…ç½®"><a href="#vue-config-js-é…ç½®" class="headerlink" title="vue.config.js é…ç½®"></a>vue.config.js é…ç½®</h2><p>vue-cli3 å¼€å§‹ï¼Œæ–°å»ºçš„è„šæ‰‹æ¶éƒ½éœ€è¦æˆ‘ä»¬åœ¨ vue.config.js é…ç½®æˆ‘ä»¬é¡¹ç›®çš„ä¸œè¥¿ã€‚ä¸»è¦åŒ…æ‹¬</p><ul><li>æ‰“åŒ…åæ–‡ä»¶è¾“å‡ºä½ç½®</li><li>å…³é—­ç”Ÿäº§ç¯å¢ƒ sourcemap</li><li>é…ç½® rem è½¬åŒ– px</li><li>é…ç½® alias åˆ«å</li><li>å»é™¤ç”Ÿäº§ç¯å¢ƒ console</li><li>è·¨åŸŸä»£ç†è®¾ç½®</li></ul><p>æ­¤å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šå±äºä¼˜åŒ–æ‰“åŒ…çš„é…ç½®ï¼Œåé¢ä¼šä¸€ä¸€é“æ¥ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  publicPath: <span class="string">'./'</span>, <span class="comment">// é»˜è®¤ä¸º'/'</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// å°†æ„å»ºå¥½çš„æ–‡ä»¶è¾“å‡ºåˆ°å“ªé‡Œï¼Œæœ¬å¸è¦æ±‚</span></span><br><span class="line">  outputDir: <span class="string">'dist/static'</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ”¾ç½®ç”Ÿæˆçš„é™æ€èµ„æº(jsã€cssã€imgã€fonts)çš„ç›®å½•ã€‚</span></span><br><span class="line">  assetsDir: <span class="string">'static'</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æŒ‡å®šç”Ÿæˆçš„ index.html çš„è¾“å‡ºè·¯å¾„</span></span><br><span class="line">  indexPath: <span class="string">'index.html'</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ˜¯å¦ä½¿ç”¨åŒ…å«è¿è¡Œæ—¶ç¼–è¯‘å™¨çš„ Vue æ„å»ºç‰ˆæœ¬ã€‚</span></span><br><span class="line">  runtimeCompiler: <span class="literal">false</span>,</span><br><span class="line"></span><br><span class="line">  transpileDependencies: [],</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¦‚æœä½ ä¸éœ€è¦ç”Ÿäº§ç¯å¢ƒçš„ source map</span></span><br><span class="line">  productionSourceMap: <span class="literal">false</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é…ç½®css</span></span><br><span class="line">  css: &#123;</span><br><span class="line">    <span class="comment">// æ˜¯å¦ä½¿ç”¨cssåˆ†ç¦»æ’ä»¶ ExtractTextPlugin</span></span><br><span class="line">    extract: <span class="literal">true</span>,</span><br><span class="line">    sourceMap: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// cssé¢„è®¾å™¨é…ç½®é¡¹</span></span><br><span class="line">    loaderOptions: &#123;</span><br><span class="line">      postcss: &#123;</span><br><span class="line">        plugins: [</span><br><span class="line">          <span class="built_in">require</span>(<span class="string">'postcss-px2rem'</span>)(&#123;</span><br><span class="line">            remUnit: <span class="number">100</span>,</span><br><span class="line">          &#125;),</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// å¯ç”¨ CSS modules for all css / pre-processor files.</span></span><br><span class="line">    modules: <span class="literal">false</span>,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå…è®¸å¯¹å†…éƒ¨çš„ webpack é…ç½®è¿›è¡Œæ›´ç»†ç²’åº¦çš„ä¿®æ”¹ã€‚</span></span><br><span class="line">  chainWebpack: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// é…ç½®åˆ«å</span></span><br><span class="line">    config.resolve.alias</span><br><span class="line">      .set(<span class="string">'@'</span>, resolve(<span class="string">'src'</span>))</span><br><span class="line">      .set(<span class="string">'assets'</span>, resolve(<span class="string">'src/assets'</span>))</span><br><span class="line">      .set(<span class="string">'components'</span>, resolve(<span class="string">'src/components'</span>))</span><br><span class="line">      .set(<span class="string">'views'</span>, resolve(<span class="string">'src/views'</span>))</span><br><span class="line"></span><br><span class="line">    config.optimization.minimizer(<span class="string">'terser'</span>).tap(<span class="function">(<span class="params">args</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// å»é™¤ç”Ÿäº§ç¯å¢ƒconsole</span></span><br><span class="line">      args[<span class="number">0</span>].terserOptions.compress.drop_console = <span class="literal">true</span></span><br><span class="line">      <span class="keyword">return</span> args</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ˜¯å¦ä¸º Babel æˆ– TypeScript ä½¿ç”¨ thread-loaderã€‚è¯¥é€‰é¡¹åœ¨ç³»ç»Ÿçš„ CPU æœ‰å¤šäºä¸€ä¸ªå†…æ ¸æ—¶è‡ªåŠ¨å¯ç”¨ï¼Œä»…ä½œç”¨äºç”Ÿäº§æ„å»ºã€‚</span></span><br><span class="line">  parallel: <span class="built_in">require</span>(<span class="string">'os'</span>).cpus().length &gt; <span class="number">1</span>,</span><br><span class="line"></span><br><span class="line">  devServer: &#123;</span><br><span class="line">    host: <span class="string">'0.0.0.0'</span>,</span><br><span class="line">    port: <span class="number">8088</span>, <span class="comment">// ç«¯å£å·</span></span><br><span class="line">    https: <span class="literal">false</span>, <span class="comment">// https:&#123;type:Boolean&#125;</span></span><br><span class="line">    open: <span class="literal">false</span>, <span class="comment">// é…ç½®è‡ªåŠ¨å¯åŠ¨æµè§ˆå™¨  open: 'Google Chrome'-é»˜è®¤å¯åŠ¨è°·æ­Œ</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// é…ç½®å¤šä¸ªä»£ç†</span></span><br><span class="line">    proxy: &#123;</span><br><span class="line">      <span class="string">'/api'</span>: &#123;</span><br><span class="line">        target: <span class="string">'https://www.mock.com'</span>,</span><br><span class="line">        ws: <span class="literal">true</span>, <span class="comment">// ä»£ç†çš„WebSockets</span></span><br><span class="line">        changeOrigin: <span class="literal">true</span>, <span class="comment">// å…è®¸websocketsè·¨åŸŸ</span></span><br><span class="line">        pathRewrite: &#123;</span><br><span class="line">          <span class="string">'^/api'</span>: <span class="string">''</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŸºç¡€ç»„ä»¶å°è£…"><a href="#åŸºç¡€ç»„ä»¶å°è£…" class="headerlink" title="åŸºç¡€ç»„ä»¶å°è£…"></a>åŸºç¡€ç»„ä»¶å°è£…</h2><p>åœ¨å¼€å‘é¡¹ç›®è¿‡ç¨‹ä¸­ï¼Œé€šå¸¸ä¼šç”¨åˆ°å¾ˆå¤šåŠŸèƒ½å’Œè®¾è®¡ç›¸ç±»ä¼¼çš„ç»„ä»¶ï¼Œtoast å’Œ dialog ç»„ä»¶åŸºæœ¬æ˜¯æ¯ä¸€ä¸ªç§»åŠ¨ç«¯é¡¹ç›®éƒ½ä¼šç”¨åˆ°çš„ã€‚ä¸ºäº†æ›´å¥½åŒ¹é…è‡ªå·±å…¬å¸çš„ UI è®¾è®¡é£æ ¼ï¼Œæˆ‘ä»¬æ²¡æœ‰ç›´æ¥ç”¨ vant çš„ toast å’Œ dialog ç»„ä»¶ï¼Œè€Œæ˜¯è‡ªå·±å°è£…äº†ç±»ä¼¼çš„ç»„ä»¶ï¼Œå¯ä¾›ç›´æ¥è°ƒç”¨ï¼Œå¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$toast(&#123; <span class="attr">msg</span>: <span class="string">'æ‰‹æœºå·ç ä¸èƒ½ä¸ºç©º'</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>.$toast(&#123;</span><br><span class="line">  msg: <span class="string">'æˆåŠŸæç¤º'</span>,</span><br><span class="line">  type: <span class="string">'success'</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>.$dialog(&#123;</span><br><span class="line">  title: <span class="string">'åˆ é™¤æç¤º'</span>,</span><br><span class="line">  text: <span class="string">'æ˜¯å¦ç¡®å®šåˆ é™¤æ­¤æ ‡ç­¾ï¼Ÿ'</span>,</span><br><span class="line">  showCancelBtn: <span class="literal">true</span>,</span><br><span class="line">  confirmText: <span class="string">'ç¡®è®¤'</span>,</span><br><span class="line">  confirm(content) &#123;</span><br><span class="line">    alert(<span class="string">'åˆ é™¤æˆåŠŸ'</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ•ˆæœå›¾å¦‚ä¸‹</p><p><img src="https://user-gold-cdn.xitu.io/2020/5/10/171fc7862c4a065f?w=1032&amp;h=523&amp;f=png&amp;s=70452" alt=""></p><h4 id="toast-ä¼ å…¥å‚æ•°"><a href="#toast-ä¼ å…¥å‚æ•°" class="headerlink" title="toast ä¼ å…¥å‚æ•°"></a>toast ä¼ å…¥å‚æ•°</h4><p><strong>Props</strong></p><table><thead><tr><th>name</th><th>type</th><th>default</th><th>description</th></tr></thead><tbody><tr><td>msg</td><td>String</td><td>â€˜â€™</td><td>å¼¹çª—æç¤ºè¯­</td></tr><tr><td>type</td><td>String</td><td>â€˜â€™</td><td>å¼¹çª—ç±»å‹ï¼šsuccess(æˆåŠŸæç¤º),fail(å¤±è´¥æç¤º),warning(è­¦å‘Š),loading(åŠ è½½)</td></tr></tbody></table><h4 id="dialog-ä¼ å…¥å‚æ•°"><a href="#dialog-ä¼ å…¥å‚æ•°" class="headerlink" title="dialog ä¼ å…¥å‚æ•°"></a>dialog ä¼ å…¥å‚æ•°</h4><p><strong>Props</strong></p><table><thead><tr><th>name</th><th>type</th><th>default</th><th>description</th></tr></thead><tbody><tr><td>title</td><td>String</td><td>â€˜â€™</td><td>æ ‡é¢˜</td></tr><tr><td>text</td><td>String</td><td>â€˜â€™</td><td>æ–‡æœ¬å†…å®¹</td></tr><tr><td>type</td><td>String</td><td>â€˜â€™</td><td>é»˜è®¤çº¯æ–‡æœ¬ï¼Œinput(è¾“å…¥æ¡†)</td></tr><tr><td>maxlength</td><td>Number</td><td>20</td><td>è¾“å…¥çš„æœ€å¤šå­—æ•°</td></tr><tr><td>confirmText</td><td>String</td><td>ç¡®å®š</td><td>å³è¾¹æŒ‰é’®</td></tr><tr><td>cancelText</td><td>String</td><td>å–æ¶ˆ</td><td>å·¦è¾¹æŒ‰é’®</td></tr></tbody></table><p><strong>Events</strong></p><table><thead><tr><th>name</th><th>params</th><th>description</th></tr></thead><tbody><tr><td>confirm</td><td>null</td><td>é€‰æ‹©åçš„å›è°ƒ</td></tr><tr><td>cancel</td><td>ull</td><td>å–æ¶ˆåçš„å›è°ƒ</td></tr></tbody></table><h2 id="webpack-å¯è§†åŒ–åˆ†æ"><a href="#webpack-å¯è§†åŒ–åˆ†æ" class="headerlink" title="webpack å¯è§†åŒ–åˆ†æ"></a>webpack å¯è§†åŒ–åˆ†æ</h2><p>ä»è¿™é‡Œå¼€å§‹ï¼Œæˆ‘ä»¬å¼€å§‹è¿›è¡Œ webpack ä¼˜åŒ–æ‰“åŒ…ã€‚é¦–å…ˆæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ webpack æ‰“åŒ…æ€§èƒ½ç“¶é¢ˆï¼Œæ‰¾å‡ºé—®é¢˜æ‰€åœ¨ï¼Œç„¶åæ‰èƒ½å¯¹ç—‡ä¸‹è¯ã€‚æ­¤æ—¶å°±ç”¨åˆ° webpack-bundle-analyzer äº†ã€‚<br>1ã€å®‰è£…ä¾èµ–</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack-bundle-analyzer -D</span><br></pre></td></tr></table></figure><p>2ã€åœ¨ vue.config.js é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; BundleAnalyzerPlugin &#125; = <span class="built_in">require</span>(<span class="string">'webpack-bundle-analyzer'</span>)</span><br><span class="line">configureWebpack: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">'production'</span>) &#123;</span><br><span class="line">    config.plugins.push(<span class="keyword">new</span> BundleAnalyzerPlugin())</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰“åŒ…åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™æ ·ä¸€ä»½ä¾èµ–å›¾</p><p><img src="https://user-gold-cdn.xitu.io/2020/5/10/171fc78ad5a37759?w=1909&amp;h=931&amp;f=png&amp;s=235323" alt=""></p><p>ä»ä»¥ä¸Šçš„ç•Œé¢ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š</p><ul><li>æ‰“åŒ…å‡ºçš„æ–‡ä»¶ä¸­éƒ½åŒ…å«äº†ä»€ä¹ˆï¼Œä»¥åŠæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»</li><li>æ¯ä¸ªæ–‡ä»¶çš„å¤§å°åœ¨æ€»ä½“ä¸­çš„å æ¯”ï¼Œæ‰¾å‡ºè¾ƒå¤§çš„æ–‡ä»¶ï¼Œæ€è€ƒæ˜¯å¦æœ‰æ›¿æ¢æ–¹æ¡ˆï¼Œæ˜¯å¦ä½¿ç”¨äº†å®ƒåŒ…å«äº†ä¸å¿…è¦çš„ä¾èµ–ï¼Ÿ</li><li>æ˜¯å¦æœ‰é‡å¤çš„ä¾èµ–é¡¹ï¼Œå¯¹æ­¤å¯ä»¥å¦‚ä½•ä¼˜åŒ–ï¼Ÿ</li><li>æ¯ä¸ªæ–‡ä»¶çš„å‹ç¼©åçš„å¤§å°ã€‚</li></ul><h2 id="CDN-èµ„æºä¼˜åŒ–"><a href="#CDN-èµ„æºä¼˜åŒ–" class="headerlink" title="CDN èµ„æºä¼˜åŒ–"></a>CDN èµ„æºä¼˜åŒ–</h2><p>CDN çš„å…¨ç§°æ˜¯ <code>Content Delivery Network</code>ï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œã€‚CDN æ˜¯æ„å»ºåœ¨ç½‘ç»œä¹‹ä¸Šçš„å†…å®¹åˆ†å‘ç½‘ç»œï¼Œä¾é éƒ¨ç½²åœ¨å„åœ°çš„è¾¹ç¼˜æœåŠ¡å™¨ï¼Œé€šè¿‡ä¸­å¿ƒå¹³å°çš„è´Ÿè½½å‡è¡¡ã€å†…å®¹åˆ†å‘ã€è°ƒåº¦ç­‰åŠŸèƒ½æ¨¡å—ï¼Œä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œé™ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®å“åº”é€Ÿåº¦å’Œå‘½ä¸­ç‡ã€‚CDN çš„å…³é”®æŠ€æœ¯ä¸»è¦æœ‰å†…å®¹å­˜å‚¨å’Œåˆ†å‘æŠ€æœ¯ã€‚</p><p>éšç€é¡¹ç›®è¶Šåšè¶Šå¤§ï¼Œä¾èµ–çš„ç¬¬ä¸‰æ–¹ npm åŒ…è¶Šæ¥è¶Šå¤šï¼Œæ„å»ºä¹‹åçš„æ–‡ä»¶ä¹Ÿä¼šè¶Šæ¥è¶Šå¤§ã€‚å†åŠ ä¸Šåˆæ˜¯å•é¡µåº”ç”¨ï¼Œè¿™å°±ä¼šå¯¼è‡´åœ¨ç½‘é€Ÿè¾ƒæ…¢æˆ–è€…æœåŠ¡å™¨å¸¦å®½æœ‰é™çš„æƒ…å†µå‡ºç°é•¿æ—¶é—´çš„ç™½å±ã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ CDN çš„æ–¹æ³•ï¼Œä¼˜åŒ–ç½‘ç»œåŠ è½½é€Ÿåº¦ã€‚</p><p>1ã€å°† <code>vueã€vue-routerã€vuexã€axios</code> è¿™äº› vue å…¨å®¶æ¡¶çš„èµ„æºï¼Œå…¨éƒ¨æ”¹ä¸ºé€šè¿‡ CDN é“¾æ¥è·å–ï¼Œåœ¨ <code>index.html</code> é‡Œæ’å…¥ ç›¸åº”é“¾æ¥ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/vue/2.6.10/vue.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/axios/0.19.0-beta.1/axios.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/vuex/3.1.0/vuex.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/vue-router/3.0.2/vue-router.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/element-ui/2.6.1/index.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2ã€åœ¨ <code>vue.config.js</code> é…ç½® externals å±æ€§</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line"> Â·Â·Â·</span><br><span class="line">    externals: &#123;</span><br><span class="line">      <span class="string">'vue'</span>: <span class="string">'Vue'</span>,</span><br><span class="line">      <span class="string">'vuex'</span>: <span class="string">'Vuex'</span>,</span><br><span class="line">      <span class="string">'vue-router'</span>: <span class="string">'VueRouter'</span>,</span><br><span class="line">      <span class="string">'axios'</span>:<span class="string">'axios'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>3ã€å¸è½½ç›¸å…³ä¾èµ–çš„ npm åŒ…</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> uninstall  vue vue-router vuex axios</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å¯åŠ¨é¡¹ç›®è¿è¡Œå°±å¯ä»¥äº†ã€‚æˆ‘ä»¬åœ¨æ§åˆ¶å°å°±èƒ½å‘ç°é¡¹ç›®åŠ è½½äº†ä»¥ä¸Šå››ä¸ª CDN èµ„æºã€‚</p><p>ä¸è¿‡ç°åœ¨æœ‰ä¸å°‘å£°éŸ³è¯´ï¼Œvue å…¨å®¶æ¡¶åŠ è½½ CDN èµ„æºå…¶å®ä½œç”¨å¹¶ä¸å¤§ï¼Œè€Œä¸”å…¬å…±çš„ CDN èµ„æºä¹Ÿæ²¡æœ‰ npm åŒ…é‚£ä¹ˆç¨³å®šï¼Œè¿™ä¸ªå°±è§ä»è§æ™ºäº†ã€‚æ‰€ä»¥æˆ‘åœ¨æºç æ—¶æ–°å»ºçš„åˆ†æ”¯åšè¿™ä¸ªä¼˜åŒ–ã€‚å½“é¡¹ç›®è¾ƒå°çš„å°±ä¸è€ƒè™‘ CDN ä¼˜åŒ–äº†ã€‚</p><p>å½“ç„¶ï¼Œå½“å¼•å…¥å…¶ä»–è¾ƒå¤§ç¬¬ä¸‰æ–¹èµ„æºï¼Œæ¯”å¦‚ echartsï¼ŒAMAP(é«˜å¾·åœ°å›¾)ï¼Œé‡‡ç”¨ CDN èµ„æºè¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚</p><h2 id="gZip-åŠ é€Ÿä¼˜åŒ–"><a href="#gZip-åŠ é€Ÿä¼˜åŒ–" class="headerlink" title="gZip åŠ é€Ÿä¼˜åŒ–"></a>gZip åŠ é€Ÿä¼˜åŒ–</h2><p>æ‰€æœ‰ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒ gzip å‹ç¼©ï¼Œå¯ç”¨ gzip å‹ç¼©å¯å¤§å¹…ç¼©å‡ä¼ è¾“èµ„æºå¤§å°ï¼Œä»è€Œç¼©çŸ­èµ„æºä¸‹è½½æ—¶é—´ï¼Œå‡å°‘é¦–æ¬¡ç™½å±æ—¶é—´ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</p><p>gzip å¯¹åŸºäºæ–‡æœ¬æ ¼å¼æ–‡ä»¶çš„å‹ç¼©æ•ˆæœæœ€å¥½ï¼ˆå¦‚ï¼šCSSã€JavaScript å’Œ HTMLï¼‰ï¼Œåœ¨å‹ç¼©è¾ƒå¤§æ–‡ä»¶æ—¶å¾€å¾€å¯å®ç°é«˜è¾¾ 70-90% çš„å‹ç¼©ç‡ï¼Œå¯¹å·²ç»å‹ç¼©è¿‡çš„èµ„æºï¼ˆå¦‚ï¼šå›¾ç‰‡ï¼‰è¿›è¡Œ gzip å‹ç¼©å¤„ç†ï¼Œæ•ˆæœå¾ˆä¸å¥½ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> CompressionPlugin = <span class="built_in">require</span>(<span class="string">'compression-webpack-plugin'</span>)</span><br><span class="line">configureWebpack: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">'production'</span>) &#123;</span><br><span class="line">    config.plugins.push(</span><br><span class="line">      <span class="keyword">new</span> CompressionPlugin(&#123;</span><br><span class="line">        <span class="comment">// gzipå‹ç¼©é…ç½®</span></span><br><span class="line">        test: <span class="regexp">/\.js$|\.html$|\.css/</span>, <span class="comment">// åŒ¹é…æ–‡ä»¶å</span></span><br><span class="line">        threshold: <span class="number">10240</span>, <span class="comment">// å¯¹è¶…è¿‡10kbçš„æ•°æ®è¿›è¡Œå‹ç¼©</span></span><br><span class="line">        deleteOriginalAssets: <span class="literal">false</span>, <span class="comment">// æ˜¯å¦åˆ é™¤åŸæ–‡ä»¶</span></span><br><span class="line">      &#125;)</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é¦–é¡µæ·»åŠ éª¨æ¶å±"><a href="#é¦–é¡µæ·»åŠ éª¨æ¶å±" class="headerlink" title="é¦–é¡µæ·»åŠ éª¨æ¶å±"></a>é¦–é¡µæ·»åŠ éª¨æ¶å±</h2><p>éšç€ SPA åœ¨å‰ç«¯ç•Œçš„é€æ¸æµè¡Œï¼Œå•é¡µé¢åº”ç”¨ä¸å¯é¿å…åœ°ç»™é¦–é¡µåŠ è½½å¸¦æ¥å‹åŠ›ï¼Œæ­¤æ—¶è‰¯å¥½çš„é¦–é¡µç”¨æˆ·ä½“éªŒè‡³å…³é‡è¦ã€‚å¾ˆå¤š APP é‡‡ç”¨äº†â€œéª¨æ¶å±â€çš„æ–¹å¼å»å±•ç¤ºæœªåŠ è½½å†…å®¹ï¼Œç»™äºˆäº†ç”¨æˆ·ç„•ç„¶ä¸€æ–°çš„ä½“éªŒã€‚</p><p>æ‰€è°“çš„éª¨æ¶å±ï¼Œå°±æ˜¯åœ¨é¡µé¢å†…å®¹æœªåŠ è½½å®Œæˆçš„æ—¶å€™ï¼Œå…ˆä½¿ç”¨ä¸€äº›å›¾å½¢è¿›è¡Œå ä½ï¼Œå¾…å†…å®¹åŠ è½½å®Œæˆä¹‹åå†æŠŠå®ƒæ›¿æ¢æ‰ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ç”¨æˆ·ä¼šæ„ŸçŸ¥åˆ°å†…å®¹æ­£åœ¨é€æ¸åŠ è½½å¹¶å³å°†å‘ˆç°ï¼Œé™ä½äº†â€œç™½å±â€çš„ä¸è‰¯ä½“éªŒã€‚</p><p>æœ¬æ–‡é‡‡ç”¨vue-skeleton-webpack-pluginæ’ä»¶ä¸ºå•é¡µé¢åº”ç”¨æ³¨å…¥éª¨æ¶å±ã€‚  </p><p>1ã€åœ¨srcçš„commonæ–‡ä»¶å¤¹ä¸‹é¢åˆ›å»ºäº†Skeleton1.vueï¼ŒSkeleton2.vueï¼Œå…·ä½“çš„ç»“æ„å’Œæ ·å¼è‡ªè¡Œè®¾è®¡ï¼Œæ­¤å¤„çœç•¥ä¸€ä¸‡å­—ã€‚ã€‚ã€‚ã€‚</p><p>2ã€åœ¨åŒçº§ç›®å½•ä¸‹æ–°å»ºentry-skeleton.js<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Skeleton1 <span class="keyword">from</span> <span class="string">'./Skeleton1'</span></span><br><span class="line"><span class="keyword">import</span> Skeleton2 <span class="keyword">from</span> <span class="string">'./Skeleton2'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    Skeleton1,</span><br><span class="line">    Skeleton2</span><br><span class="line">  &#125;,</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;div&gt;</span></span><br><span class="line"><span class="string">      &lt;skeleton1 id="skeleton1" style="display:none"/&gt;</span></span><br><span class="line"><span class="string">      &lt;skeleton2 id="skeleton2" style="display:none"/&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  `</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>åœ¨vue.config.jsä¸‹é…ç½®æ’ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> SkeletonWebpackPlugin = <span class="built_in">require</span>(<span class="string">'vue-skeleton-webpack-plugin'</span>)</span><br><span class="line">configureWebpack: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">  config.plugins.push(</span><br><span class="line">    <span class="keyword">new</span> SkeletonWebpackPlugin(&#123;</span><br><span class="line">      webpackConfig: &#123;</span><br><span class="line">        entry: &#123;</span><br><span class="line">          app: path.join(__dirname, <span class="string">'./src/common/entry-skeleton.js'</span>),</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      minimize: <span class="literal">true</span>,</span><br><span class="line">      quiet: <span class="literal">true</span>,</span><br><span class="line">      router: &#123;</span><br><span class="line">        mode: <span class="string">'hash'</span>,</span><br><span class="line">        routes: [</span><br><span class="line">          &#123; <span class="attr">path</span>: <span class="string">'/'</span>, <span class="attr">skeletonId</span>: <span class="string">'skeleton1'</span> &#125;,</span><br><span class="line">          &#123; <span class="attr">path</span>: <span class="string">'/about'</span>, <span class="attr">skeletonId</span>: <span class="string">'skeleton2'</span> &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶é‡æ–°åŠ è½½é¡µé¢å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„éª¨æ¶å±äº†ã€‚<strong>æ³¨æ„ï¼šä¸€å®šè¦é…ç½®æ ·å¼åˆ†ç¦»extract: true</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€ä»‹&quot;&gt;&lt;/a&gt;ç®€ä»‹&lt;/h2&gt;&lt;p&gt;è¿™æ˜¯åŸºäº vue-cli4 å®ç°çš„ç§»åŠ¨ç«¯æ¡†æ¶ï¼Œå…¶ä¸­åŒ…å«é¡¹ç›®å¸¸ç”¨çš„é…ç½®ï¼Œç»„ä»¶å°è£…åŠwebpackä¼˜åŒ–æ–¹æ³•ï¼Œå¯ä¾›å¿«é€Ÿå¼€å‘ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æŠ€æœ¯æ ˆï¼švue-cli4 + webpack4 + vant + axios + less + postcss-px2rem&lt;/p&gt;
&lt;p&gt;æºç  &lt;a href=&quot;https://github.com/Michael-lzg/vue-cli4-vant&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/Michael-lzg/vue-cli4-vant&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å®‰è£…ä¾èµ–&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;npm install&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æœ¬åœ°å¯åŠ¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;npm run dev&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ç”Ÿäº§æ‰“åŒ…&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;npm run build&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="webpack" scheme="https://chongdee.github.io/categories/webpack/"/>
    
      <category term="vue" scheme="https://chongdee.github.io/categories/webpack/vue/"/>
    
    
      <category term="vue" scheme="https://chongdee.github.io/tags/vue/"/>
    
      <category term="webpack" scheme="https://chongdee.github.io/tags/webpack/"/>
    
  </entry>
  
  <entry>
    <title>react-webpack4é…ç½®ä¸ä¼˜åŒ–</title>
    <link href="https://chongdee.github.io/2021/05/09/webpack/react-webpack4%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BC%98%E5%8C%96/"/>
    <id>https://chongdee.github.io/2021/05/09/webpack/react-webpack4é…ç½®ä¸ä¼˜åŒ–/</id>
    <published>2021-05-08T17:08:22.403Z</published>
    <updated>2021-05-08T17:14:54.323Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸€ç¯‡æ–‡ç« ä¸å†™å‰è¨€æ€»æ„Ÿè§‰ä¸å¤ªæ­£å¼ï¼Œå¤§æ¦‚ä»‹ç»ä¸‹æˆ‘æ˜¯æ€ä¹ˆå®Œæˆä¸€ä¸ªæ€»çš„çŸ¥è¯†ç‚¹çš„æ¦‚æ‹¬çš„æŠŠã€‚å…¶å®å¾ˆå¤šäººéƒ½æœ‰ä¸€çœ‹å°±ä¼š,ä¸€åšå°±åºŸçš„ç‰¹ç‚¹(å½“ç„¶ä¹ŸåŒ…æ‹¬æˆ‘åœ¨å†…),è¿™ä¸ªæ—¶å€™ï¼Œä½ éœ€è¦åˆ¶å®šä¸€ä¸ªç•¥å¾®è¯¦ç»†çš„è®¡åˆ’ï¼Œå°±æ¯”å¦‚æˆ‘è¿™ç¯‡ä¼šé¦–å…ˆåˆ—å‡ºçŸ¥è¯†ç‚¹ï¼Œåˆ—å‡ºå¤§çš„æ–¹å‘ï¼Œåˆ¶å®šæ€ç»´å¯¼å›¾ï¼Œç„¶åæ ¹æ®æ€ç»´å¯¼å›¾ç¼–å†™ä»£ç ï¼Œè®¡åˆ’æ˜ç¡®ï¼Œå°±ä¼šäº‹åŠåŠŸå€ï¼Œå› æ­¤ï¼Œå¸Œæœ›ä½ å¯ä»¥è·Ÿç€æœ¬ç¯‡å¾ªåºæ¸è¿›çš„è·Ÿç€ä»£ç èµ°ä¸€éï¼Œä¸ç®¡æ˜¯çœŸå®å¼€å‘ï¼Œè¿˜æ˜¯é¢è¯•ï¼Œéƒ½æœ‰çš„æ‰¯ã€‚å¥½äº†ï¼Œä¸æ‰¯äº†ï¼Œå¯ä»¥å…ˆçœ‹ä¸‹ç›®å½•ã€‚ç°åœ¨å¼€å§‹</p><h2 id="ä¸€ã€åŸºç¡€é…ç½®"><a href="#ä¸€ã€åŸºç¡€é…ç½®" class="headerlink" title="ä¸€ã€åŸºç¡€é…ç½®"></a>ä¸€ã€åŸºç¡€é…ç½®</h2><h3 id="1ã€inité¡¹ç›®"><a href="#1ã€inité¡¹ç›®" class="headerlink" title="1ã€inité¡¹ç›®"></a>1ã€inité¡¹ç›®</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mkdir</span> react-webpack4-cook</span><br><span class="line"><span class="keyword">cd</span> react-webpack4-cook</span><br><span class="line"><span class="keyword">mkdir</span> src</span><br><span class="line"><span class="keyword">mkdir</span> dist</span><br><span class="line">npm init -<span class="built_in">y</span></span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="2ã€å®‰è£…webpack"><a href="#2ã€å®‰è£…webpack" class="headerlink" title="2ã€å®‰è£…webpack"></a>2ã€å®‰è£…webpack</h3><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">yarn add webpack webpack-cli webpack-dev-server -D <span class="comment">//webpack4æŠŠwebpackæ‹†åˆ†äº†</span></span><br><span class="line">touch webpack.config.js</span><br><span class="line"><span class="comment">// webpack.config.jsåˆå§‹åŒ–å†…å®¹</span></span><br><span class="line">module.exports = &#123;</span><br><span class="line"><span class="symbol">    mode:</span> <span class="string">"development"</span>,</span><br><span class="line"><span class="symbol">    entry:</span> [<span class="string">"./src/index.js"</span>],</span><br><span class="line"><span class="symbol">    output:</span> &#123;</span><br><span class="line">        <span class="comment">// è¾“å‡ºç›®å½•</span></span><br><span class="line"><span class="symbol">        path:</span> path.join(__dirname, <span class="string">"dist"</span>),</span><br><span class="line">        <span class="comment">// æ–‡ä»¶åç§°</span></span><br><span class="line"><span class="symbol">        filename:</span> <span class="string">"bundle.js"</span></span><br><span class="line">    &#125;,</span><br><span class="line"><span class="symbol">    module:</span>&#123;&#125;,</span><br><span class="line"><span class="symbol">    plugins:</span>[],</span><br><span class="line"><span class="symbol">    devServer:</span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3ã€å®‰è£…reactå¹¶ç¼–å†™ä»£ç "><a href="#3ã€å®‰è£…reactå¹¶ç¼–å†™ä»£ç " class="headerlink" title="3ã€å®‰è£…reactå¹¶ç¼–å†™ä»£ç "></a>3ã€å®‰è£…reactå¹¶ç¼–å†™ä»£ç </h3><p>è¿™éƒ¨åˆ†ä»£ç ç¯‡å¹…è¿‡å¤šï¼Œå°±æ˜¯ä¸€äº›ç®€å•çš„reactå’Œreact-routerçš„ä¸€äº›ä»£ç ç¼–å†™ï¼Œå¯ä»¥å»githubä¸ŠæŸ¥çœ‹ï¼Œè¿™é‡Œåªé˜è¿°åŸºæœ¬åŠŸèƒ½</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> src </span><br><span class="line">cnpm i react react-router-dom -<span class="built_in">S</span></span><br><span class="line"><span class="comment">// å»ºç«‹å¦‚ä¸‹çš„æ–‡ä»¶ç›®å½•ï¼Œå¹¶ç¼–å†™å®‰è£…reactå’Œreact-routerå¹¶ç¼–å†™reactä»£ç å¦‚ä¸‹</span></span><br><span class="line">|-src</span><br><span class="line">â”‚      index.js ä¸»æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€â”€pages</span><br><span class="line">â”‚      <span class="keyword">Count</span>.jsx -- å®ç°äº†ä¸€ä¸ªè®¡æ•°å™¨çš„åŠŸèƒ½ï¼Œç‚¹å‡»æŒ‰é’®ï¼Œä¼šè®©æ•°å­—å¢åŠ ï¼ŒæŒ‰é’®ä¼šå®æ—¶æ˜¾ç¤ºåœ¨é¡µé¢ä¸Š</span><br><span class="line">â”‚      Home.jsx -- ä¸€ä¸ªç®€å•çš„æ–‡å­—å±•ç¤º</span><br><span class="line">â””â”€â”€â”€router</span><br><span class="line">       index.js -- è·¯ç”±é…ç½®æ–‡ä»¶ï¼Œä¸¤ä¸ªé¡µé¢åˆ†åˆ«å¯¹åº”ä¸¤ä¸ªè·¯ç”± <span class="keyword">count</span>å’Œ home</span><br></pre></td></tr></table></figure><h3 id="4ã€babelç¼–è¯‘ES6-JSXç­‰"><a href="#4ã€babelç¼–è¯‘ES6-JSXç­‰" class="headerlink" title="4ã€babelç¼–è¯‘ES6,JSXç­‰"></a>4ã€babelç¼–è¯‘ES6,JSXç­‰</h3><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">//</span> @babel/core-babelæ ¸å¿ƒæ¨¡å—    @babel/preset-env-ç¼–è¯‘ES6ç­‰ @babel/preset-react-è½¬æ¢JSX</span><br><span class="line">cnpm i babel-loader @babel/core @babel/preset-env  @babel/plugin-transform-runtime   @babel/preset-react -D</span><br><span class="line"><span class="regexp">//</span> @babel/plugin-transform-runtime: é¿å… polyfill æ±¡æŸ“å…¨å±€å˜é‡ï¼Œå‡å°æ‰“åŒ…ä½“ç§¯</span><br><span class="line"><span class="regexp">//</span> @babel/polyfill: ES6 å†…ç½®æ–¹æ³•å’Œå‡½æ•°è½¬åŒ–å«ç‰‡</span><br><span class="line">cnpm i @babel/polyfill @babel/runtime</span><br><span class="line"> &#123;</span><br><span class="line">        test: <span class="regexp">/\.jsx?$/</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">"babel-loader"</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><p>æ–°å»º.babelrcæ–‡ä»¶</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"presets"</span>: [<span class="string">"@babel/preset-env"</span>,<span class="string">"@babel/preset-react"</span>],</span><br><span class="line">  <span class="attr">"plugins"</span>: [<span class="string">"@babel/plugin-transform-runtime"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5ã€æŒ‰éœ€å¼•å…¥polyfill"><a href="#5ã€æŒ‰éœ€å¼•å…¥polyfill" class="headerlink" title="5ã€æŒ‰éœ€å¼•å…¥polyfill"></a>5ã€æŒ‰éœ€å¼•å…¥polyfill</h3><p>åœ¨srcä¸‹çš„index.jsä¸­å…¨å±€å¼•å…¥ @babel/polyfill å¹¶å†™å…¥ ES6 è¯­æ³• ï¼Œä½†æ˜¯è¿™æ ·æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼š</p><p>å…¨å±€å¼•å…¥ @babel/polyfill çš„è¿™ç§æ–¹å¼å¯èƒ½ä¼šå¯¼å…¥ä»£ç ä¸­ä¸éœ€è¦çš„ polyfillï¼Œä»è€Œä½¿æ‰“åŒ…ä½“ç§¯æ›´å¤§<br>æ›´æ”¹ .babelrcï¼Œåªè½¬è¯‘æˆ‘ä»¬ä½¿ç”¨åˆ°çš„</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">npm install core-js@2 @babel/runtime-corejs2 -S</span><br><span class="line"> </span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"presets"</span>: [<span class="string">"@babel/preset-env"</span>,</span><br><span class="line">              &#123; <span class="string">"useBuiltIns"</span>: <span class="string">"usage"</span> &#125;,</span><br><span class="line">              <span class="string">"@babel/preset-react"</span>],</span><br><span class="line">  <span class="string">"plugins"</span>: [<span class="string">"@babel/plugin-transform-runtime"</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">å°†å°†å…¨å±€å¼•å…¥è¿™æ®µä»£ç æ³¨é‡Šæ‰</span><br><span class="line">// import <span class="string">'@babel/polyfill'</span></span><br></pre></td></tr></table></figure><p>è¿™å°±é…ç½®å¥½äº†æŒ‰éœ€å¼•å…¥ã€‚é…ç½®äº†æŒ‰éœ€å¼•å…¥ polyfill åï¼Œç”¨åˆ°es6ä»¥ä¸Šçš„å‡½æ•°ï¼Œbabelä¼šè‡ªåŠ¨å¯¼å…¥ç›¸å…³çš„polyfillï¼Œè¿™æ ·èƒ½å¤§å¤§å‡å°‘ æ‰“åŒ…ç¼–è¯‘åçš„ä½“ç§¯</p><h3 id="5ã€æ’ä»¶-CleanWebpackPlugin"><a href="#5ã€æ’ä»¶-CleanWebpackPlugin" class="headerlink" title="5ã€æ’ä»¶ CleanWebpackPlugin"></a>5ã€æ’ä»¶ CleanWebpackPlugin</h3><p>ä½ ç»è¿‡å¤šæ¬¡æ‰“åŒ…åä¼šå‘ç°ï¼Œæ¯æ¬¡æ‰“åŒ…éƒ½ä¼šåœ¨distç›®å½•ä¸‹è¾¹ç”Ÿæˆä¸€å †æ–‡ä»¶ï¼Œä½†æ˜¯ä¸Šä¸€æ¬¡çš„æ‰“åŒ…çš„æ–‡ä»¶è¿˜åœ¨ï¼Œæˆ‘ä»¬éœ€è¦æ¯æ¬¡æ‰“åŒ…æ—¶æ¸…é™¤ dist ç›®å½•ä¸‹æ—§ç‰ˆæœ¬æ–‡ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cnpm install  clean-webpack-plugin -D</span><br><span class="line"><span class="comment">// æ³¨æ„è¿™ä¸ªå¼•å…¥çš„å‘ï¼Œæœ€æ–°ç‰ˆçš„éœ€è¦è¿™æ ·å¼•å…¥ï¼Œè€Œä¸æ˜¯ç›´æ¥const CleanWebpackPlugin</span></span><br><span class="line"><span class="keyword">const</span> &#123; CleanWebpackPlugin &#125; = <span class="built_in">require</span>(<span class="string">'clean-webpack-plugin'</span>);</span><br><span class="line"> </span><br><span class="line">plugins: [</span><br><span class="line">    <span class="keyword">new</span> CleanWebpackPlugin() </span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="6ã€ä½¿ç”¨æ’ä»¶-HtmlWebpackPlugin"><a href="#6ã€ä½¿ç”¨æ’ä»¶-HtmlWebpackPlugin" class="headerlink" title="6ã€ä½¿ç”¨æ’ä»¶ HtmlWebpackPlugin"></a>6ã€ä½¿ç”¨æ’ä»¶ HtmlWebpackPlugin</h3><p>ç»è¿‡ä¸Šä¸€æ­¥çš„æ“ä½œï¼Œindex.html ä¹Ÿè¢«æ¸…é™¤äº†ã€‚å› æ­¤æˆ‘ä»¬å°†ä½¿ç”¨ HtmlWebpackPluginæ’ä»¶ï¼Œæ¥ç”Ÿæˆ htmlï¼Œ å¹¶å°†æ¯æ¬¡æ‰“åŒ…çš„jsè‡ªåŠ¨æ’å…¥åˆ°ä½ çš„ index.html é‡Œé¢å»ï¼Œè€Œä¸”å®ƒè¿˜å¯ä»¥åŸºäºä½ çš„æŸä¸ª html æ¨¡æ¿æ¥åˆ›å»ºæœ€ç»ˆçš„ index.htmlï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥æŒ‡å®šæ¨¡æ¿å“¦</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml">cnpm install html-webpack-plugin -D</span></span><br><span class="line"><span class="xml">// åˆ›å»ºtemplate.html</span></span><br><span class="line"><span class="xml">cd src</span></span><br><span class="line"><span class="xml">touch template.html</span></span><br><span class="line"><span class="xml"> </span></span><br><span class="line"><span class="xml">// å†…å®¹å¦‚ä¸‹</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>react-webpack4-cook<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="xml"> </span></span><br><span class="line"><span class="xml">// webpack.config.jsåšå‡ºæ›´æ”¹</span></span><br><span class="line"><span class="xml">const HtmlWebpackPlugin = require('html-webpack-plugin');</span></span><br><span class="line"><span class="xml">plugins: [</span></span><br><span class="line"><span class="xml">    new CleanWebpackPlugin(),</span></span><br><span class="line"><span class="xml">    new HtmlWebpackPlugin(</span><span class="template-variable">&#123;</span></span><br><span class="line"><span class="template-variable">      filename: 'index.html', // æœ€ç»ˆåˆ›å»ºçš„æ–‡ä»¶å</span></span><br><span class="line"><span class="template-variable">      template: path.join(__dirname, 'src/template.html') // æŒ‡å®šæ¨¡æ¿è·¯å¾„</span></span><br><span class="line"><span class="template-variable">    &#125;</span><span class="xml">)</span></span><br><span class="line"><span class="xml">  ]</span></span><br></pre></td></tr></table></figure><h3 id="7ã€ä½¿ç”¨-source-map-å¯¹devtoolè¿›è¡Œä¼˜åŒ–"><a href="#7ã€ä½¿ç”¨-source-map-å¯¹devtoolè¿›è¡Œä¼˜åŒ–" class="headerlink" title="7ã€ä½¿ç”¨ source-map,å¯¹devtoolè¿›è¡Œä¼˜åŒ–"></a>7ã€ä½¿ç”¨ source-map,å¯¹devtoolè¿›è¡Œä¼˜åŒ–</h3><p>webpackä¸­devtoolé€‰é¡¹ç”¨æ¥æ§åˆ¶æ˜¯å¦ç”Ÿæˆï¼Œä»¥åŠå¦‚ä½•ç”Ÿæˆ source mapã€‚ç®€è¨€ä¹‹ï¼Œsource mapå°±æ˜¯å¸®åŠ©æˆ‘ä»¬å®šä½åˆ°é”™è¯¯ä¿¡æ¯ä½ç½®çš„æ–‡ä»¶ã€‚æ­£ç¡®çš„é…ç½®source mapï¼Œèƒ½å¤Ÿæé«˜å¼€å‘æ•ˆç‡ï¼Œæ›´å¿«çš„å®šä½åˆ°é”™è¯¯ä½ç½®ã€‚</p><p>åœ¨webpack.config.jsä¸­é€‰é¡¹modeä¸‹åŠ ä¸Šå¦‚ä¸‹è¿™å¥è¯ï¼š</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">devtool:</span><span class="string">"cheap-module-eval-source-map"</span>,<span class="comment">// å¼€å‘ç¯å¢ƒé…ç½®</span></span><br><span class="line"><span class="symbol">devtool:</span><span class="string">"cheap-module-source-map"</span>,   <span class="comment">// çº¿ä¸Šç”Ÿæˆé…ç½®</span></span><br></pre></td></tr></table></figure><h3 id="8ã€ä½¿ç”¨-WebpackDevServer"><a href="#8ã€ä½¿ç”¨-WebpackDevServer" class="headerlink" title="8ã€ä½¿ç”¨ WebpackDevServer"></a>8ã€ä½¿ç”¨ WebpackDevServer</h3><p>webpack-dev-serverå°±æ˜¯åœ¨æœ¬åœ°ä¸ºæ­å»ºäº†ä¸€ä¸ªå°å‹çš„é™æ€æ–‡ä»¶æœåŠ¡å™¨ï¼Œæœ‰å®æ—¶é‡åŠ è½½çš„åŠŸèƒ½ï¼Œä¸ºå°†æ‰“åŒ…ç”Ÿæˆçš„èµ„æºæä¾›äº†webæœåŠ¡</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">devServer:</span> &#123;</span><br><span class="line"><span class="symbol">    hot:</span> true,</span><br><span class="line"><span class="symbol">    contentBase:</span> path.join(__dirname, <span class="string">"./dist"</span>),</span><br><span class="line"><span class="symbol">    host:</span> <span class="string">"0.0.0.0"</span>, <span class="comment">// å¯ä»¥ä½¿ç”¨æ‰‹æœºè®¿é—®</span></span><br><span class="line"><span class="symbol">    port:</span> <span class="number">8080</span>,</span><br><span class="line"><span class="symbol">    historyApiFallback:</span> true, <span class="comment">// è¯¥é€‰é¡¹çš„ä½œç”¨æ‰€æœ‰çš„404éƒ½è¿æ¥åˆ°index.html</span></span><br><span class="line"><span class="symbol">    proxy:</span> &#123;</span><br><span class="line">      <span class="comment">// ä»£ç†åˆ°åç«¯çš„æœåŠ¡åœ°å€ï¼Œä¼šæ‹¦æˆªæ‰€æœ‰ä»¥apiå¼€å¤´çš„è¯·æ±‚åœ°å€</span></span><br><span class="line">      <span class="string">"/api"</span>: <span class="string">"http://localhost:3000"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="9ã€ä½¿ç”¨-HotModuleReplacement-çƒ­æ¨¡å—æ›¿æ¢HMR"><a href="#9ã€ä½¿ç”¨-HotModuleReplacement-çƒ­æ¨¡å—æ›¿æ¢HMR" class="headerlink" title="9ã€ä½¿ç”¨ HotModuleReplacement (çƒ­æ¨¡å—æ›¿æ¢HMR)"></a>9ã€ä½¿ç”¨ HotModuleReplacement (çƒ­æ¨¡å—æ›¿æ¢HMR)</h3><p>å»ºç«‹äº†å¼€å‘ç¯å¢ƒæœ¬åœ°æœåŠ¡å™¨ åï¼Œå½“ä¿®æ”¹å†…å®¹åï¼Œç½‘é¡µä¼šåŒæ­¥åˆ·æ–°ï¼Œæˆ‘ä»¬ç°åœ¨è¿›å…¥toCOunté¡µé¢</p><ol><li><p>ç‚¹å‡»æŒ‰é’®ï¼Œå°†æ•°å­—åŠ åˆ°ä¸€ä¸ªä¸ä¸º0çš„æ•°ï¼Œæ¯”å¦‚åŠ åˆ°6</p></li><li><p>ç„¶åä½ å¯ä»¥åœ¨ä»£ç ä¸­æ”¹å˜æŒ‰é’®çš„æ–‡å­—ï¼Œéšä¾¿æ”¹ç‚¹ä¸œè¥¿ï¼Œä¼šå‘ç°ï¼Œé¡µé¢åˆ·æ–°åï¼Œæ•°å­—é‡æ–°å˜ä¸º0</p></li></ol><p>è¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œæƒ³è¦çš„æ˜¯ï¼Œèƒ½ä¸èƒ½æŠŠé¡µé¢çš„çŠ¶æ€ä¿å­˜äº†ï¼Œä¹Ÿå°±æ˜¯æ›´æ”¹äº†ä»£ç åï¼Œé¡µé¢è¿˜æ˜¯ä¿å­˜äº†æ•°å­—ä¸º6çš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯å®ç°å±€éƒ¨æ›´æ”¹ï¼Œé¦–å…ˆéœ€è¦ç”¨åˆ°ï¼šHotModuleReplacementPluginæ’ä»¶</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">devServer:</span> <span class="string">&#123;</span></span><br><span class="line"><span class="attr">    hot:</span> <span class="literal">true</span></span><br><span class="line"><span class="string">&#125;,</span></span><br><span class="line"> </span><br><span class="line"><span class="attr">plugins:</span> <span class="string">[</span></span><br><span class="line">    <span class="string">new</span> <span class="string">webpack.HotModuleReplacementPlugin()</span></span><br><span class="line"><span class="string">],</span></span><br></pre></td></tr></table></figure><p>å®Œäº‹ä¹‹åï¼Œç»§ç»­æ›´ä¸Šè¾¹çš„æ“ä½œï¼Œç‚¹å‡»æŒ‰é’®ï¼Œæ•°å­—å¢åŠ ï¼Œç„¶åæ›´æ”¹å†…å®¹ï¼Œå‘ç°è¿˜æ˜¯æ²¡æœ‰ä¿å­˜çŠ¶æ€ã€‚ã€‚ã€‚whatï¼Ÿæ€ä¹ˆåŠ</p><p>å¯¹@ï¼è¿™è¿˜æ²¡å®Œå‘¢ï¼Œæ¥ç€å¾€ä¸‹çœ‹ï¼Œæˆ‘ä»¬è¿˜éœ€è¦react-hot-loaderè¿™ä¸ªæ’ä»¶</p><h3 id="10ã€react-hot-loaderè®°å½•reacté¡µé¢ç•™å­˜çŠ¶æ€state"><a href="#10ã€react-hot-loaderè®°å½•reacté¡µé¢ç•™å­˜çŠ¶æ€state" class="headerlink" title="10ã€react-hot-loaderè®°å½•reacté¡µé¢ç•™å­˜çŠ¶æ€state"></a>10ã€react-hot-loaderè®°å½•reacté¡µé¢ç•™å­˜çŠ¶æ€state</h3><p>æˆ‘ä»¬ç»§ç»­æ¥ç€ä¸Šè¾¹çš„è¿›è¡Œæ“ä½œï¼Œåˆ†ä¸€ä¸‹å››æ­¥</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">cnpm i react-hot-loader -D</span><br><span class="line"> </span><br><span class="line"><span class="comment">// åœ¨ä¸»æ–‡ä»¶é‡Œè¿™æ ·å†™</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">"react-dom"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; AppContainer &#125; <span class="keyword">from</span> <span class="string">"react-hot-loader"</span>;------------------<span class="number">-1</span>ã€é¦–å…ˆå¼•å…¥AppContainre</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserRouter &#125; <span class="keyword">from</span> <span class="string">"react-router-dom"</span>;</span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">"./router"</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/*åˆå§‹åŒ–*/</span></span><br><span class="line">renderWithHotReload(Router);------------------<span class="number">-2</span>ã€åˆå§‹åŒ–</span><br><span class="line"> </span><br><span class="line"><span class="comment">/*çƒ­æ›´æ–°*/</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">module</span>.hot) &#123;------------------<span class="number">-3</span>ã€çƒ­æ›´æ–°æ“ä½œ</span><br><span class="line">  <span class="built_in">module</span>.hot.accept(<span class="string">"./router/index.js"</span>, () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> Router = <span class="built_in">require</span>(<span class="string">"./router/index.js"</span>).default;</span><br><span class="line">    renderWithHotReload(Router);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderWithHotReload</span>(<span class="params">Router</span>) </span>&#123;------------------<span class="number">-4</span>ã€å®šä¹‰æ¸²æŸ“å‡½æ•°</span><br><span class="line">  ReactDOM.render(</span><br><span class="line">    &lt;AppContainer&gt;</span><br><span class="line">      &lt;BrowserRouter&gt;</span><br><span class="line">        &lt;Router /&gt;</span><br><span class="line">      &lt;<span class="regexp">/BrowserRouter&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>AppContainer&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"app"</span>)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¥½äº†ï¼Œç°åœ¨ä½ å†è¯•è¯•</p><h3 id="11ã€ç¼–è¯‘csså’Œscss"><a href="#11ã€ç¼–è¯‘csså’Œscss" class="headerlink" title="11ã€ç¼–è¯‘csså’Œscss"></a>11ã€ç¼–è¯‘csså’Œscss</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cnpm install css-loader style-loader sass-loader node-sass -<span class="built_in">D</span></span><br><span class="line"> </span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">test</span>: /\.scss$/,</span><br><span class="line">    <span class="keyword">use</span>: [</span><br><span class="line">      <span class="string">"style-loader"</span>, <span class="comment">// åˆ›å»ºstyleæ ‡ç­¾ï¼Œå¹¶å°†cssæ·»åŠ è¿›å»</span></span><br><span class="line">      <span class="string">"css-loader"</span>, <span class="comment">// ç¼–è¯‘css</span></span><br><span class="line">      <span class="string">"sass-loader"</span> <span class="comment">// ç¼–è¯‘scss</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="12ã€é›†æˆpostcss"><a href="#12ã€é›†æˆpostcss" class="headerlink" title="12ã€é›†æˆpostcss"></a>12ã€é›†æˆpostcss</h3><p>æœ€å…³å¿ƒçš„è¿˜æ˜¯è¿™æœ‰å•¥ç”¨å•Šï¼Ÿè‡ªåŠ¨å¢åŠ å‰ç¼€ï¼Œ postcss-cssnextå…è®¸ä½ ä½¿ç”¨æœªæ¥çš„cssç‰¹æ€§ï¼Œå¹¶åšä¸€äº›å…¼å®¹å¤„ç†</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cnpm install  postcss-loader postcss-cssnext -<span class="built_in">D</span></span><br><span class="line"> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">test</span>: /\.scss$/,</span><br><span class="line">        <span class="keyword">use</span>: [</span><br><span class="line">            <span class="string">"style-loader"</span>, <span class="comment">// åˆ›å»ºstyleæ ‡ç­¾ï¼Œå¹¶å°†cssæ·»åŠ è¿›å»</span></span><br><span class="line">            <span class="string">"css-loader"</span>, <span class="comment">// ç¼–è¯‘css</span></span><br><span class="line">            <span class="string">"postcss-loader"</span>,</span><br><span class="line">            <span class="string">"sass-loader"</span> <span class="comment">// ç¼–è¯‘scss</span></span><br><span class="line">        ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åœ¨åˆšæ‰çš„home.scss åŠ ä¸Š transform: scale(2);</span></span><br><span class="line">é€šè¿‡æ§åˆ¶å°æŸ¥çœ‹ï¼Œå·²ç»è‡ªåŠ¨åŠ ä¸Šäº†å‰ç¼€</span><br></pre></td></tr></table></figure><h3 id="13ã€å¤„ç†å›¾ç‰‡"><a href="#13ã€å¤„ç†å›¾ç‰‡" class="headerlink" title="13ã€å¤„ç†å›¾ç‰‡"></a>13ã€å¤„ç†å›¾ç‰‡</h3><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">cnpm</span> <span class="selector-tag">i</span> <span class="selector-tag">file-loader</span> <span class="selector-tag">url-loader</span> <span class="selector-tag">-D</span></span><br><span class="line"> </span><br><span class="line"><span class="selector-tag">file-loader</span> è§£å†³<span class="selector-tag">css</span>ç­‰æ–‡ä»¶ä¸­å¼•å…¥å›¾ç‰‡è·¯å¾„çš„é—®é¢˜</span><br><span class="line"><span class="selector-tag">url-loader</span> å½“å›¾ç‰‡è¾ƒå°çš„æ—¶å€™ä¼šæŠŠå›¾ç‰‡<span class="selector-tag">BASE64</span>ç¼–ç ï¼Œå¤§äº<span class="selector-tag">limit</span>å‚æ•°çš„æ—¶å€™è¿˜æ˜¯ä½¿ç”¨<span class="selector-tag">file-loader</span> è¿›è¡Œæ‹·è´</span><br><span class="line">&#123;</span><br><span class="line">    <span class="attribute">test</span>: /\.(png|jpg|jpeg|gif|svg)/,</span><br><span class="line">    <span class="attribute">use</span>: &#123;</span><br><span class="line">      <span class="attribute">loader</span>: <span class="string">'url-loader'</span>,</span><br><span class="line">      <span class="attribute">options</span>: &#123;</span><br><span class="line">        <span class="attribute">outputPath</span>: <span class="string">'images/'</span>, <span class="comment">// å›¾ç‰‡è¾“å‡ºçš„è·¯å¾„</span></span><br><span class="line">        <span class="attribute">limit</span>: <span class="number">10</span> * <span class="number">1024</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="14ã€å¤„ç†å­—ä½“"><a href="#14ã€å¤„ç†å­—ä½“" class="headerlink" title="14ã€å¤„ç†å­—ä½“"></a>14ã€å¤„ç†å­—ä½“</h3><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        test: /\.(<span class="name">eot</span>|woff2?|ttf|svg)$/,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: 'url-loader',</span><br><span class="line">            options: &#123;</span><br><span class="line">              name: '[name]-[hash:5].min.[ext]',</span><br><span class="line">              limit: <span class="number">5000</span>, // fonts file size &lt;= <span class="number">5</span>KB, use 'base64'; else, output svg file</span><br><span class="line">              publicPath: 'fonts/',</span><br><span class="line">              outputPath: 'fonts/'</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><h2 id="äºŒã€webpackä¼˜åŒ–"><a href="#äºŒã€webpackä¼˜åŒ–" class="headerlink" title="äºŒã€webpackä¼˜åŒ–"></a>äºŒã€webpackä¼˜åŒ–</h2><h3 id="1ã€aliaså¯¹æ–‡ä»¶è·¯å¾„ä¼˜åŒ–"><a href="#1ã€aliaså¯¹æ–‡ä»¶è·¯å¾„ä¼˜åŒ–" class="headerlink" title="1ã€aliaså¯¹æ–‡ä»¶è·¯å¾„ä¼˜åŒ–"></a>1ã€aliaså¯¹æ–‡ä»¶è·¯å¾„ä¼˜åŒ–</h3><ol><li>extension: æŒ‡å®šextensionä¹‹åå¯ä»¥ä¸ç”¨åœ¨requireæˆ–æ˜¯importçš„æ—¶å€™åŠ æ–‡ä»¶æ‰©å±•å,ä¼šä¾æ¬¡å°è¯•æ·»åŠ æ‰©å±•åè¿›è¡ŒåŒ¹é…</li><li>alias: é…ç½®åˆ«åå¯ä»¥åŠ å¿«webpackæŸ¥æ‰¾æ¨¡å—çš„é€Ÿåº¦</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">resolve</span>: &#123;</span><br><span class="line">    <span class="attribute">extension</span>: [<span class="string">""</span>, <span class="string">".js"</span>, <span class="string">".jsx"</span>],</span><br><span class="line">    alias: &#123;</span><br><span class="line">      <span class="string">"@"</span>: path.<span class="built_in">join</span>(__dirname, <span class="string">"src"</span>),</span><br><span class="line">      pages: path.<span class="built_in">join</span>(__dirname, <span class="string">"src/pages"</span>),</span><br><span class="line">      router: path.<span class="built_in">join</span>(__dirname, <span class="string">"src/router"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><h3 id="14ã€ä½¿ç”¨é™æ€èµ„æºè·¯å¾„publicPath-CDN"><a href="#14ã€ä½¿ç”¨é™æ€èµ„æºè·¯å¾„publicPath-CDN" class="headerlink" title="14ã€ä½¿ç”¨é™æ€èµ„æºè·¯å¾„publicPath(CDN)"></a>14ã€ä½¿ç”¨é™æ€èµ„æºè·¯å¾„publicPath(CDN)</h3><p>CDNé€šè¿‡å°†èµ„æºéƒ¨ç½²åˆ°ä¸–ç•Œå„åœ°ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥å°±è¿‘è®¿é—®èµ„æºï¼ŒåŠ å¿«è®¿é—®é€Ÿåº¦ã€‚è¦æ¥å…¥CDNï¼Œéœ€è¦æŠŠç½‘é¡µçš„é™æ€èµ„æºä¸Šä¼ åˆ°CDNæœåŠ¡ä¸Šï¼Œåœ¨è®¿é—®è¿™äº›èµ„æºæ—¶ï¼Œä½¿ç”¨CDNæœåŠ¡æä¾›çš„URLã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">output</span>:&#123;</span><br><span class="line"> <span class="attribute">publicPatch</span>: <span class="string">'//ã€cdnã€‘.com'</span>, //æŒ‡å®šå­˜æ”¾JSæ–‡ä»¶çš„CDNåœ°å€</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2ã€MiniCssExtractPlugin-ï¼ŒæŠ½å–-css-æ–‡ä»¶"><a href="#2ã€MiniCssExtractPlugin-ï¼ŒæŠ½å–-css-æ–‡ä»¶" class="headerlink" title="2ã€MiniCssExtractPlugin ï¼ŒæŠ½å– css æ–‡ä»¶"></a>2ã€MiniCssExtractPlugin ï¼ŒæŠ½å– css æ–‡ä»¶</h3><p>å¦‚æœä¸åšé…ç½®ï¼Œæˆ‘ä»¬çš„cssæ˜¯ç›´æ¥æ‰“åŒ…è¿›jsé‡Œé¢çš„ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å•ç‹¬ç”Ÿæˆcssæ–‡ä»¶ã€‚ å› ä¸ºå•ç‹¬ç”Ÿæˆcss,csså¯ä»¥å’Œjså¹¶è¡Œä¸‹è½½ï¼Œæé«˜é¡µé¢åŠ è½½æ•ˆç‡</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">cnpm install mini-css-extract-plugin -D</span><br><span class="line"> </span><br><span class="line">const MiniCssExtractPlugin = require(<span class="string">"mini-css-extract-plugin"</span>);</span><br><span class="line"> </span><br><span class="line"> &#123;</span><br><span class="line"><span class="symbol">        test:</span> /\.scss$/,</span><br><span class="line"><span class="symbol">        use:</span> [</span><br><span class="line">          <span class="comment">// "style-loader", // bä¸å†éœ€è¦style-loaderè¦å·²ç»åˆ†ç¦»å¤„ç†</span></span><br><span class="line">          MiniCssExtractPlugin.loader,</span><br><span class="line">          <span class="string">"css-loader"</span>, <span class="comment">// ç¼–è¯‘css</span></span><br><span class="line">          <span class="string">"postcss-loader"</span>,</span><br><span class="line">          <span class="string">"sass-loader"</span> <span class="comment">// ç¼–è¯‘scss</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line"> </span><br><span class="line"><span class="symbol"> plugins:</span> [</span><br><span class="line">    new MiniCssExtractPlugin(&#123;</span><br><span class="line"><span class="symbol">      filename:</span> <span class="string">"[name].css"</span>,</span><br><span class="line"><span class="symbol">      chunkFilename:</span> <span class="string">"[id].css"</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure><h3 id="3ã€ä»£ç åˆ†å‰²æŒ‰éœ€åŠ è½½ã€æå–å…¬å…±ä»£ç "><a href="#3ã€ä»£ç åˆ†å‰²æŒ‰éœ€åŠ è½½ã€æå–å…¬å…±ä»£ç " class="headerlink" title="3ã€ä»£ç åˆ†å‰²æŒ‰éœ€åŠ è½½ã€æå–å…¬å…±ä»£ç "></a>3ã€ä»£ç åˆ†å‰²æŒ‰éœ€åŠ è½½ã€æå–å…¬å…±ä»£ç </h3><p>ä¸ºä»€ä¹ˆè¦å®ç°æŒ‰éœ€åŠ è½½ï¼Ÿ</p><p>æˆ‘ä»¬ç°åœ¨çœ‹åˆ°ï¼Œæ‰“åŒ…å®Œåï¼Œæ‰€æœ‰é¡µé¢åªç”Ÿæˆäº†ä¸€ä¸ªbundle.js,å½“æˆ‘ä»¬é¦–å±åŠ è½½çš„æ—¶å€™ï¼Œå°±ä¼šå¾ˆæ…¢ã€‚å› ä¸ºä»–ä¹Ÿä¸‹è½½äº†åˆ«çš„é¡µé¢çš„jsäº†,ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰§è¡Œå®Œæ¯•ä¹‹å‰ï¼Œé¡µé¢æ˜¯ å®Œï¼å…¨ï¼ç©ºï¼ç™½ï¼çš„ï¼ã€‚ å¦‚æœæ¯ä¸ªé¡µé¢å•ç‹¬æ‰“åŒ…è‡ªå·±çš„jsï¼Œå°±å¯ä»¥åœ¨è¿›å…¥é¡µé¢æ—¶å€™å†åŠ è½½è‡ªå·± çš„jsï¼Œé¦–å±åŠ è½½å°±å¯ä»¥å¿«å¾ˆå¤š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">optimization</span>: &#123;</span><br><span class="line">    <span class="attribute">splitChunks</span>: &#123;</span><br><span class="line">      chunks: <span class="string">"all"</span>, // æ‰€æœ‰çš„ chunks ä»£ç å…¬å…±çš„éƒ¨åˆ†åˆ†ç¦»å‡ºæ¥æˆä¸ºä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><h3 id="5ã€æ–‡ä»¶å‹ç¼©"><a href="#5ã€æ–‡ä»¶å‹ç¼©" class="headerlink" title="5ã€æ–‡ä»¶å‹ç¼©"></a>5ã€æ–‡ä»¶å‹ç¼©</h3><p>webpack4åªè¦åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹ï¼Œ ä»£ç å°±ä¼šè‡ªåŠ¨å‹ç¼©</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">mode:</span>productioin</span><br></pre></td></tr></table></figure><h3 id="6ã€æš´éœ²å…¨å±€å˜é‡"><a href="#6ã€æš´éœ²å…¨å±€å˜é‡" class="headerlink" title="6ã€æš´éœ²å…¨å±€å˜é‡"></a>6ã€æš´éœ²å…¨å±€å˜é‡</h3><p>å¯ä»¥ç›´æ¥åœ¨å…¨å±€ä½¿ç”¨$å˜é‡</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> webpack.ProvidePlugin(&#123;</span><br><span class="line">      $: <span class="string">'jquery'</span>, <span class="comment">// npm</span></span><br><span class="line">      jQuery: <span class="string">'jQuery'</span> <span class="comment">// æœ¬åœ°Jsæ–‡ä»¶</span></span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><h3 id="8ã€æŒ‡å®šç¯å¢ƒ-å®šä¹‰ç¯å¢ƒå˜é‡"><a href="#8ã€æŒ‡å®šç¯å¢ƒ-å®šä¹‰ç¯å¢ƒå˜é‡" class="headerlink" title="8ã€æŒ‡å®šç¯å¢ƒ,å®šä¹‰ç¯å¢ƒå˜é‡"></a>8ã€æŒ‡å®šç¯å¢ƒ,å®šä¹‰ç¯å¢ƒå˜é‡</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">plugins:</span> [</span><br><span class="line">    <span class="keyword">new</span> webpack.DefinePlugin(&#123;</span><br><span class="line">      <span class="string">'process.env'</span>: &#123;</span><br><span class="line"><span class="symbol">        VUEP_BASE_URL:</span> JSON.stringify(<span class="string">'http://localhost:9000'</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;),</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="9ã€css-Tree-Shaking"><a href="#9ã€css-Tree-Shaking" class="headerlink" title="9ã€css Tree Shaking"></a>9ã€css Tree Shaking</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">npm i <span class="built_in">glob</span>-<span class="keyword">all</span> purify-css purifycss-webpack --save-dev</span><br><span class="line"> </span><br><span class="line">const PurifyCSS = require(<span class="string">'purifycss-webpack'</span>)</span><br><span class="line">const <span class="built_in">glob</span> = require(<span class="string">'glob-all'</span>)</span><br><span class="line">plugin<span class="variable">s:</span>[</span><br><span class="line">    // æ¸…é™¤æ— ç”¨ css</span><br><span class="line">    <span class="keyword">new</span> PurifyCSS(&#123;</span><br><span class="line">      path<span class="variable">s:</span> <span class="built_in">glob</span>.<span class="keyword">sync</span>([</span><br><span class="line">        // è¦åš CSS Tree Shaking çš„è·¯å¾„æ–‡ä»¶</span><br><span class="line">        path.<span class="built_in">resolve</span>(__dirname, <span class="string">'./src/*.html'</span>), // è¯·æ³¨æ„ï¼Œæˆ‘ä»¬åŒæ ·éœ€è¦å¯¹ html æ–‡ä»¶è¿›è¡Œ tree shaking</span><br><span class="line">        path.<span class="built_in">resolve</span>(__dirname, <span class="string">'./src/*.js'</span>)</span><br><span class="line">      ])</span><br><span class="line">    &#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="10ã€js-Tree-Shaking"><a href="#10ã€js-Tree-Shaking" class="headerlink" title="10ã€js Tree Shaking"></a>10ã€js Tree Shaking</h3><p>æ¸…é™¤åˆ°ä»£ç ä¸­æ— ç”¨çš„jsä»£ç ï¼Œåªæ”¯æŒimportæ–¹å¼å¼•å…¥ï¼Œä¸æ”¯æŒcommonjsçš„æ–¹å¼å¼•å…¥</p><p><strong>åªè¦modeæ˜¯productionå°±ä¼šç”Ÿæ•ˆï¼Œdevelpomentçš„tree shakingæ˜¯ä¸ç”Ÿæ•ˆçš„ï¼Œå› ä¸ºwebpackä¸ºäº†æ–¹ä¾¿ä½ çš„è°ƒè¯•</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">optimization</span>: &#123;</span><br><span class="line">    <span class="attribute">usedExports</span>:true,</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="11ã€DllPluginæ’ä»¶æ‰“åŒ…ç¬¬ä¸‰æ–¹ç±»åº“"><a href="#11ã€DllPluginæ’ä»¶æ‰“åŒ…ç¬¬ä¸‰æ–¹ç±»åº“" class="headerlink" title="11ã€DllPluginæ’ä»¶æ‰“åŒ…ç¬¬ä¸‰æ–¹ç±»åº“"></a>11ã€DllPluginæ’ä»¶æ‰“åŒ…ç¬¬ä¸‰æ–¹ç±»åº“</h3><p>é¡¹ç›®ä¸­å¼•å…¥äº†å¾ˆå¤šç¬¬ä¸‰æ–¹åº“ï¼Œè¿™äº›åº“åœ¨å¾ˆé•¿çš„ä¸€æ®µæ—¶é—´å†…ï¼ŒåŸºæœ¬ä¸ä¼šæ›´æ–°ï¼Œæ‰“åŒ…çš„æ—¶å€™åˆ†å¼€æ‰“åŒ…æ¥æå‡æ‰“åŒ…é€Ÿåº¦ï¼Œè€ŒDllPluginåŠ¨æ€é“¾æ¥åº“æ’ä»¶ï¼Œå…¶åŸç†å°±æ˜¯æŠŠç½‘é¡µä¾èµ–çš„åŸºç¡€æ¨¡å—æŠ½ç¦»å‡ºæ¥æ‰“åŒ…åˆ°dllæ–‡ä»¶ä¸­ï¼Œå½“éœ€è¦å¯¼å…¥çš„æ¨¡å—å­˜åœ¨äºæŸä¸ªdllä¸­æ—¶ï¼Œè¿™ä¸ªæ¨¡å—ä¸å†è¢«æ‰“åŒ…ï¼Œè€Œæ˜¯å»dllä¸­è·å–ã€‚</p><p>å®‰è£…jqueryï¼Œå¹¶åœ¨å…¥å£æ–‡ä»¶å¼•å…¥ã€‚æ–°å»ºwebpack.dll.config.jsæ–‡ä»¶</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @desc é™æ€å…¬å…±èµ„æºæ‰“åŒ…é…ç½®</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = require(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = require(<span class="string">'webpack'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> src = path.resolve(<span class="built_in">process</span>.cwd(), <span class="string">'src'</span>); <span class="comment">// æºç ç›®å½•</span></span><br><span class="line"><span class="keyword">const</span> evn = <span class="built_in">process</span>.env.NODE_ENV == <span class="string">"production"</span> ? <span class="string">"production"</span> : <span class="string">"development"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span>.exports = &#123;</span><br><span class="line">    mode: <span class="string">'production'</span>,</span><br><span class="line">    entry: &#123;</span><br><span class="line">        <span class="comment">// å®šä¹‰ç¨‹åºä¸­æ‰“åŒ…å…¬å…±æ–‡ä»¶çš„å…¥å£æ–‡ä»¶vendor.js</span></span><br><span class="line">        jquery: [<span class="string">'jquery'</span>]</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'..'</span>, <span class="string">'dll'</span>),</span><br><span class="line">        filename: <span class="string">'[name].dll.js'</span>,</span><br><span class="line">        library: <span class="string">'[name]_[hash]'</span>,</span><br><span class="line">        libraryTarget: <span class="string">'this'</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> webpack.DllPlugin(&#123;</span><br><span class="line">            <span class="comment">// å®šä¹‰ç¨‹åºä¸­æ‰“åŒ…å…¬å…±æ–‡ä»¶çš„å…¥å£æ–‡ä»¶vendor.js</span></span><br><span class="line">            context: <span class="built_in">process</span>.cwd(),</span><br><span class="line"></span><br><span class="line">            <span class="comment">// manifest.jsonæ–‡ä»¶çš„è¾“å‡ºä½ç½®</span></span><br><span class="line">            path: path.resolve(__dirname, <span class="string">'..'</span>, <span class="string">'dll/[name]-manifest.json'</span>),</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å®šä¹‰æ‰“åŒ…çš„å…¬å…±vendoræ–‡ä»¶å¯¹å¤–æš´éœ²çš„å‡½æ•°å</span></span><br><span class="line">            name: <span class="string">'[name]_[hash]'</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨package.jsonä¸­æ·»åŠ </p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"build:dll"</span>: <span class="string">"webpack --config ./build/webpack.dll.config.js"</span>,</span><br></pre></td></tr></table></figure><p>è¿è¡Œ</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">run</span><span class="bash"> build:dll</span></span><br></pre></td></tr></table></figure><p>ä½ ä¼šå‘ç°å¤šäº†ä¸€ä¸ªdllæ–‡ä»¶å¤¹ï¼Œé‡Œè¾¹æœ‰dll.jsæ–‡ä»¶ï¼Œè¿™æ ·æˆ‘ä»¬å°±æŠŠæˆ‘ä»¬çš„jqueryè¿™äº›å·²ç»å•ç‹¬æ‰“åŒ…äº†ï¼Œæ¥ä¸‹æ¥æ€ä¹ˆä½¿ç”¨å‘¢ï¼Ÿ</p><p>éœ€è¦å†å®‰è£…ä¸€ä¸ªä¾èµ– npm i add-asset-html-webpack-pluginï¼Œå®ƒä¼šå°†æˆ‘ä»¬æ‰“åŒ…åçš„ dll.js æ–‡ä»¶æ³¨å…¥åˆ°æˆ‘ä»¬ç”Ÿæˆçš„ index.html ä¸­.åœ¨ webpack.base.config.js æ–‡ä»¶ä¸­è¿›è¡Œæ›´æ”¹ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">new</span> <span class="selector-tag">AddAssetHtmlWebpackPlugin</span>(&#123;</span><br><span class="line"> <span class="attribute">filepath</span>: path.<span class="built_in">resolve</span>(__dirname, <span class="string">'../dll/jquery.dll.js'</span>) // å¯¹åº”çš„ dll æ–‡ä»¶è·¯å¾„</span><br><span class="line"> &#125;),</span><br><span class="line"> <span class="selector-tag">new</span> <span class="selector-tag">webpack</span><span class="selector-class">.DllReferencePlugin</span>(&#123;</span><br><span class="line"> <span class="attribute">manifest</span>: path.<span class="built_in">resolve</span>(__dirname, <span class="string">'..'</span>, <span class="string">'dll/jquery-manifest.json'</span>)</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure><p>å¥½äº†ï¼Œä½ å¯æœ‰å§new webpack.DllReferencePluginè¿™ä¸ªæ’ä»¶æ³¨é‡Šæ‰ï¼Œæ‰“åŒ…è¯•ä¸‹ï¼Œåœ¨æ”¾å¼€æ‰“åŒ…è¯•ä¸€ä¸‹ï¼Œæˆ‘æµ‹è¯•ç»“æœï¼Œæ³¨é‡Šé’±5689ï¼Œæ³¨é‡Šåï¼Œ5302msï¼Œæ‰å·®äº†300ms?æ³¨æ„ï¼Œæˆ‘è¿™é‡Œåªæœ‰ä¸€ä¸ªjqueryåŒ…ä½œä¸ºæ¼”ç¤ºï¼Œè¦æ˜¯ä½ æŠŠå¾ˆå¤šä¸ªéƒ½æŠ½ç¦»äº†å‡ºæ¥å‘¢ï¼Ÿï¼Ÿï¼Ÿé‚£å²‚ä¸æ˜¯å¾ˆææ€–äº†ã€‚å¦‚æœä½ çœ‹çš„æœ‰ç‚¹è¿·è¿·ç³Šç³Šï¼Œé‚£æ¨èå»çº¿ä¸Šçœ‹ä¸€ä¸‹æˆ‘çš„ä»£ç å§ï¼Œä¸€çœ‹ä¾¿çŸ¥</p><h3 id="12ã€ä½¿ç”¨happypackå¹¶å‘æ‰§è¡Œä»»åŠ¡"><a href="#12ã€ä½¿ç”¨happypackå¹¶å‘æ‰§è¡Œä»»åŠ¡" class="headerlink" title="12ã€ä½¿ç”¨happypackå¹¶å‘æ‰§è¡Œä»»åŠ¡"></a>12ã€ä½¿ç”¨happypackå¹¶å‘æ‰§è¡Œä»»åŠ¡</h3><p>è¿è¡Œåœ¨ Node.ä¹‹ä¸Šçš„Webpackæ˜¯å•çº¿ç¨‹æ¨¡å‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´Webpackéœ€è¦ä¸€ä¸ªä¸€ä¸ªåœ°å¤„ç†ä»»åŠ¡ï¼Œä¸èƒ½åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡ã€‚ Happy Pack å°±èƒ½è®©Webpackåšåˆ°è¿™ä¸€ç‚¹ï¼Œå®ƒå°†ä»»åŠ¡åˆ†è§£ç»™å¤šä¸ªå­è¿›ç¨‹å»å¹¶å‘æ‰§è¡Œï¼Œå­è¿›ç¨‹å¤„ç†å®Œåå†å°†ç»“æœå‘é€ç»™ä¸»è¿›ç¨‹ã€‚</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">cnpm i -D happypack</span><br><span class="line"> </span><br><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"> rules: [</span><br><span class="line">     &#123;</span><br><span class="line">        <span class="comment">// cnpm i babel-loader @babel/core @babel/preset-env -D</span></span><br><span class="line">        test: <span class="regexp">/\.jsx?$/</span>,</span><br><span class="line">        <span class="keyword">exclude</span>: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="comment">// ä¸€ä¸ªloaderå¯¹åº”ä¸€ä¸ªid</span></span><br><span class="line">            loader: <span class="string">"happypack/loader?id=busongBabel"</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">      ]</span><br><span class="line"> </span><br><span class="line"><span class="comment">//åœ¨pluginsä¸­å¢åŠ </span></span><br><span class="line">plugins:[</span><br><span class="line">      <span class="keyword">new</span> HappyPack(&#123;</span><br><span class="line">      <span class="comment">// ç”¨å”¯ä¸€çš„æ ‡è¯†ç¬¦idï¼Œæ¥ä»£è¡¨å½“å‰çš„HappyPackæ˜¯ç”¨æ¥å¤„ç†ä¸€ç±»ç‰¹å®šçš„æ–‡ä»¶</span></span><br><span class="line">      id:<span class="string">'busongBabel'</span>,</span><br><span class="line">      <span class="comment">// å¦‚ä½•å¤„ç†.jsæ–‡ä»¶ï¼Œç”¨æ³•å’ŒLoaderé…ç½®ä¸­ä¸€æ ·</span></span><br><span class="line">      loaders:[<span class="string">'babel-loader?cacheDirectory'</span>],</span><br><span class="line">      threadPool: HappyPackThreadPool,</span><br><span class="line">  &#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="13ã€PWAä¼˜åŒ–ç­–ç•¥"><a href="#13ã€PWAä¼˜åŒ–ç­–ç•¥" class="headerlink" title="13ã€PWAä¼˜åŒ–ç­–ç•¥"></a>13ã€PWAä¼˜åŒ–ç­–ç•¥</h3><p>ç®€è¨€ä¹‹ï¼šåœ¨ä½ ç¬¬ä¸€æ¬¡è®¿é—®ä¸€ä¸ªç½‘ç«™çš„æ—¶å€™ï¼Œå¦‚æœæˆåŠŸï¼Œåšä¸€ä¸ªç¼“å­˜ï¼Œå½“æœåŠ¡å™¨æŒ‚äº†ä¹‹åï¼Œä½ ä¾ç„¶èƒ½å¤Ÿè®¿é—®è¿™ä¸ªç½‘é¡µ ï¼Œè¿™å°±æ˜¯PWAã€‚é‚£ç›¸ä¿¡ä½ ä¹Ÿå·²ç»çŸ¥é“äº†ï¼Œè¿™ä¸ªåªéœ€è¦åœ¨ç”Ÿäº§ç¯å¢ƒï¼Œæ‰éœ€è¦åšPWAçš„å¤„ç†ï¼Œä»¥é˜²ä¸æµ‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">cnpm i workbox-webpack-plugin -D</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> WorkboxPlugin = <span class="built_in">require</span>(<span class="string">'workbox-webpack-plugin'</span>) <span class="comment">// å¼•å…¥ PWA æ’ä»¶</span></span><br><span class="line"><span class="keyword">const</span> prodConfig = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="comment">// é…ç½® PWA</span></span><br><span class="line">    <span class="keyword">new</span> WorkboxPlugin.GenerateSW(&#123;</span><br><span class="line">      clientsClaim: <span class="literal">true</span>,</span><br><span class="line">      skipWaiting: <span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">åœ¨å…¥å£æ–‡ä»¶åŠ ä¸Š</span><br><span class="line"><span class="comment">// åˆ¤æ–­è¯¥æµè§ˆå™¨æ”¯ä¸æ”¯æŒ serviceWorker</span></span><br><span class="line"><span class="keyword">if</span> (<span class="string">'serviceWorker'</span> <span class="keyword">in</span> navigator) &#123;</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'load'</span>, <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    navigator.serviceWorker</span><br><span class="line">      .register(<span class="string">'/service-worker.js'</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">registration</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'service-worker registed'</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'service-worker registed error'</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®å®Œåï¼Œä½ å¯ä»¥æ‰“åŒ…åˆ°distç›®å½•ä¸‹ï¼Œåœ¨distç›®å½•ä¸‹å¯åŠ¨ä¸€ä¸ªé™æ€æœåŠ¡å™¨ï¼Œè®¿é—®é¦–é¡µï¼Œç„¶åå…³é—­è¿™ä¸ªæœåŠ¡å™¨ï¼Œä½ ä¼šæƒŠè®¶çš„å‘ç°ï¼šç½‘ç«™ç«Ÿç„¶è¿˜èƒ½å¤Ÿè®¿é—®ï¼Œå“ˆå“ˆï¼Œæ˜¯ä¸æ˜¯å¾ˆç¥å¥‡ï¼Ÿ</p><h3 id="15ã€åˆå¹¶æå–webpackå…¬å…±é…ç½®"><a href="#15ã€åˆå¹¶æå–webpackå…¬å…±é…ç½®" class="headerlink" title="15ã€åˆå¹¶æå–webpackå…¬å…±é…ç½®"></a>15ã€åˆå¹¶æå–webpackå…¬å…±é…ç½®</h3><p> å¼€å‘ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒä»¥åŠwebpacké…ç½®æ–‡ä»¶çš„åˆ†ç¦»ï¼Œå…·ä½“éœ€è¦ç”¨åˆ°webpack-mergeï¼Œç”¨æ¥ åˆå¹¶ webpacké…ç½®</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä¸€ç¯‡æ–‡ç« ä¸å†™å‰è¨€æ€»æ„Ÿè§‰ä¸å¤ªæ­£å¼ï¼Œå¤§æ¦‚ä»‹ç»ä¸‹æˆ‘æ˜¯æ€ä¹ˆå®Œæˆä¸€ä¸ªæ€»çš„çŸ¥è¯†ç‚¹çš„æ¦‚æ‹¬çš„æŠŠã€‚å…¶å®å¾ˆå¤šäººéƒ½æœ‰ä¸€çœ‹å°±ä¼š,ä¸€åšå°±åºŸçš„ç‰¹ç‚¹(å½“ç„¶ä¹ŸåŒ…æ‹¬æˆ‘åœ¨å†…),è¿™ä¸ªæ—¶å€™ï¼Œä½ éœ€è¦åˆ¶å®šä¸€ä¸ªç•¥å¾®è¯¦ç»†çš„è®¡åˆ’ï¼Œå°±æ¯”å¦‚æˆ‘è¿™ç¯‡ä¼šé¦–å…ˆåˆ—å‡ºçŸ¥è¯†ç‚¹ï¼Œåˆ—å‡ºå¤§çš„æ–¹å‘ï¼Œåˆ¶å®šæ€ç»´å¯¼å›¾ï¼Œç„¶åæ ¹æ®æ€ç»´å¯¼å›¾ç¼–å†™ä»£ç ï¼Œè®¡åˆ’æ˜ç¡®ï¼Œå°±ä¼šäº‹åŠåŠŸå€ï¼Œå› æ­¤ï¼Œå¸Œæœ›ä½ å¯ä»¥è·Ÿç€æœ¬ç¯‡å¾ªåºæ¸è¿›çš„è·Ÿç€ä»£ç èµ°ä¸€éï¼Œä¸ç®¡æ˜¯çœŸå®å¼€å‘ï¼Œè¿˜æ˜¯é¢è¯•ï¼Œéƒ½æœ‰çš„æ‰¯ã€‚å¥½äº†ï¼Œä¸æ‰¯äº†ï¼Œå¯ä»¥å…ˆçœ‹ä¸‹ç›®å½•ã€‚ç°åœ¨å¼€å§‹&lt;/p&gt;
&lt;h2 id=&quot;ä¸€ã€åŸºç¡€é…ç½®&quot;&gt;&lt;a href=&quot;#ä¸€ã€åŸºç¡€é…ç½®&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€åŸºç¡€é…ç½®&quot;&gt;&lt;/a&gt;ä¸€ã€åŸºç¡€é…ç½®&lt;/h2&gt;&lt;h3 id=&quot;1ã€inité¡¹ç›®&quot;&gt;&lt;a href=&quot;#1ã€inité¡¹ç›®&quot; class=&quot;headerlink&quot; title=&quot;1ã€inité¡¹ç›®&quot;&gt;&lt;/a&gt;1ã€inité¡¹ç›®&lt;/h3&gt;&lt;figure class=&quot;highlight stata&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;mkdir&lt;/span&gt; react-webpack4-cook&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;cd&lt;/span&gt; react-webpack4-cook&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;mkdir&lt;/span&gt; src&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;mkdir&lt;/span&gt; dist&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;npm init -&lt;span class=&quot;built_in&quot;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="webpack" scheme="https://chongdee.github.io/categories/webpack/"/>
    
    
      <category term="webpack" scheme="https://chongdee.github.io/tags/webpack/"/>
    
  </entry>
  
  <entry>
    <title>Lesså¸¸ç”¨å…¬å…±æ ·å¼å°è£…</title>
    <link href="https://chongdee.github.io/2018/11/05/Less/Less%E5%B8%B8%E7%94%A8%E5%85%AC%E5%85%B1%E6%A0%B7%E5%BC%8F%E5%B0%81%E8%A3%85(zless)/"/>
    <id>https://chongdee.github.io/2018/11/05/Less/Lesså¸¸ç”¨å…¬å…±æ ·å¼å°è£…(zless)/</id>
    <published>2018-11-05T09:47:02.000Z</published>
    <updated>2021-05-08T17:03:39.385Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>å¹³å¸¸é¡¹ç›®ç”¨åˆ°lessæ ·å¼å°è£…ï¼Œzlessåº“ï¼ˆå¸¸ç”¨çš„lesså…¬å…±æ ·å¼åº“ï¼‰<br><a id="more"></a><br><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br></pre></td><td class="code"><pre><span class="line">/------------------------------------- â”œ å¸ƒå±€ â”† â””------------------------------------/</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ç›’å­å®½é«˜</span></span><br><span class="line">.<span class="keyword">size</span>(@w, @h) &#123; width: @w; height: @h; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æœ€å°å°ºå¯¸, å…¼å®¹IE6</span></span><br><span class="line">.<span class="keyword">min</span>-width(@min-w) &#123; <span class="keyword">min</span>-width: @min-w; _width: @min-w; &#125;</span><br><span class="line">.<span class="keyword">min</span>-height(@min-h) &#123; <span class="keyword">min</span>-height: @min-h; _height: @min-h; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å†…è”å—çº§å…ƒç´ , å…¼å®¹IE6</span></span><br><span class="line">.dib() &#123; display: inline-block; *display: inline; *zoom: <span class="number">1</span>; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å›ºå®šå®šä½, å…¼å®¹IE6</span></span><br><span class="line">.fixed() &#123; position: fixed; _position: absolute; *zoom: <span class="number">1</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»Ÿä¸€ç›’æ¨¡å‹</span></span><br><span class="line">.border-box() &#123;</span><br><span class="line">*, *:after, *:before &#123; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ–‡å­—å›¾ç‰‡å±…ä¸­</span></span><br><span class="line">.center(<span class="keyword">text</span>-x) &#123; <span class="keyword">text</span>-<span class="keyword">align</span>: center; &#125;</span><br><span class="line">.center(<span class="keyword">text</span>-y) &#123; display: table-cell; vertical-<span class="keyword">align</span>: middle; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å—çº§å…ƒç´ æ°´å¹³å±…ä¸­</span></span><br><span class="line">.center(auto-x) &#123; display: block; margin-left: auto; margin-right: auto; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å±…ä¸­, ä¸ç¡®å®šå°ºå¯¸, ä¸å…¼å®¹ IE6</span></span><br><span class="line">.center(unknown) &#123; position: absolute; top: <span class="number">0</span>; left: <span class="number">0</span>; right: <span class="number">0</span>; bottom: <span class="number">0</span>; margin: auto; &#125;</span><br><span class="line">.center(unknown-x) &#123; position: absolute; left: <span class="number">0</span>; right: <span class="number">0</span>; margin-left: auto; margin-right: auto; &#125;</span><br><span class="line">.center(unknown-y) &#123; position: absolute; top: <span class="number">0</span>; bottom: <span class="number">0</span>; margin-top: auto; margin-bottom: auto; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å±…ä¸­, ç¡®å®šå°ºå¯¸, å…¼å®¹ IE6</span></span><br><span class="line">.center(known, @w, @h) &#123;</span><br><span class="line">.<span class="keyword">size</span>(@w, @h);</span><br><span class="line">position: absolute; top: <span class="number">50</span>%; left: <span class="number">50</span>%; margin-top: -(@w / <span class="number">2</span>); margin-left: -(@h / <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line">.center(known-x, @w) &#123;</span><br><span class="line">width: @w;</span><br><span class="line">position: absolute; left: <span class="number">50</span>%; margin-left: -(@h / <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line">.center(known-y, @h) &#123;</span><br><span class="line">height: @h;</span><br><span class="line">position: absolute; top: <span class="number">50</span>%; margin-top: -(@w / <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å±…ä¸­, CSS3 å¹³ç§»æ–¹å¼, å…¼å®¹æ€§ä¸è¡Œ</span></span><br><span class="line">.center(translate) &#123; position: absolute; top: <span class="number">50</span>%; left: <span class="number">50</span>%; transform: translate(<span class="number">-50</span>%, <span class="number">-50</span>%); &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å±…ä¸­, Flex æ–¹å¼, å…¼å®¹æ€§ä¸è¡Œ</span></span><br><span class="line">.center(flex) &#123; display: flex; <span class="keyword">align</span>-items: center; justify-content: center; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å¤šä¸ªå­é¡¹å¸ƒå±€</span></span><br><span class="line">.list(<span class="keyword">float</span>, @w: <span class="number">25</span>%) &#123; <span class="keyword">float</span>: left; width: @w; &#125;</span><br><span class="line">.list(inline, @w: <span class="number">25</span>%) &#123; .dib(); width: @w; &#125;</span><br><span class="line">.list(flex) &#123; flex: <span class="number">1</span>; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// é®ç½©å±‚, å…¨å±é®ç½©ã€åŒºåŸŸé®ç½©</span></span><br><span class="line">.over-screen(fixed) &#123; .fixed(); top: <span class="number">0</span>; left: <span class="number">0</span>; right: <span class="number">0</span>; bottom: <span class="number">0</span>; &#125;</span><br><span class="line">.over-screen(absolute) &#123; position: absolute; top: <span class="number">0</span>; left: <span class="number">0</span>; right: <span class="number">0</span>; bottom: <span class="number">0</span>; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å®¹å™¨å®½é«˜æ¯”å›ºå®š</span></span><br><span class="line"><span class="comment">// 100* 1/1 = 100%</span></span><br><span class="line"><span class="comment">// 100* 3/4 = 75%</span></span><br><span class="line">.fixed-ratio(@padding-top: <span class="number">100</span>%) &#123;</span><br><span class="line">position: relative; width: <span class="number">100</span>%; height: <span class="number">0</span>; padding-top: @padding-top;</span><br><span class="line">img &#123; position: absolute; top: <span class="number">0</span>; left: <span class="number">0</span>; width: <span class="number">100</span>%; height: <span class="number">100</span>%; &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ‰©å±•ç‚¹å‡»åŒºåŸŸ</span></span><br><span class="line">.extend-click() &#123;</span><br><span class="line">position: relative;</span><br><span class="line">&amp;:before &#123; content: <span class="string">''</span>; position: absolute; top: <span class="number">-10</span>px; left: <span class="number">-10</span>px; right: <span class="number">-10</span>px; bottom: <span class="number">-10</span>px; &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å®šå®½å±…ä¸­é¡µé¢å¸ƒå±€</span></span><br><span class="line">.<span class="keyword">layout</span>-page(@width: <span class="number">1200</span>px) &#123; width: @width; margin-left: auto; margin-right: auto; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ä¾§è¾¹æ </span></span><br><span class="line"><span class="comment">// ä¸»è¦åŒºåŸŸï¼šoverflow: hidden; margin-left: xx; margin-right: xx;</span></span><br><span class="line">.sidebar(left, @width) &#123; position: absolute; top: <span class="number">0</span>; left: <span class="number">0</span>; width: @width; &#125;</span><br><span class="line">.sidebar(right, @width) &#123; position: absolute; top: <span class="number">0</span>; right: <span class="number">0</span>; width: @width; &#125;</span><br><span class="line"> </span><br><span class="line">/------------------------------------- â”œ å­—ä½“ â”† â””------------------------------------/</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å­—ä½“å¤§å°</span></span><br><span class="line">.fz(@fz) &#123; font-<span class="keyword">size</span>: @fz; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å­—ä½“å¤§å°ä¸è¡Œé«˜</span></span><br><span class="line">.fz(@fz, @lh) &#123; font-<span class="keyword">size</span>: @fz; line-height: @lh; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å­—ä½“å¤§å°ã€è¡Œé«˜ã€é«˜åº¦</span></span><br><span class="line">.fz(@fz, @h, @lh: @h) &#123; font-<span class="keyword">size</span>: @fz; height: @h; line-height: @lh; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// è¡Œé«˜ä¸é«˜åº¦</span></span><br><span class="line">.lh(@h, @lh: @h) &#123; height: @h; line-height: @lh; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å­—ä½“é¢œè‰², åŒ…æ‹¬é“¾æ¥ä¸éé“¾æ¥</span></span><br><span class="line">.<span class="keyword">color</span>(@color) &#123; <span class="keyword">color</span>: @color;&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å­—ä½“é¢œè‰² + è‡ªèº« Hover</span></span><br><span class="line">.<span class="keyword">color</span>(@color, @hovercolor) &#123;</span><br><span class="line"><span class="keyword">color</span>: @color;</span><br><span class="line">&amp;:hover &#123; <span class="keyword">color</span>: @hovercolor; &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// å­—ä½“é¢œè‰² + é“¾æ¥ Hover</span></span><br><span class="line">.<span class="keyword">color</span>(@color, @acolor, @hovercolor) &#123;</span><br><span class="line"><span class="keyword">color</span>: @color;</span><br><span class="line">a &#123;</span><br><span class="line"><span class="keyword">color</span>: @acolor;</span><br><span class="line">&amp;:hover &#123; <span class="keyword">color</span>: @hovercolor; &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ­£å¸¸å­—ä½“æ ·å¼</span></span><br><span class="line">.normal-font() &#123; font-weight: normal; font-style: normal; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// è¾…åŠ©æ€§æ–‡å­—ï¼ˆç°è‰²ï¼‰</span></span><br><span class="line">.assist-font(@color: #b0b0b0, @fz: <span class="number">14</span>px) &#123; <span class="keyword">color</span>: @color; font-<span class="keyword">size</span>: @fz; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ç¦æ­¢æ¢è¡Œ, æ–‡æœ¬æº¢å‡ºçœç•¥å·æ˜¾ç¤º (ä¸€è¡Œ)</span></span><br><span class="line">.ellipsis() &#123;</span><br><span class="line">white-space: normal; word-wrap: <span class="keyword">break</span>-word; word-<span class="keyword">break</span>: <span class="keyword">break</span>-all;</span><br><span class="line">-o-<span class="keyword">text</span>-overflow: ellipsis; -ms-<span class="keyword">text</span>-overflow: ellipsis; <span class="keyword">text</span>-overflow:ellipsis; overflow:hidden;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ–‡æœ¬æº¢å‡ºçœç•¥å·æ˜¾ç¤º (å¤šè¡Œ)</span></span><br><span class="line"><span class="comment">// åªæ”¯æŒ webkit æµè§ˆå™¨, è§£å†³æ–¹æ¡ˆï¼šé«˜åº¦ = è¡Œé«˜*è¡Œæ•°</span></span><br><span class="line"><span class="comment">// height: 90px; line-height: 30px; -webkit-line-clamp: 3;</span></span><br><span class="line">.ellipsis-mult(@n: <span class="number">3</span>) &#123;</span><br><span class="line">display: -webkit-box; -webkit-box-orient: vertical;-webkit-line-<span class="keyword">clamp</span>: @n; word-<span class="keyword">break</span>: <span class="keyword">break</span>-all;</span><br><span class="line">-o-<span class="keyword">text</span>-overflow: ellipsis; -ms-<span class="keyword">text</span>-overflow: ellipsis; <span class="keyword">text</span>-overflow:ellipsis; overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ä¹¦å†™æ¨¡å¼ï¼šç‰ŒåŒ¾ä»å³è‡³å·¦æ°´å¹³å•è¡Œæ’ç‰ˆæ•ˆæœã€æ–‡ç¬ºä»å³è‡³å·¦ã€ä»ä¸Šè‡³ä¸‹æ’ç‰ˆæ•ˆæœ</span></span><br><span class="line">.retext(x) &#123; direction: rtl; unicode-bidi: bidi-override; &#125;</span><br><span class="line">.retext(y) &#123; writing-mode: tb-rl; writing-mode: vertical-rl; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ–‡å­—é€æ˜</span></span><br><span class="line">.transparent-<span class="keyword">text</span>() &#123; font: <span class="number">0</span>/<span class="number">0</span> serif; <span class="keyword">text</span>-shadow: none; <span class="keyword">color</span>: transparent; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ–‡å­—éšè—ï¼ˆå¸¸ç”¨äºSEOä¼˜åŒ–ï¼‰</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"> </span><br><span class="line">xx</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">.hidden-<span class="keyword">text</span>() &#123; <span class="keyword">text</span>-indent : <span class="number">-9999</span>px; overflow: hidden; <span class="keyword">text</span>-<span class="keyword">align</span>: left; &#125;</span><br><span class="line"><span class="comment">// æ–‡å­—å¤–å‘å…‰æ•ˆæœ</span></span><br><span class="line">.glow-<span class="keyword">text</span>(@r: <span class="number">10</span>px, @color: gold) &#123; <span class="keyword">text</span>-shadow: <span class="number">0</span> <span class="number">0</span> @r @color; &#125;</span><br><span class="line"> </span><br><span class="line">/------------------------------------- â”œ å›¾åƒ â”† â””------------------------------------/</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ç”¨ max-width æ¥é˜²æ­¢å›¾ç‰‡æ’‘ç ´å®¹å™¨</span></span><br><span class="line">.<span class="keyword">max</span>-img() &#123; display: block; <span class="keyword">max</span>-width: <span class="number">100</span>%; height: auto; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 2x 3x èƒŒæ™¯å›¾ç‰‡</span></span><br><span class="line">.bg-<span class="keyword">image</span>(@url) &#123;</span><br><span class="line">background-<span class="keyword">image</span>: url(<span class="string">"@url + '@2x.png'"</span>);</span><br><span class="line">@media (-webkit-<span class="keyword">min</span>-device-pixel-ratio: <span class="number">3</span>), (<span class="keyword">min</span>-device-pixel-ratio: <span class="number">3</span>) &#123;</span><br><span class="line">background-<span class="keyword">image</span>: url(<span class="string">"@url + '@3x.png'"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å…¨å±å¤§å›¾èƒŒæ™¯</span></span><br><span class="line">.fullscreen-bg(@url) &#123;</span><br><span class="line">width: <span class="number">100</span>vw;</span><br><span class="line">height: <span class="number">100</span>vh;</span><br><span class="line">background: url(@url) no-repeat <span class="number">50</span>% <span class="number">50</span>%;</span><br><span class="line">background-<span class="keyword">size</span>: cover;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ»¤é•œ: å°†å½©è‰²ç…§ç‰‡æ˜¾ç¤ºä¸ºé»‘ç™½ç…§ç‰‡</span></span><br><span class="line">.grayscale() &#123;</span><br><span class="line"><span class="keyword">filter</span>: grayscale(<span class="number">100</span>%);</span><br><span class="line">-webkit-<span class="keyword">filter</span>: grayscale(<span class="number">100</span>%);</span><br><span class="line">-moz-<span class="keyword">filter</span>: grayscale(<span class="number">100</span>%);</span><br><span class="line">-ms-<span class="keyword">filter</span>: grayscale(<span class="number">100</span>%);</span><br><span class="line">-o-<span class="keyword">filter</span>: grayscale(<span class="number">100</span>%);</span><br><span class="line">&#125;</span><br><span class="line">/------------------------------------- â”œ åŠ¨æ•ˆ â”† â””------------------------------------/</span><br><span class="line"><span class="comment">// é“¾æ¥é»˜è®¤æ— ä¸‹åˆ’çº¿ï¼Œhoveråæœ‰ä¸‹åˆ’çº¿çš„æ ·å¼</span></span><br><span class="line">.hover-link() &#123;</span><br><span class="line"><span class="keyword">text</span>-decoration: none;</span><br><span class="line">&amp;:hover &#123; <span class="keyword">text</span>-decoration: underline; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å°†é“¾æ¥å˜æˆé»˜è®¤çš„æ–‡å­—æ ·å¼</span></span><br><span class="line">.unstyled-link() &#123;</span><br><span class="line"><span class="keyword">color</span>: inherit;</span><br><span class="line">cursor: inherit;</span><br><span class="line"><span class="keyword">text</span>-decoration: inherit;</span><br><span class="line">&amp;:active, &amp;:focus &#123; outline: none; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç›’å­é˜´å½±</span></span><br><span class="line"><span class="comment">// box-shadow: æ°´å¹³é˜´å½±çš„ä½ç½®, å‚ç›´é˜´å½±çš„ä½ç½®, æ¨¡ç³Šè·ç¦», é˜´å½±çš„å¤§å°, é˜´å½±çš„é¢œè‰², é˜´å½±å¼€å§‹æ–¹å‘ï¼ˆé»˜è®¤æ˜¯ä»é‡Œå¾€å¤–ï¼Œè®¾ç½®insetå°±æ˜¯ä»å¤–å¾€é‡Œï¼‰;</span></span><br><span class="line"><span class="comment">// box-shadow: h-shadow v-shadow blur spread color inset;</span></span><br><span class="line">.box-shadow() &#123;</span><br><span class="line">box-shadow: <span class="number">0</span>px <span class="number">14</span>px <span class="number">26</span>px <span class="number">0</span>px rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç›’å­ Hover</span></span><br><span class="line">.box-hover() &#123;</span><br><span class="line"><span class="comment">// box-shadow: 0px 1px 2px 0px rgba(84, 107, 107, .4);</span></span><br><span class="line">transition: all <span class="number">.2</span>s linear;</span><br><span class="line">&amp;:hover &#123;</span><br><span class="line">box-shadow: <span class="number">0</span> <span class="number">15</span>px <span class="number">30</span>px rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">.1</span>);</span><br><span class="line">transform: translate3d(<span class="number">0</span>, <span class="number">-2</span>px, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">.box-hover2() &#123;</span><br><span class="line">transition: transform <span class="number">.5</span>s ease;</span><br><span class="line">&amp;:hover &#123;</span><br><span class="line">transform: translateX(<span class="number">10</span>px);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸‰ç»´é—ªåŠ¨ bug å¤„ç†</span></span><br><span class="line">.transform-fix() &#123; -webkit-backface-visibility: hidden; -webkit-transform-style: preserve<span class="number">-3</span>d; &#125;</span><br><span class="line"><span class="comment">// Animation</span></span><br><span class="line">.ani(@name, @time: <span class="number">1</span>s, @ease: ease-<span class="keyword">in</span>-out, @fillmode: forwards) &#123;</span><br><span class="line">animation-name: @name;</span><br><span class="line">animation-duration: @time;</span><br><span class="line">animation-timing-function: @ease;</span><br><span class="line">animation-fill-mode: @fillmode;</span><br><span class="line">&#125;</span><br><span class="line">/------------------------------------- â”œ åŠŸèƒ½ â”† â””------------------------------------/</span><br><span class="line"><span class="comment">// æµ®åŠ¨, å…¼å®¹ IE6</span></span><br><span class="line">.fl() &#123; <span class="keyword">float</span>: left; *display: inline; _display:inline; &#125;</span><br><span class="line">.fr() &#123; <span class="keyword">float</span>: right; *display: inline; _display:inline; &#125;</span><br><span class="line"><span class="comment">// æ¸…é™¤æµ®åŠ¨</span></span><br><span class="line">.clearfix() &#123;</span><br><span class="line">*zoom: <span class="number">1</span>;</span><br><span class="line">&amp;:after &#123; display: block; <span class="keyword">clear</span>: both; content: <span class="string">''</span>; visibility: hidden; height: <span class="number">0</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line">.clearfix(table) &#123;</span><br><span class="line">*zoom: <span class="number">1</span>;</span><br><span class="line">&amp;:before, &amp;:after &#123; content: <span class="string">" "</span>; display: table; <span class="keyword">clear</span>: both; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¦æ­¢æ–‡æœ¬è¢«é€‰æ‹©</span></span><br><span class="line">.user-<span class="keyword">select</span>() &#123; -webkit-user-<span class="keyword">select</span>: none; -moz-user-<span class="keyword">select</span>: none; -ms-user-<span class="keyword">select</span>: none; user-<span class="keyword">select</span>: none; &#125;</span><br><span class="line"><span class="comment">// éšè—é¼ æ ‡æ‰‹åŠ¿</span></span><br><span class="line">.<span class="keyword">hide</span>-cursor() &#123; cursor: none !important; &#125;</span><br><span class="line"><span class="comment">// é¼ æ ‡ç¦ç”¨æ ·å¼ï¼Œä½†ä»ç„¶å¯ä»¥è§¦å‘äº‹ä»¶</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line">.disabled() &#123; cursor: not-allowed; &#125;</span><br><span class="line"><span class="comment">// ç¦ç”¨å…ƒç´ äº‹ä»¶</span></span><br><span class="line"><span class="comment">// 1. é˜»æ­¢ä»»ä½•ç‚¹å‡»åŠ¨ä½œçš„æ‰§è¡Œ</span></span><br><span class="line"><span class="comment">// 2. ä½¿é“¾æ¥æ˜¾ç¤ºä¸ºé»˜è®¤å…‰æ ‡(cursor:default)</span></span><br><span class="line"><span class="comment">// 3. é˜»æ­¢è§¦å‘hoverå’ŒactiveçŠ¶æ€</span></span><br><span class="line"><span class="comment">// 4. é˜»æ­¢JavaScriptç‚¹å‡»äº‹ä»¶çš„è§¦å‘</span></span><br><span class="line">.pointer-events() &#123; pointer-events: none; &#125;</span><br><span class="line"><span class="comment">// æ¨¡ç³Š</span></span><br><span class="line">.blur(@blur: <span class="number">10</span>px) &#123;</span><br><span class="line"><span class="keyword">filter</span>: blur(@blur);</span><br><span class="line">-webkit-<span class="keyword">filter</span>: blur(@blur);</span><br><span class="line">-moz-<span class="keyword">filter</span>: blur(@blur);</span><br><span class="line">-o-<span class="keyword">filter</span>: blur(@blur);</span><br><span class="line">-ms-<span class="keyword">filter</span>: blur(@blur);</span><br><span class="line"><span class="keyword">filter</span>: progid:DXImageTransform.Microsoft.Blur(PixelRadius=<span class="string">'@&#123;blur&#125;'</span>);</span><br><span class="line">*zoom: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é€æ˜åº¦, å…¼å®¹ IE8</span></span><br><span class="line">.opacity(@opacity: <span class="number">20</span>) &#123; opacity: @opacity / <span class="number">100</span>; <span class="keyword">filter</span>: alpha(opacity=@opacity); &#125;</span><br><span class="line"><span class="comment">// ç”¨ä¼ªç±»æ¥æ˜¾ç¤ºæ‰“å°æ—¶ a æ ‡ç­¾çš„é“¾æ¥</span></span><br><span class="line">.<span class="keyword">print</span>-link() &#123;</span><br><span class="line">@media <span class="keyword">print</span> &#123;</span><br><span class="line">a[href]:after &#123; content: <span class="string">" ("</span> attr(href) <span class="string">") "</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// éš”è¡Œæ¢è‰²</span></span><br><span class="line">.zebra-lists(odd, @color) &#123;</span><br><span class="line">&amp;.odd &#123;</span><br><span class="line">&gt;li:nth-child(odd) &#123; background-<span class="keyword">color</span>: @color; &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">.zebra-lists(even, @color) &#123;</span><br><span class="line">&amp;.even &#123;</span><br><span class="line">&gt;li:nth-child(even) &#123; background: green; &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é¦–å­—ä¸‹æ²‰</span></span><br><span class="line">.first-letter(@font-<span class="keyword">size</span>: <span class="number">6</span>em) &#123;</span><br><span class="line">&amp;::first-letter&#123;</span><br><span class="line"><span class="keyword">float</span>: left;</span><br><span class="line">line-height: <span class="number">1</span>;</span><br><span class="line">font-<span class="keyword">size</span>: @font-<span class="keyword">size</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç‰¹æ®Šæ ‡è®°æ®µè½ç¬¬ä¸€è¡Œ</span></span><br><span class="line">.first-line() &#123;</span><br><span class="line">&amp;::first-line&#123;</span><br><span class="line"><span class="keyword">color</span>: red</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¾åŒ–é€‰ä¸­æ–‡æœ¬</span></span><br><span class="line">.beauty-<span class="keyword">select</span>() &#123;</span><br><span class="line">&amp;::selection&#123;</span><br><span class="line"><span class="keyword">color</span>: #fff;</span><br><span class="line">background-<span class="keyword">color</span>: #<span class="number">6</span>bc30d;</span><br><span class="line"><span class="keyword">text</span>-shadow: none;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¾åŒ–å ä½ç¬¦ placeholder æ ·å¼</span></span><br><span class="line">.beauty-placeholder(@fz, @color: #<span class="number">999</span>, @align: left) &#123;</span><br><span class="line">&amp;:-moz-placeholder &#123; font-<span class="keyword">size</span>: @fz; <span class="keyword">color</span>: @color; <span class="keyword">text</span>-<span class="keyword">align</span>: @align; &#125;</span><br><span class="line">&amp;:-ms-input-placeholder &#123; font-<span class="keyword">size</span>: @fz; <span class="keyword">color</span>: @color; <span class="keyword">text</span>-<span class="keyword">align</span>: @align; &#125;</span><br><span class="line">&amp;::-webkit-input-placeholder &#123; font-<span class="keyword">size</span>: @fz; <span class="keyword">color</span>: @color; <span class="keyword">text</span>-<span class="keyword">align</span>: @align; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¾åŒ–å ä½ç¬¦ placeholder æ ·å¼ï¼ˆè‡ªå®šä¹‰å±æ€§å’Œå€¼ï¼‰</span></span><br><span class="line">.beauty-placeholder(custom, @property, @value) &#123;</span><br><span class="line">&amp;:-moz-placeholder &#123; @&#123;property&#125;: @value; &#125;</span><br><span class="line">&amp;:-ms-input-placeholder &#123; @&#123;property&#125;: @value; &#125;</span><br><span class="line">&amp;::-webkit-input-placeholder &#123; @&#123;property&#125;: @value; &#125;</span><br><span class="line">&#125;</span><br><span class="line">/------------------------------------- â”œ å›¾å½¢ â”† â””------------------------------------/</span><br><span class="line"><span class="comment">// ä¸‰è§’å½¢</span></span><br><span class="line">.triangle(@width: <span class="number">4</span>px,@color: #<span class="number">000</span>) &#123;</span><br><span class="line">display: inline-block;</span><br><span class="line">width: <span class="number">0</span>;</span><br><span class="line">height: <span class="number">0</span>;</span><br><span class="line">vertical-<span class="keyword">align</span>: middle;</span><br><span class="line">border-top: @width solid @color;</span><br><span class="line">border-left: @width solid transparent;</span><br><span class="line">border-right: @width solid transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸‰è§’å½¢ç®­å¤´æ°”æ³¡æ•ˆæœ, IE6-7 æ— è¡¨ç°</span></span><br><span class="line">.arrow(top, @w: <span class="number">10</span>px, @color, @x: <span class="number">50</span>%) &#123;</span><br><span class="line">position: relative;</span><br><span class="line">&amp;:before &#123; position: absolute; bottom: <span class="number">100</span>%; left: @x; content: <span class="string">" "</span>; height: <span class="number">0</span>; width: <span class="number">0</span>; pointer-events: none; border-style: solid; border-<span class="keyword">color</span>: transparent; border-bottom-<span class="keyword">color</span>: @color; border-width: <span class="keyword">unit</span>(@w, px); @margin: -@w; margin-left: <span class="keyword">unit</span>(@margin, px); &#125;</span><br><span class="line">&#125;</span><br><span class="line">.arrow(right, @w: <span class="number">10</span>px, @color, @y: <span class="number">50</span>%) &#123;</span><br><span class="line">position: relative;</span><br><span class="line">&amp;:before &#123; position: absolute; left: <span class="number">100</span>%; top: @y; content: <span class="string">" "</span>; height: <span class="number">0</span>; width: <span class="number">0</span>; pointer-events: none; border-style: solid; border-<span class="keyword">color</span>: transparent; border-left-<span class="keyword">color</span>: @color; border-width: <span class="keyword">unit</span>(@w, px); @margin: -@w; margin-top: <span class="keyword">unit</span>(@margin, px); &#125;</span><br><span class="line">&#125;</span><br><span class="line">.arrow(bottom, @w: <span class="number">10</span>px, @color, @x: <span class="number">50</span>%) &#123;</span><br><span class="line">position: relative;</span><br><span class="line">&amp;:before &#123; position: absolute; top: <span class="number">100</span>%; left: @x; content: <span class="string">" "</span>; height: <span class="number">0</span>; width: <span class="number">0</span>; pointer-events: none; border-style: solid; border-<span class="keyword">color</span>: transparent; border-top-<span class="keyword">color</span>: @color; border-width: <span class="keyword">unit</span>(@w, px); @margin: -@w; margin-left: <span class="keyword">unit</span>(@margin, px); &#125;</span><br><span class="line">&#125;</span><br><span class="line">.arrow(left, @w: <span class="number">10</span>px, @color, @y: <span class="number">50</span>%) &#123;</span><br><span class="line">position: relative;</span><br><span class="line">&amp;:before &#123; position: absolute; right: <span class="number">100</span>%; top: @y; content: <span class="string">" "</span>; height: <span class="number">0</span>; width: <span class="number">0</span>; pointer-events: none; border-style: solid; border-<span class="keyword">color</span>: transparent; border-right-<span class="keyword">color</span>: @color; border-width: <span class="keyword">unit</span>(@w, px); @margin: -@w; margin-top: <span class="keyword">unit</span>(@margin, px); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸‰è§’å½¢ç®­å¤´æ°”æ³¡æ•ˆæœ, å¸¦è¾¹æ¡†</span></span><br><span class="line">.arrow-with-border(top, @w: <span class="number">10</span>px, @color, @border-w: <span class="number">1</span>px, @border-<span class="keyword">color</span>, @x: <span class="number">50</span>%) &#123;</span><br><span class="line">position: relative;</span><br><span class="line">&amp;:before, &amp;:after &#123; bottom: <span class="number">100</span>%; left: @x; content: <span class="string">" "</span>; height: <span class="number">0</span>; width: <span class="number">0</span>; position: absolute; pointer-events: none; border-style: solid; border-<span class="keyword">color</span>: transparent; &#125;</span><br><span class="line">&amp;:after &#123; border-bottom-<span class="keyword">color</span>: @color; border-width: <span class="keyword">unit</span>(@w, px); @margin: -@w; margin-left: <span class="keyword">unit</span>(@margin, px); &#125;</span><br><span class="line">&amp;:before &#123; border-bottom-<span class="keyword">color</span>: @border-<span class="keyword">color</span>; @arrbo: @w+@border-w; border-width: <span class="keyword">unit</span>(@arrbo, px); @margin-bo: -@arrbo; margin-left: <span class="keyword">unit</span>(@margin-bo, px); &#125;</span><br><span class="line">&#125;</span><br><span class="line">.arrow-with-border(bottom, @w: <span class="number">10</span>px, @color, @border-w: <span class="number">1</span>px, @border-<span class="keyword">color</span>, @x: <span class="number">50</span>%) &#123;</span><br><span class="line">position: relative;</span><br><span class="line">&amp;:before, &amp;:after &#123; top: <span class="number">100</span>%; left: @x; content: <span class="string">" "</span>; height: <span class="number">0</span>; width: <span class="number">0</span>; position: absolute; pointer-events: none; border-style: solid; border-<span class="keyword">color</span>: transparent; &#125;</span><br><span class="line">&amp;:after &#123; border-top-<span class="keyword">color</span>: @color; border-width: <span class="keyword">unit</span>(@w, px); @margin: -@w; margin-left: <span class="keyword">unit</span>(@margin, px); &#125;</span><br><span class="line">&amp;:before &#123; border-top-<span class="keyword">color</span>: @border-<span class="keyword">color</span>; @arrbo: @w+@border-w; border-width: <span class="keyword">unit</span>(@arrbo, px); @margin-bo: -@arrbo; margin-left: <span class="keyword">unit</span>(@margin-bo, px); &#125;</span><br><span class="line">&#125;</span><br><span class="line">.arrow-with-border(left, @w: <span class="number">10</span>px, @color, @border-w: <span class="number">1</span>px, @border-<span class="keyword">color</span>, @y: <span class="number">50</span>%) &#123;</span><br><span class="line">position: relative;</span><br><span class="line">&amp;:before, &amp;:after &#123; top: @y; right: <span class="number">100</span>%; content: <span class="string">" "</span>; height: <span class="number">0</span>; width: <span class="number">0</span>; position: absolute; pointer-events: none; border-style: solid; border-<span class="keyword">color</span>: transparent; &#125;</span><br><span class="line">&amp;:after &#123; border-right-<span class="keyword">color</span>: @color; border-width: <span class="keyword">unit</span>(@w, px); @margin: -@w; margin-top: <span class="keyword">unit</span>(@margin, px); &#125;</span><br><span class="line">&amp;:before &#123; border-right-<span class="keyword">color</span>: @border-<span class="keyword">color</span>; @arrbo: @w+@border-w; border-width: <span class="keyword">unit</span>(@arrbo, px); @margin-bo: -@arrbo; margin-top: <span class="keyword">unit</span>(@margin-bo, px); &#125;</span><br><span class="line">&#125;</span><br><span class="line">.arrow-with-border(right, @w: <span class="number">10</span>px, @color, @border-w: <span class="number">1</span>px, @border-<span class="keyword">color</span>, @y: <span class="number">50</span>%) &#123;</span><br><span class="line">position: relative;</span><br><span class="line">&amp;:before, &amp;:after &#123; top: @y; left: <span class="number">100</span>%; content: <span class="string">" "</span>; height: <span class="number">0</span>; width: <span class="number">0</span>; position: absolute; pointer-events: none; border-style: solid; border-<span class="keyword">color</span>: transparent; &#125;</span><br><span class="line">&amp;:after &#123; border-left-<span class="keyword">color</span>: @color; border-width: <span class="keyword">unit</span>(@w, px); @margin: -@w; margin-top: <span class="keyword">unit</span>(@margin, px); &#125;</span><br><span class="line">&amp;:before &#123; border-left-<span class="keyword">color</span>: @border-<span class="keyword">color</span>; @arrbo: @w+@border-w; border-width: <span class="keyword">unit</span>(@arrbo, px); @margin-bo: -@arrbo; margin-top: <span class="keyword">unit</span>(@margin-bo, px); &#125;</span><br><span class="line">&#125;</span><br><span class="line">/------------------------------------- â”œ ç»„ä»¶ â”† â””------------------------------------/</span><br><span class="line"><span class="comment">// å¸é¡¶å¯¼èˆª</span></span><br><span class="line">.fix-header(@h: <span class="number">70</span>px) &#123;</span><br><span class="line">.fixed();</span><br><span class="line">top: <span class="number">0</span>;</span><br><span class="line">left: <span class="number">0</span>;</span><br><span class="line">width: <span class="number">100</span>%;</span><br><span class="line">height: @h;</span><br><span class="line">z-index: <span class="number">1000</span>;</span><br><span class="line"><span class="comment">// background-color: rgba(256, 256, 256, .92);</span></span><br><span class="line"><span class="comment">// border-bottom: 1px solid rgba(7, 17, 27, 0.1);</span></span><br><span class="line"><span class="comment">// box-shadow: 0px 0px 20px rgba(0,0,0,0.2);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¸åº•å¯¼èˆª</span></span><br><span class="line">.fix-header(@h: <span class="number">70</span>px) &#123;</span><br><span class="line">.fixed();</span><br><span class="line">left: <span class="number">0</span>;</span><br><span class="line">bottom: <span class="number">0</span>;</span><br><span class="line">width: <span class="number">100</span>%;</span><br><span class="line">height: @h;</span><br><span class="line">z-index: <span class="number">1000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å…¥æ¡†</span></span><br><span class="line">.input-<span class="keyword">text</span>() &#123;</span><br><span class="line">display: block;</span><br><span class="line">width: <span class="number">100</span>%;</span><br><span class="line">padding: <span class="number">4</span>px <span class="number">8</span>px;</span><br><span class="line">font-<span class="keyword">size</span>: <span class="number">14</span>px;</span><br><span class="line">line-height: <span class="number">1.42858</span>;</span><br><span class="line"><span class="keyword">color</span>: #<span class="number">333</span>;</span><br><span class="line">border: <span class="number">1</span>px solid #ddd;</span><br><span class="line">background-<span class="keyword">color</span>: #fff;</span><br><span class="line">border-radius: <span class="number">3</span>px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆ†å‰²çº¿</span></span><br><span class="line"><span class="comment">// |/-</span></span><br><span class="line">.<span class="keyword">separator</span>() &#123;</span><br><span class="line">margin: <span class="number">0</span> <span class="number">10</span>px;</span><br><span class="line"><span class="keyword">color</span>: #<span class="number">999</span>;</span><br><span class="line">font-<span class="keyword">size</span>: <span class="number">14</span>px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆ†å‰²çº¿ / (é¢åŒ…å±‘å¯¼èˆª)</span></span><br><span class="line">.separator2() &#123;</span><br><span class="line">&amp;:before &#123;</span><br><span class="line">padding: <span class="number">0</span> <span class="number">5</span>px;</span><br><span class="line"><span class="keyword">color</span>: #ccc;</span><br><span class="line">content: <span class="string">"/\00a0"</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// æ”¯ä»˜å®ï¼šæˆ‘ä¹Ÿæ˜¯æœ‰åº•çº¿çš„</span></span><br><span class="line">.hr() &#123;</span><br><span class="line">height: <span class="number">1</span>px;</span><br><span class="line">margin: <span class="number">10</span>px <span class="number">0</span>;</span><br><span class="line">border: <span class="number">0</span>;</span><br><span class="line"><span class="keyword">clear</span>: both;</span><br><span class="line">background-<span class="keyword">color</span>: #e2e2e2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ”¹è£…çš„ fieldset</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">è¿”ç’å½’çœŸ</span><br><span class="line">.fieldset() &#123;</span><br><span class="line">border-<span class="keyword">color</span>: #d2d2d2;</span><br><span class="line">border-width: <span class="number">1</span>px <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">border-style: solid;</span><br><span class="line">legend &#123;</span><br><span class="line">padding: <span class="number">0</span> <span class="number">20</span>px;</span><br><span class="line"><span class="keyword">text</span>-<span class="keyword">align</span>: center;</span><br><span class="line">font-<span class="keyword">size</span>: <span class="number">20</span>px;</span><br><span class="line">font-weight: <span class="number">300</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¼•ç”¨åŒºå—ï¼ˆæ¨¡ä»¿ Layuiï¼‰</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">Lorem ipsum dolor sit amet.</span><br><span class="line">.blockquote() &#123;</span><br><span class="line">margin-bottom: <span class="number">10</span>px;</span><br><span class="line">padding: <span class="number">15</span>px;</span><br><span class="line">line-height: <span class="number">22</span>px;</span><br><span class="line">border-left: <span class="number">5</span>px solid #<span class="number">009688</span>;</span><br><span class="line">border-radius: <span class="number">0</span> <span class="number">2</span>px <span class="number">2</span>px <span class="number">0</span>;</span><br><span class="line">background-<span class="keyword">color</span>: #f2f2f2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¾½ç«  (æ¤­åœ†ã€å°åœ†ç‚¹)</span></span><br><span class="line"><span class="comment">// 10</span></span><br><span class="line">.badge(...) &#123;</span><br><span class="line">position: relative;</span><br><span class="line">display: inline-block;</span><br><span class="line">font-<span class="keyword">size</span>: <span class="number">12</span>px;</span><br><span class="line"><span class="keyword">color</span>: #fff;</span><br><span class="line">background-<span class="keyword">color</span>: #FF5722;</span><br><span class="line">&#125;</span><br><span class="line">.badge(ellipse) &#123;</span><br><span class="line"><span class="keyword">min</span>-width: <span class="number">8</span>px;</span><br><span class="line">height: <span class="number">18</span>px;</span><br><span class="line">padding: <span class="number">2</span>px <span class="number">6</span>px;</span><br><span class="line"><span class="keyword">text</span>-<span class="keyword">align</span>: center;</span><br><span class="line">line-height: <span class="number">18</span>px;</span><br><span class="line">border-radius: <span class="number">9</span>px;</span><br><span class="line">&#125;</span><br><span class="line">.badge(<span class="keyword">dot</span>) &#123;</span><br><span class="line">width: <span class="number">8</span>px;</span><br><span class="line">height: <span class="number">8</span>px;</span><br><span class="line">border-radius: <span class="number">50</span>%;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å…³é—­æŒ‰é’®</span></span><br><span class="line"><span class="comment">// Ã—</span></span><br><span class="line">.close() &#123;</span><br><span class="line">position: relative;</span><br><span class="line">-webkit-appearance: none;</span><br><span class="line">padding: <span class="number">0</span>;</span><br><span class="line">cursor: pointer;</span><br><span class="line">background: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">border: <span class="number">0</span>;</span><br><span class="line">font-<span class="keyword">size</span>: <span class="number">20</span>px;</span><br><span class="line">font-weight: <span class="number">700</span>;</span><br><span class="line">line-height: <span class="number">1</span>;</span><br><span class="line"><span class="keyword">color</span>: #<span class="number">000</span>;</span><br><span class="line"><span class="keyword">text</span>-shadow: <span class="number">0</span> <span class="number">1</span>px <span class="number">0</span> #fff;</span><br><span class="line"><span class="keyword">filter</span>: alpha(opacity=<span class="number">20</span>);</span><br><span class="line">opacity: <span class="number">.2</span>;</span><br><span class="line">&amp;:hover &#123;</span><br><span class="line"><span class="keyword">color</span>: #<span class="number">000</span>;</span><br><span class="line"><span class="keyword">text</span>-decoration: none;</span><br><span class="line">cursor: pointer;</span><br><span class="line"><span class="keyword">filter</span>: alpha(opacity=<span class="number">50</span>);</span><br><span class="line">opacity: <span class="number">.5</span>;</span><br><span class="line">&#125;</span><br><span class="line">&amp;:before &#123;</span><br><span class="line">content: <span class="string">''</span>;</span><br><span class="line">position: absolute;</span><br><span class="line">top: <span class="number">-10</span>px;</span><br><span class="line">left: <span class="number">-10</span>px;</span><br><span class="line">right: <span class="number">-10</span>px;</span><br><span class="line">bottom: <span class="number">-10</span>px;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1 åƒç´ è¾¹æ¡†é—®é¢˜</span></span><br><span class="line">.onepx(...) &#123;</span><br><span class="line">position: relative;</span><br><span class="line">&amp;:after &#123;</span><br><span class="line">content: <span class="string">''</span>;</span><br><span class="line">display: block;</span><br><span class="line">position: absolute;</span><br><span class="line">left: <span class="number">0</span>;</span><br><span class="line">width: <span class="number">100</span>%;</span><br><span class="line">border-top: <span class="number">1</span>px solid rgba(<span class="number">7</span>, <span class="number">17</span>, <span class="number">27</span>, <span class="number">0.1</span>);</span><br><span class="line">transform: scaleY(<span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">.onepx(top) &#123; &amp;:after &#123; top: <span class="number">0</span>; &#125; &#125;</span><br><span class="line">.onepx(bottom) &#123; &amp;:after &#123; bottom: <span class="number">0</span>; &#125; &#125;</span><br><span class="line">.onepx-easy(top, @color: #ccc) &#123; box-shadow: inset <span class="number">0</span>px <span class="number">-1</span>px <span class="number">1</span>px <span class="number">-1</span>px @color; &#125;</span><br><span class="line">.onepx-easy(bottom, @color: #ccc) &#123; box-shadow: inset <span class="number">0</span>px <span class="number">1</span>px <span class="number">1</span>px <span class="number">-1</span>px @color; &#125;</span><br></pre></td></tr></table></figure></p><p>zlessåº“<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// =============================================</span></span><br><span class="line"><span class="comment">// @des:            zless</span></span><br><span class="line"><span class="comment">// @author:         Busy</span></span><br><span class="line"><span class="comment">// @url:            www.aibusy.com || www.moyu-edu.com</span></span><br><span class="line"><span class="comment">// @time:           2013-12-08</span></span><br><span class="line"><span class="comment">// @lastTime          2016-12-10</span></span><br><span class="line"><span class="comment">// @version         0.6 beta</span></span><br><span class="line"><span class="comment">// =============================================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// common reset use kissy reset</span></span><br><span class="line"><span class="selector-class">.reset</span>()&#123;</span><br><span class="line">    <span class="selector-tag">body</span>, <span class="selector-tag">div</span>, <span class="selector-tag">dl</span>, <span class="selector-tag">dt</span>, <span class="selector-tag">dd</span>, <span class="selector-tag">ul</span>, <span class="selector-tag">ol</span>, <span class="selector-tag">li</span>, <span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span>, <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, <span class="selector-tag">h6</span>, <span class="selector-tag">pre</span>, <span class="selector-tag">code</span>, <span class="selector-tag">form</span>, <span class="selector-tag">fieldset</span>, <span class="selector-tag">legend</span>, <span class="selector-tag">input</span>, <span class="selector-tag">textarea</span>, <span class="selector-tag">p</span>, <span class="selector-tag">blockquote</span>, <span class="selector-tag">th</span>, <span class="selector-tag">td</span>, <span class="selector-tag">hr</span>, <span class="selector-tag">button</span>, <span class="selector-tag">article</span>, <span class="selector-tag">aside</span>, <span class="selector-tag">details</span>, <span class="selector-tag">figcaption</span>, <span class="selector-tag">figure</span>, <span class="selector-tag">footer</span>, <span class="selector-tag">header</span>, <span class="selector-tag">hgroup</span>, <span class="selector-tag">menu</span>, <span class="selector-tag">nav</span>, <span class="selector-tag">section</span>&#123;<span class="attribute">margin</span>: <span class="number">0</span>;<span class="attribute">padding</span>: <span class="number">0</span>;&#125;</span><br><span class="line">    <span class="selector-tag">body</span>&#123; <span class="attribute">margin</span>:<span class="number">0</span> auto; <span class="attribute">font-family</span>: <span class="string">"Helvetica Neue"</span>,Helvetica,Arial,<span class="string">"å¾®è½¯é›…é»‘"</span>,sans-serif;<span class="attribute">color</span>:<span class="number">#222</span>; <span class="attribute">font-size</span>:<span class="number">12px</span>;&#125;</span><br><span class="line">    <span class="selector-tag">body</span>, <span class="selector-tag">button</span>, <span class="selector-tag">input</span>, <span class="selector-tag">select</span>, <span class="selector-tag">textarea</span> &#123;<span class="attribute">outline</span>:none;&#125;</span><br><span class="line">    <span class="selector-tag">input</span>, <span class="selector-tag">select</span>, <span class="selector-tag">textarea</span> &#123;<span class="attribute">font-size</span>: <span class="number">100%</span>;&#125;<span class="selector-tag">textarea</span>&#123;<span class="attribute">resize</span>:none;&#125;</span><br><span class="line">    <span class="selector-tag">table</span> &#123;<span class="attribute">border-collapse</span>:collapse; <span class="attribute">border-spacing</span>:<span class="number">0</span>;&#125;</span><br><span class="line">    <span class="selector-tag">th</span> &#123;<span class="attribute">text-align</span>: inherit;&#125;</span><br><span class="line">    <span class="selector-tag">fieldset</span>, <span class="selector-tag">img</span> &#123;<span class="attribute">border</span>: <span class="number">0</span>;&#125;</span><br><span class="line">    <span class="selector-tag">img</span>&#123;<span class="attribute">vertical-align</span>:middle;&#125;</span><br><span class="line">    <span class="selector-tag">iframe</span> &#123;<span class="attribute">display</span>: block;&#125;</span><br><span class="line">    <span class="selector-tag">abbr</span>, <span class="selector-tag">acronym</span> &#123;<span class="attribute">border</span>: <span class="number">0</span>;<span class="attribute">font-variant</span>: normal;&#125;</span><br><span class="line">    <span class="selector-tag">del</span> &#123;<span class="attribute">text-decoration</span>: line-through;&#125;</span><br><span class="line">    <span class="selector-tag">address</span>, <span class="selector-tag">caption</span>, <span class="selector-tag">cite</span>, <span class="selector-tag">code</span>, <span class="selector-tag">dfn</span>, <span class="selector-tag">em</span>, <span class="selector-tag">th</span>, <span class="selector-tag">var</span> &#123;<span class="attribute">font-style</span>: normal;<span class="attribute">font-weight</span>: <span class="number">500</span>;&#125;</span><br><span class="line">    <span class="selector-tag">menu</span>,<span class="selector-tag">ol</span>, <span class="selector-tag">ul</span> &#123;<span class="attribute">list-style</span>: none;&#125;</span><br><span class="line">    <span class="selector-tag">caption</span>, <span class="selector-tag">th</span> &#123;<span class="attribute">text-align</span>: left;&#125;</span><br><span class="line">    <span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span>, <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, <span class="selector-tag">h6</span> &#123;<span class="attribute">font-size</span>: <span class="number">100%</span>;<span class="attribute">font-weight</span>: <span class="number">500</span>;&#125;</span><br><span class="line">    <span class="attribute">a</span>:hover &#123;<span class="attribute">text-decoration</span>:none;<span class="attribute">cursor</span>:pointer;&#125;</span><br><span class="line">    <span class="selector-tag">ins</span>, <span class="selector-tag">a</span>,<span class="selector-tag">a</span><span class="selector-pseudo">:visited</span> &#123;<span class="attribute">text-decoration</span>: none;<span class="attribute">outline</span>:none;&#125;</span><br><span class="line">    <span class="selector-tag">i</span>&#123;<span class="attribute">font-style</span>:normal;&#125;</span><br><span class="line">    <span class="selector-tag">button</span>, <span class="selector-tag">input</span>, <span class="selector-tag">select</span>, <span class="selector-tag">textarea</span> &#123;<span class="attribute">margin</span>: <span class="number">0</span>;<span class="attribute">font-size</span>: <span class="number">100%</span>;<span class="attribute">vertical-align</span>: middle;<span class="attribute">font-family</span>:<span class="string">"Helvetica Neue"</span>,Helvetica,Arial,<span class="string">"å¾®è½¯é›…é»‘"</span>,sans-serif;&#125;</span><br><span class="line">    <span class="comment">/*input[type="checkbox"]&#123; background:#2460aa; color:#fff; -webkit-text-shadow:none; border-color:#2157db; margin-right:0.08rem; border-radius:2px; -webkit-box-shadow:none;&#125;*/</span></span><br><span class="line">    <span class="comment">/*å»é™¤iosæµè§ˆå™¨ä¸­input buttonçš„é£æ ¼*/</span></span><br><span class="line">    <span class="selector-tag">button</span>, <span class="selector-tag">input</span><span class="selector-attr">[type="button"]</span>, <span class="selector-tag">input</span><span class="selector-attr">[type="reset"]</span>, <span class="selector-tag">input</span><span class="selector-attr">[type="submit"]</span> &#123;</span><br><span class="line">        <span class="attribute">-webkit-appearance</span>:none;</span><br><span class="line">        <span class="attribute">outline</span>:none</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*ç§»é™¤html5 input="number"çš„å°ç®­å¤´*/</span></span><br><span class="line">    <span class="attribute">input</span>::-webkit-outer-spin-button,</span><br><span class="line">    <span class="attribute">input</span>::-webkit-inner-spin-button&#123;</span><br><span class="line">        <span class="attribute">-webkit-appearance</span>: none <span class="meta">!important</span>;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span>; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">input</span><span class="selector-attr">[type="number"]</span>&#123;<span class="attribute">-moz-appearance</span>:textfield;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.reset-sina</span>()&#123;</span><br><span class="line">  <span class="selector-tag">html</span>, <span class="selector-tag">body</span>, <span class="selector-tag">ul</span>, <span class="selector-tag">li</span>, <span class="selector-tag">ol</span>, <span class="selector-tag">dl</span>, <span class="selector-tag">dd</span>, <span class="selector-tag">dt</span>, <span class="selector-tag">p</span>, <span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span>, <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, <span class="selector-tag">h6</span>, <span class="selector-tag">form</span>, <span class="selector-tag">fieldset</span>, <span class="selector-tag">legend</span>, <span class="selector-tag">img</span> &#123; <span class="attribute">margin</span>:<span class="number">0</span>; <span class="attribute">padding</span>:<span class="number">0</span>; &#125;</span><br><span class="line">  <span class="selector-tag">fieldset</span>, <span class="selector-tag">img</span> &#123; <span class="attribute">border</span>:none; &#125;</span><br><span class="line">  <span class="selector-tag">img</span>&#123;<span class="attribute">display</span>: block;&#125;</span><br><span class="line">  <span class="selector-tag">address</span>, <span class="selector-tag">caption</span>, <span class="selector-tag">cite</span>, <span class="selector-tag">code</span>, <span class="selector-tag">dfn</span>, <span class="selector-tag">th</span>, <span class="selector-tag">var</span> &#123; <span class="attribute">font-style</span>:normal; <span class="attribute">font-weight</span>:normal; &#125;</span><br><span class="line">  <span class="selector-tag">ul</span>, <span class="selector-tag">ol</span> &#123; <span class="attribute">list-style</span>:none; &#125;</span><br><span class="line">  <span class="selector-tag">input</span> &#123; <span class="attribute">padding-top</span>:<span class="number">0</span>; <span class="attribute">padding-bottom</span>:<span class="number">0</span>; <span class="attribute">font-family</span>: <span class="string">"SimSun"</span>,<span class="string">"å®‹ä½“"</span>;&#125;</span><br><span class="line">  <span class="attribute">input</span>::-moz-focus-inner &#123; <span class="attribute">border</span>:none; <span class="attribute">padding</span>:<span class="number">0</span>; &#125;</span><br><span class="line">  <span class="selector-tag">select</span>, <span class="selector-tag">input</span> &#123; <span class="attribute">vertical-align</span>:middle; &#125;</span><br><span class="line">  <span class="selector-tag">select</span>, <span class="selector-tag">input</span>, <span class="selector-tag">textarea</span> &#123; <span class="attribute">font-size</span>:<span class="number">12px</span>; <span class="attribute">margin</span>:<span class="number">0</span>; &#125;</span><br><span class="line">  <span class="selector-tag">input</span><span class="selector-attr">[type="text"]</span>, <span class="selector-tag">input</span><span class="selector-attr">[type="password"]</span>, <span class="selector-tag">textarea</span> &#123; <span class="attribute">outline-style</span>:none; <span class="attribute">-webkit-appearance</span>:none; &#125;</span><br><span class="line">  <span class="selector-tag">textarea</span> &#123; <span class="attribute">resize</span>:none; &#125;</span><br><span class="line">  <span class="selector-tag">input</span>,<span class="selector-tag">textarea</span>&#123;<span class="attribute">background</span>: none; <span class="attribute">border</span>: none;&#125;</span><br><span class="line">  <span class="selector-tag">table</span> &#123; <span class="attribute">border-collapse</span>:collapse; &#125;</span><br><span class="line">  <span class="selector-tag">body</span> &#123; <span class="attribute">color</span>:<span class="number">#333</span>; <span class="attribute">font</span>:<span class="number">12px</span>/<span class="number">20px</span> <span class="string">"SimSun"</span>,<span class="string">"å®‹ä½“"</span>,<span class="string">"Arial Narrow"</span>,HELVETICA; <span class="attribute">background</span>:<span class="number">#fff</span>; &#125;</span><br><span class="line">  <span class="selector-tag">a</span> &#123; <span class="attribute">color</span>:<span class="number">#666</span>; <span class="attribute">text-decoration</span>:none; &#125;</span><br><span class="line">  <span class="attribute">a</span>:visited &#123; <span class="attribute">color</span>:<span class="number">#666</span>; &#125;</span><br><span class="line">  <span class="attribute">a</span>:hover, <span class="attribute">a</span>:active, <span class="attribute">a</span>:focus &#123; <span class="attribute">color</span>:<span class="number">#ff8400</span>; <span class="attribute">text-decoration</span>:underline; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å»é™¤aå’Œlabelçš„è™šçº¿</span></span><br><span class="line"><span class="selector-class">.remove_dotted</span>()&#123;</span><br><span class="line">  <span class="selector-tag">a</span>,<span class="selector-tag">label</span> &#123;<span class="attribute">blr</span>:<span class="string">~'expression(this.onFocus=this.blur())'</span>&#125;</span><br><span class="line">  <span class="selector-tag">a</span>,<span class="selector-tag">label</span> &#123;<span class="attribute">outline</span>:none;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æµ®åŠ¨</span></span><br><span class="line"><span class="selector-class">.fl</span>(<span class="variable">@f</span>:left;)&#123;</span><br><span class="line">    <span class="attribute">float</span>: <span class="variable">@f</span>;</span><br><span class="line">    <span class="attribute">display</span>: inline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.fr</span>(<span class="variable">@f</span>:right)&#123;</span><br><span class="line">  <span class="attribute">float</span>: <span class="variable">@f</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å®šä½</span></span><br><span class="line"><span class="selector-class">.rel</span>(<span class="variable">@rel</span>:relative)&#123;</span><br><span class="line">  <span class="attribute">position</span>: <span class="variable">@rel</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.abs</span>(<span class="variable">@abs</span>:absolute)&#123;</span><br><span class="line">  <span class="attribute">position</span>: <span class="variable">@abs</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.fix</span>(<span class="variable">@fix</span>:fixed)&#123;</span><br><span class="line">  <span class="attribute">position</span>: <span class="variable">@fix</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å…¨å±€å®šä½</span></span><br><span class="line"><span class="selector-class">.pos</span> (r)&#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.pos</span> (a)&#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.pos</span> (f)&#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.pos-box</span>(<span class="variable">@w</span>:<span class="number">500px</span>,<span class="variable">@h</span>:<span class="number">400px</span>,<span class="variable">@pos</span>:absolute)&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">@w</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="variable">@h</span>;</span><br><span class="line">  <span class="attribute">position</span>: <span class="variable">@pos</span>;</span><br><span class="line">  <span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å®šä½å±…ä¸­</span></span><br><span class="line"><span class="selector-class">.pos-box-cc</span>(<span class="variable">@w</span>:<span class="number">600px</span>,<span class="variable">@h</span>:<span class="number">360px</span>,<span class="variable">@pos</span>:absolute)&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">@w</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="variable">@h</span>;</span><br><span class="line">  <span class="attribute">position</span>: <span class="variable">@pos</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="variable">@w</span> / <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="variable">@h</span> / <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¸ƒå±€</span></span><br><span class="line"><span class="selector-class">.bc</span>()&#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: auto;</span><br><span class="line">  <span class="attribute">margin-right</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bc-d</span>(<span class="variable">@w</span>:<span class="number">500px</span>)&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">@w</span>;</span><br><span class="line">  <span class="selector-class">.bc</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wh</span>(<span class="variable">@w</span>)&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">@w</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="variable">@w</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.w-be-h</span>(<span class="variable">@w</span>)&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">@w</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="variable">@w</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.z-index</span>(<span class="variable">@index</span>:<span class="number">1</span>)&#123;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="variable">@index</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//é«˜åº¦100%</span></span><br><span class="line"><span class="selector-class">.h100</span>()&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ–‡å­—å‚ç›´å±…ä¸­</span></span><br><span class="line"><span class="selector-class">.txt-ver</span>(<span class="variable">@h</span>)&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="variable">@h</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="variable">@h</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åŒ.txt-ver</span></span><br><span class="line"><span class="selector-class">.l-h</span>(<span class="variable">@h</span>)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="variable">@h</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="variable">@h</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//display</span></span><br><span class="line"><span class="selector-class">.d-b</span>()&#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.db</span>()&#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.d-i</span>()&#123;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.di</span>()&#123;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.d-ib</span>()&#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.dib</span>()&#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.d-ib7</span>()&#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  *<span class="attribute">display</span>: inline;</span><br><span class="line">  *<span class="attribute">zoom</span>:<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.dib7</span>()&#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  *<span class="attribute">display</span>: inline;</span><br><span class="line">  *<span class="attribute">zoom</span>:<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.d-t</span>()&#123;</span><br><span class="line">  <span class="attribute">display</span>:table;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.dt</span>()&#123;</span><br><span class="line">  <span class="attribute">display</span>:table;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.d-n</span>()&#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.dn</span>()&#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//font family</span></span><br><span class="line"><span class="selector-class">.font-apple</span>()&#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">'punctuation'</span>, <span class="string">'PingFangSC-Regular'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.font-all</span>()&#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">'punctuation'</span>, <span class="string">'PingFangSC-Regular'</span>, <span class="string">"Microsoft YaHei"</span>, <span class="string">"å¾®è½¯é›…é»‘"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.font-fm</span>()&#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">"Microsoft Yahei"</span>,<span class="string">"å¾®è½¯é›…é»‘"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.font-fs</span>()&#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">"SimSun"</span>,<span class="string">"å®‹ä½“"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.font-fa</span>()&#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">"Arial"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.font-fv</span>()&#123;</span><br><span class="line">  <span class="attribute">font-family</span>:Verdana;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//font weight</span></span><br><span class="line"><span class="selector-class">.font-w700</span>()&#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.font-wb</span>()&#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.font-w400</span>()&#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.font-wn</span>()&#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//font size</span></span><br><span class="line"><span class="selector-class">.font-s</span>(<span class="variable">@p</span>: <span class="number">12px</span>)&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="variable">@p</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.font-s0</span>()&#123;<span class="attribute">font-size</span>: <span class="number">0px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s1</span>()&#123;<span class="attribute">font-size</span>: <span class="number">1px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s2</span>()&#123;<span class="attribute">font-size</span>: <span class="number">2px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s3</span>()&#123;<span class="attribute">font-size</span>: <span class="number">3px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s4</span>()&#123;<span class="attribute">font-size</span>: <span class="number">4px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s5</span>()&#123;<span class="attribute">font-size</span>: <span class="number">5px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s6</span>()&#123;<span class="attribute">font-size</span>: <span class="number">6px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s7</span>()&#123;<span class="attribute">font-size</span>: <span class="number">7px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s8</span>()&#123;<span class="attribute">font-size</span>: <span class="number">8px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s9</span>()&#123;<span class="attribute">font-size</span>: <span class="number">9px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s10</span>()&#123;<span class="attribute">font-size</span>: <span class="number">10px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s11</span>()&#123;<span class="attribute">font-size</span>: <span class="number">11px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s12</span>()&#123;<span class="attribute">font-size</span>: <span class="number">12px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s13</span>()&#123;<span class="attribute">font-size</span>: <span class="number">13px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s14</span>()&#123;<span class="attribute">font-size</span>: <span class="number">14px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s15</span>()&#123;<span class="attribute">font-size</span>: <span class="number">15px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s16</span>()&#123;<span class="attribute">font-size</span>: <span class="number">16px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s17</span>()&#123;<span class="attribute">font-size</span>: <span class="number">17px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s18</span>()&#123;<span class="attribute">font-size</span>: <span class="number">18px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s19</span>()&#123;<span class="attribute">font-size</span>: <span class="number">19px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s20</span>()&#123;<span class="attribute">font-size</span>: <span class="number">20px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s21</span>()&#123;<span class="attribute">font-size</span>: <span class="number">21px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s22</span>()&#123;<span class="attribute">font-size</span>: <span class="number">22px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s23</span>()&#123;<span class="attribute">font-size</span>: <span class="number">23px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s24</span>()&#123;<span class="attribute">font-size</span>: <span class="number">24px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s25</span>()&#123;<span class="attribute">font-size</span>: <span class="number">25px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s26</span>()&#123;<span class="attribute">font-size</span>: <span class="number">26px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s27</span>()&#123;<span class="attribute">font-size</span>: <span class="number">27px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s28</span>()&#123;<span class="attribute">font-size</span>: <span class="number">28px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s29</span>()&#123;<span class="attribute">font-size</span>: <span class="number">29px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s30</span>()&#123;<span class="attribute">font-size</span>: <span class="number">30px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s31</span>()&#123;<span class="attribute">font-size</span>: <span class="number">31px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s32</span>()&#123;<span class="attribute">font-size</span>: <span class="number">32px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s33</span>()&#123;<span class="attribute">font-size</span>: <span class="number">33px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s34</span>()&#123;<span class="attribute">font-size</span>: <span class="number">34px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s35</span>()&#123;<span class="attribute">font-size</span>: <span class="number">35px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s36</span>()&#123;<span class="attribute">font-size</span>: <span class="number">36px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s37</span>()&#123;<span class="attribute">font-size</span>: <span class="number">37px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s38</span>()&#123;<span class="attribute">font-size</span>: <span class="number">38px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s39</span>()&#123;<span class="attribute">font-size</span>: <span class="number">39px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s40</span>()&#123;<span class="attribute">font-size</span>: <span class="number">40px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s41</span>()&#123;<span class="attribute">font-size</span>: <span class="number">41px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s42</span>()&#123;<span class="attribute">font-size</span>: <span class="number">42px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s43</span>()&#123;<span class="attribute">font-size</span>: <span class="number">43px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s44</span>()&#123;<span class="attribute">font-size</span>: <span class="number">44px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s45</span>()&#123;<span class="attribute">font-size</span>: <span class="number">45px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s46</span>()&#123;<span class="attribute">font-size</span>: <span class="number">46px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s47</span>()&#123;<span class="attribute">font-size</span>: <span class="number">47px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s48</span>()&#123;<span class="attribute">font-size</span>: <span class="number">48px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s49</span>()&#123;<span class="attribute">font-size</span>: <span class="number">49px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s50</span>()&#123;<span class="attribute">font-size</span>: <span class="number">50px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s51</span>()&#123;<span class="attribute">font-size</span>: <span class="number">51px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s52</span>()&#123;<span class="attribute">font-size</span>: <span class="number">52px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s53</span>()&#123;<span class="attribute">font-size</span>: <span class="number">53px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s54</span>()&#123;<span class="attribute">font-size</span>: <span class="number">54px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s55</span>()&#123;<span class="attribute">font-size</span>: <span class="number">55px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s56</span>()&#123;<span class="attribute">font-size</span>: <span class="number">56px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s57</span>()&#123;<span class="attribute">font-size</span>: <span class="number">57px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s58</span>()&#123;<span class="attribute">font-size</span>: <span class="number">58px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s59</span>()&#123;<span class="attribute">font-size</span>: <span class="number">59px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s60</span>()&#123;<span class="attribute">font-size</span>: <span class="number">60px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s61</span>()&#123;<span class="attribute">font-size</span>: <span class="number">61px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s62</span>()&#123;<span class="attribute">font-size</span>: <span class="number">62px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s63</span>()&#123;<span class="attribute">font-size</span>: <span class="number">63px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s64</span>()&#123;<span class="attribute">font-size</span>: <span class="number">64px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s65</span>()&#123;<span class="attribute">font-size</span>: <span class="number">65px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s66</span>()&#123;<span class="attribute">font-size</span>: <span class="number">66px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s67</span>()&#123;<span class="attribute">font-size</span>: <span class="number">67px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s68</span>()&#123;<span class="attribute">font-size</span>: <span class="number">68px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s69</span>()&#123;<span class="attribute">font-size</span>: <span class="number">69px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s70</span>()&#123;<span class="attribute">font-size</span>: <span class="number">70px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s71</span>()&#123;<span class="attribute">font-size</span>: <span class="number">71px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s72</span>()&#123;<span class="attribute">font-size</span>: <span class="number">72px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s73</span>()&#123;<span class="attribute">font-size</span>: <span class="number">73px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s74</span>()&#123;<span class="attribute">font-size</span>: <span class="number">74px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s75</span>()&#123;<span class="attribute">font-size</span>: <span class="number">75px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s76</span>()&#123;<span class="attribute">font-size</span>: <span class="number">76px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s77</span>()&#123;<span class="attribute">font-size</span>: <span class="number">77px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s78</span>()&#123;<span class="attribute">font-size</span>: <span class="number">78px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s79</span>()&#123;<span class="attribute">font-size</span>: <span class="number">79px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s80</span>()&#123;<span class="attribute">font-size</span>: <span class="number">80px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s81</span>()&#123;<span class="attribute">font-size</span>: <span class="number">81px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s82</span>()&#123;<span class="attribute">font-size</span>: <span class="number">82px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s83</span>()&#123;<span class="attribute">font-size</span>: <span class="number">83px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s84</span>()&#123;<span class="attribute">font-size</span>: <span class="number">84px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s85</span>()&#123;<span class="attribute">font-size</span>: <span class="number">85px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s86</span>()&#123;<span class="attribute">font-size</span>: <span class="number">86px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s87</span>()&#123;<span class="attribute">font-size</span>: <span class="number">87px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s88</span>()&#123;<span class="attribute">font-size</span>: <span class="number">88px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s89</span>()&#123;<span class="attribute">font-size</span>: <span class="number">89px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s90</span>()&#123;<span class="attribute">font-size</span>: <span class="number">90px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s91</span>()&#123;<span class="attribute">font-size</span>: <span class="number">91px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s92</span>()&#123;<span class="attribute">font-size</span>: <span class="number">92px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s93</span>()&#123;<span class="attribute">font-size</span>: <span class="number">93px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s94</span>()&#123;<span class="attribute">font-size</span>: <span class="number">94px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s95</span>()&#123;<span class="attribute">font-size</span>: <span class="number">95px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s96</span>()&#123;<span class="attribute">font-size</span>: <span class="number">96px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s97</span>()&#123;<span class="attribute">font-size</span>: <span class="number">97px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s98</span>()&#123;<span class="attribute">font-size</span>: <span class="number">98px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s99</span>()&#123;<span class="attribute">font-size</span>: <span class="number">99px</span>;&#125;</span><br><span class="line"><span class="selector-class">.font-s100</span>()&#123;<span class="attribute">font-size</span>: <span class="number">100px</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//background</span></span><br><span class="line"><span class="selector-class">.bg</span>(<span class="variable">@url</span>)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attribute">background</span>: url(<span class="string">@url</span>) <span class="number">0</span> <span class="number">0</span> repeat;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bg-m</span>(<span class="variable">@url</span>,<span class="variable">@x</span>:<span class="number">0</span>,<span class="variable">@y</span>:<span class="number">0</span>,<span class="variable">@repeat</span>:no-repeat)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attribute">background</span>: url(<span class="string">@url</span>) <span class="variable">@x</span> <span class="variable">@y</span> <span class="variable">@repeat</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bgi</span>(<span class="variable">@url</span>)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attribute">background-image</span>: url(<span class="string">@url</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bgp</span>(<span class="variable">@x</span>:<span class="number">0</span>,<span class="variable">@y</span>:<span class="number">0</span>)&#123;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="variable">@x</span> <span class="variable">@y</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bgr-r</span>()&#123;</span><br><span class="line">  <span class="attribute">background-repeat</span>: repeat;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bgr-x</span>()&#123;</span><br><span class="line">  <span class="attribute">background-repeat</span>: repeat-x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bgr-y</span>()&#123;</span><br><span class="line">  <span class="attribute">background-repeat</span>: repeat-y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bgr-no</span>()&#123;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bga-fix</span>()&#123;</span><br><span class="line">  <span class="attribute">background-attachment</span>: fixed;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//lis</span></span><br><span class="line"><span class="selector-class">.list-sn</span>()&#123;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//text</span></span><br><span class="line"><span class="selector-class">.text-n</span>(<span class="variable">@p</span>: none)&#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: <span class="variable">@p</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ·»åŠ ä¸‹åˆ’çº¿</span></span><br><span class="line"><span class="selector-class">.tu</span>()&#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tn</span>()&#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tl</span>()&#123;</span><br><span class="line">  <span class="attribute">text-align</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.text-l</span>()&#123;</span><br><span class="line">  <span class="attribute">text-align</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tc</span>()&#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.text-c</span>()&#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tr</span>()&#123;</span><br><span class="line">  <span class="attribute">text-align</span>: right;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.text-r</span>()&#123;</span><br><span class="line">  <span class="attribute">text-align</span>: right;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç‰¹æ®Šéœ€æ±‚</span></span><br><span class="line"><span class="selector-class">.min-width</span>(<span class="variable">@width</span>)&#123;</span><br><span class="line">  <span class="attribute">min-width</span>: <span class="variable">@width</span>;</span><br><span class="line">  <span class="attribute">_width</span>:<span class="variable">@width</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.max-width</span>(<span class="variable">@width</span>,<span class="variable">@id</span>)&#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="variable">@width</span>;</span><br><span class="line">  <span class="attribute">_width</span>:<span class="string">~'expression(document.getElementById("@&#123;id&#125;").offsetHeight&gt;parseInt("@&#123;width&#125;")?"@&#123;width&#125;": "auto")'</span>;</span><br><span class="line">  <span class="attribute">overflow</span>:hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.min-height</span>(<span class="variable">@height</span>)&#123;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="variable">@height</span>;</span><br><span class="line">  <span class="attribute">_height</span>:<span class="variable">@height</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.max-height</span>(<span class="variable">@height</span>,<span class="variable">@id</span>)&#123;</span><br><span class="line">  <span class="attribute">max-height</span>: <span class="variable">@height</span>;</span><br><span class="line">  <span class="attribute">_height</span>:<span class="string">~'expression(document.getElementById("@&#123;id&#125;").offsetHeight&gt;parseInt("@&#123;height&#125;")?"@&#123;height&#125;": "auto")'</span>;</span><br><span class="line">  <span class="attribute">overflow</span>:hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä¸‰è§’</span></span><br><span class="line"><span class="selector-class">.triangle</span> (top,<span class="variable">@w</span>:<span class="number">5px</span>,<span class="variable">@color</span>:<span class="number">#ccc</span>)&#123;</span><br><span class="line">  <span class="attribute">border-style</span>:solid dashed dashed dashed;</span><br><span class="line">  <span class="attribute">border-color</span>:<span class="variable">@color</span> transparent transparent transparent;</span><br><span class="line">  <span class="attribute">border-width</span>:<span class="variable">@w</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.triangle</span> (right,<span class="variable">@w</span>:<span class="number">5px</span>,<span class="variable">@color</span>:<span class="number">#ccc</span>)&#123;</span><br><span class="line">  <span class="attribute">border-style</span>:dashed solid dashed dashed;</span><br><span class="line">  <span class="attribute">border-color</span>:transparent <span class="variable">@color</span> transparent transparent;</span><br><span class="line">  <span class="attribute">border-width</span>:<span class="variable">@w</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.triangle</span> (bottom,<span class="variable">@w</span>:<span class="number">5px</span>,<span class="variable">@color</span>:<span class="number">#ccc</span>)&#123;</span><br><span class="line">  <span class="attribute">border-style</span>:dashed dashed solid dashed;</span><br><span class="line">  <span class="attribute">border-color</span>:transparent transparent <span class="variable">@color</span> transparent;</span><br><span class="line">  <span class="attribute">border-width</span>:<span class="variable">@w</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.triangle</span> (left,<span class="variable">@w</span>:<span class="number">5px</span>,<span class="variable">@color</span>:<span class="number">#ccc</span>)&#123;</span><br><span class="line">  <span class="attribute">border-style</span>:dashed dashed dashed solid;</span><br><span class="line">  <span class="attribute">border-color</span>:transparent transparent transparent <span class="variable">@color</span>;</span><br><span class="line">  <span class="attribute">border-width</span>:<span class="variable">@w</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.triangle</span> (<span class="variable">@_</span>,<span class="variable">@w</span>:<span class="number">5px</span>,<span class="variable">@color</span>:<span class="number">#ccc</span>)&#123;</span><br><span class="line">  <span class="selector-class">.triangle-compatible</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¾¹æ¡†é™„åŠ å†…å®¹</span></span><br><span class="line"><span class="selector-class">.triangle-compatible</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>; <span class="attribute">height</span>: <span class="number">0</span>; <span class="attribute">overflow</span>:hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å•ç‹¬æ–¹å‘</span></span><br><span class="line"><span class="selector-class">.triangle-b</span>(<span class="variable">@w</span>:<span class="number">5px</span>,<span class="variable">@color</span>:<span class="number">#ccc</span>)&#123;</span><br><span class="line">  <span class="attribute">border-style</span>:solid dashed dashed dashed;</span><br><span class="line">  <span class="attribute">border-color</span>:<span class="variable">@color</span> transparent transparent transparent;</span><br><span class="line">  <span class="attribute">border-width</span>:<span class="variable">@w</span>;</span><br><span class="line">  <span class="selector-class">.triangle-compatible</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.triangle-l</span>(<span class="variable">@w</span>:<span class="number">5px</span>,<span class="variable">@color</span>:<span class="number">#ccc</span>)&#123;</span><br><span class="line">  <span class="attribute">border-style</span>:dashed solid dashed dashed;</span><br><span class="line">  <span class="attribute">border-color</span>:transparent <span class="variable">@color</span> transparent transparent;</span><br><span class="line">  <span class="attribute">border-width</span>:<span class="variable">@w</span>;</span><br><span class="line">  <span class="selector-class">.triangle-compatible</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.triangle-t</span>(<span class="variable">@w</span>:<span class="number">5px</span>,<span class="variable">@color</span>:<span class="number">#ccc</span>)&#123;</span><br><span class="line">  <span class="attribute">border-style</span>:dashed dashed solid dashed;</span><br><span class="line">  <span class="attribute">border-color</span>:transparent transparent <span class="variable">@color</span> transparent;</span><br><span class="line">  <span class="attribute">border-width</span>:<span class="variable">@w</span>;</span><br><span class="line">  <span class="selector-class">.triangle-compatible</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.triangle-r</span>(<span class="variable">@w</span>:<span class="number">5px</span>,<span class="variable">@color</span>:<span class="number">#ccc</span>)&#123;</span><br><span class="line">  <span class="attribute">border-style</span>:dashed dashed dashed solid;</span><br><span class="line">  <span class="attribute">border-color</span>:transparent transparent transparent <span class="variable">@color</span>;</span><br><span class="line">  <span class="attribute">border-width</span>:<span class="variable">@w</span>;</span><br><span class="line">  <span class="selector-class">.triangle-compatible</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//é€æ˜åº¦</span></span><br><span class="line"><span class="selector-class">.opa</span>(<span class="variable">@opacity</span>: <span class="number">80</span>) &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="variable">@opacity</span> / <span class="number">100</span>;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="string">~"alpha(opacity=@&#123;opacity&#125;)"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.rgba</span>(<span class="variable">@red</span>, <span class="variable">@green</span>, <span class="variable">@blue</span>, <span class="variable">@alpha</span>:<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="variable">@filtercolor:</span><span class="built_in">`(_f = function(d)&#123; var v = (parseInt(d)|0).toString(16);return v.length&lt;2 ? "0"+v : v;&#125;,'#'+_f(@&#123;alpha&#125;*255) + _f(@&#123;red&#125;) + _f(@&#123;green&#125;)+ _f(@&#123;blue&#125;))`</span>;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">background-color</span>: <span class="string">~'rgba(@&#123;red&#125;,@&#123;green&#125;,@&#123;blue&#125;,@&#123;alpha&#125;)'</span>;</span><br><span class="line">        <span class="attribute">-ms-filter</span>:<span class="string">~"progid:DXImageTransform.Microsoft.gradient(startColorstr='@&#123;filtercolor&#125;',endColorstr='@&#123;filtercolor&#125;')"</span>;</span><br><span class="line">        <span class="attribute">filter</span>:<span class="string">~"progid:DXImageTransform.Microsoft.gradient(startColorstr='@&#123;filtercolor&#125;',endColorstr='@&#123;filtercolor&#125;')"</span>;        </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.clearfix</span>() &#123;</span><br><span class="line">  *<span class="attribute">zoom</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="selector-tag">&amp;</span><span class="selector-pseudo">:before</span>,</span><br><span class="line">  <span class="selector-tag">&amp;</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: table;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">&amp;</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ–‡å­—çœç•¥å·</span></span><br><span class="line"><span class="comment">// @substractå•ä½ä¸º%</span></span><br><span class="line"><span class="selector-class">.ellipsis-basic</span>()&#123;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="selector-class">.font-fa</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ellipsis</span>(<span class="variable">@substract</span>:<span class="number">0</span>) &#123;</span><br><span class="line">  <span class="selector-class">.ellipsis-basic</span>();</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">100%</span> - <span class="variable">@substract</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¹³å¸¸é¡¹ç›®ç”¨åˆ°lessæ ·å¼å°è£…ï¼Œzlessåº“ï¼ˆå¸¸ç”¨çš„lesså…¬å…±æ ·å¼åº“ï¼‰&lt;br&gt;
    
    </summary>
    
      <category term="css" scheme="https://chongdee.github.io/categories/css/"/>
    
    
      <category term="css" scheme="https://chongdee.github.io/tags/css/"/>
    
      <category term="less" scheme="https://chongdee.github.io/tags/less/"/>
    
  </entry>
  
  <entry>
    <title>Less ç¼–ç è§„èŒƒ</title>
    <link href="https://chongdee.github.io/2018/11/04/Less/Less-%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/"/>
    <id>https://chongdee.github.io/2018/11/04/Less/Less-ç¼–ç è§„èŒƒ/</id>
    <published>2018-11-04T07:38:00.000Z</published>
    <updated>2021-05-08T17:03:38.062Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h2 id="ä»£ç ç»„ç»‡"><a href="#ä»£ç ç»„ç»‡" class="headerlink" title="ä»£ç ç»„ç»‡"></a>ä»£ç ç»„ç»‡</h2><p>ä»£ç å¿…é¡»ï¼ˆMUSTï¼‰æŒ‰å¦‚ä¸‹å½¢å¼æŒ‰é¡ºåºç»„ç»‡ï¼š</p><ul><li>@import</li><li>å˜é‡å£°æ˜</li><li>æ ·å¼å£°æ˜<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ“</span></span><br><span class="line"><span class="keyword">@import</span> <span class="string">"est/all.less"</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">@default-text-color:</span> <span class="number">#333</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.page</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">960px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="import-è¯­å¥"><a href="#import-è¯­å¥" class="headerlink" title="@import è¯­å¥"></a>@import è¯­å¥</h2><p>@import è¯­å¥å¼•ç”¨çš„æ–‡ä»¶å¿…é¡»ï¼ˆMUSTï¼‰å†™åœ¨ä¸€å¯¹å¼•å·å†…ï¼Œ.less åç¼€ä¸å¾—ï¼ˆMUST NOTï¼‰çœç•¥ï¼ˆä¸å¼•å…¥ CSS æ–‡ä»¶æ—¶çš„è·¯å¾„æ ¼å¼ä¸€è‡´ï¼‰ã€‚å¼•å·ä½¿ç”¨ â€˜ å’Œ â€œ å‡å¯ï¼Œä½†åœ¨åŒä¸€é¡¹ç›®å†…å¿…é¡»ï¼ˆMUSTï¼‰ç»Ÿä¸€ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ—</span></span><br><span class="line">@<span class="keyword">import</span> <span class="string">'est/all'</span>;</span><br><span class="line">@<span class="keyword">import</span> <span class="string">"my/mixins.less"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ“</span></span><br><span class="line">@<span class="keyword">import</span> <span class="string">"est/all.less"</span>;</span><br><span class="line">@<span class="keyword">import</span> <span class="string">"my/mixins.less"</span>;</span><br></pre></td></tr></table></figure><h2 id="ç©ºæ ¼"><a href="#ç©ºæ ¼" class="headerlink" title="ç©ºæ ¼"></a>ç©ºæ ¼</h2><p>å±æ€§ã€å˜é‡<br>é€‰æ‹©å™¨å’Œ { ä¹‹é—´å¿…é¡»ï¼ˆMUSTï¼‰ä¿ç•™ä¸€ä¸ªç©ºæ ¼ã€‚</p><p>å±æ€§ååçš„å†’å·ï¼ˆ:ï¼‰ä¸å±æ€§å€¼ä¹‹é—´å¿…é¡»ï¼ˆMUSTï¼‰ä¿ç•™ä¸€ä¸ªç©ºæ ¼ï¼Œå†’å·å‰ä¸å¾—ï¼ˆMUST NOTï¼‰ä¿ç•™ç©ºæ ¼ã€‚</p><p>å®šä¹‰å˜é‡æ—¶å†’å·ï¼ˆ:ï¼‰ä¸å˜é‡å€¼ä¹‹é—´å¿…é¡»ï¼ˆMUSTï¼‰ä¿ç•™ä¸€ä¸ªç©ºæ ¼ï¼Œå†’å·å‰ä¸å¾—ï¼ˆMUST NOTï¼‰ä¿ç•™ç©ºæ ¼ã€‚</p><p>åœ¨ç”¨é€—å·ï¼ˆ,ï¼‰åˆ†éš”çš„åˆ—è¡¨ï¼ˆLess å‡½æ•°å‚æ•°åˆ—è¡¨ã€ä»¥ , åˆ†éš”çš„å±æ€§å€¼ç­‰ï¼‰ä¸­ï¼Œé€—å·åå¿…é¡»ï¼ˆMUSTï¼‰ä¿ç•™ä¸€ä¸ªç©ºæ ¼ï¼Œé€—å·å‰ä¸å¾—ï¼ˆMUST NOTï¼‰ä¿ç•™ç©ºæ ¼ã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ—</span></span><br><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">    <span class="variable">@w:</span><span class="number">50px</span>;</span><br><span class="line">    <span class="variable">@h :</span><span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="variable">@w</span>;</span><br><span class="line">    <span class="attribute">height </span>:<span class="variable">@h</span>;</span><br><span class="line">    <span class="attribute">color</span>: rgba(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,.<span class="number">3</span>);</span><br><span class="line">    <span class="attribute">transition</span>: width <span class="number">1s</span>,height <span class="number">3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ“</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="variable">@w:</span> <span class="number">50px</span>;</span><br><span class="line">    <span class="variable">@h:</span> <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="variable">@w</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="variable">@h</span>;</span><br><span class="line">    <span class="attribute">transition</span>: width <span class="number">1s</span>, height <span class="number">3s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è¿ç®—"><a href="#è¿ç®—" class="headerlink" title="è¿ç®—"></a>è¿ç®—</h2><ul><li>/ - / * / / å››ä¸ªè¿ç®—ç¬¦ä¸¤ä¾§å¿…é¡»ï¼ˆMUSTï¼‰ä¿ç•™ä¸€ä¸ªç©ºæ ¼ã€‚+ / - ä¸¤ä¾§çš„æ“ä½œæ•°å¿…é¡»ï¼ˆMUSTï¼‰æœ‰ç›¸åŒçš„å•ä½ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªæ˜¯å˜é‡ï¼Œå¦ä¸€ä¸ªæ•°å€¼å¿…é¡»ï¼ˆMUSTï¼‰ä¹¦å†™å•ä½ã€‚<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ—</span></span><br><span class="line"><span class="variable">@a:</span> <span class="number">200px</span>;</span><br><span class="line"><span class="variable">@b:</span> (<span class="variable">@a</span>+<span class="number">100</span>)*<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ“</span></span><br><span class="line"><span class="variable">@a:</span> <span class="number">200px</span>;</span><br><span class="line"><span class="variable">@b:</span> (<span class="variable">@a</span> + <span class="number">100px</span>) * <span class="number">2</span>;</span><br></pre></td></tr></table></figure></li></ul><h2 id="æ··å…¥ï¼ˆMixinï¼‰"><a href="#æ··å…¥ï¼ˆMixinï¼‰" class="headerlink" title="æ··å…¥ï¼ˆMixinï¼‰"></a>æ··å…¥ï¼ˆMixinï¼‰</h2><p>åœ¨å®šä¹‰ mixin æ—¶ï¼Œå¦‚æœ mixin åç§°ä¸æ˜¯ä¸€ä¸ªéœ€è¦ä½¿ç”¨çš„ classNameï¼Œå¿…é¡»ï¼ˆMUSTï¼‰åŠ ä¸Šæ‹¬å·ï¼Œå¦åˆ™å³ä½¿ä¸è¢«è°ƒç”¨ä¹Ÿä¼šè¾“å‡ºåˆ° CSS ä¸­ã€‚<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ—</span></span><br><span class="line">.big-<span class="built_in">text</span> &#123;</span><br><span class="line">    font-<span class="built_in">size</span>: <span class="number">2</span>em;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">h3 &#123;</span><br><span class="line">    .big-<span class="built_in">text</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ“</span></span><br><span class="line">.big-<span class="built_in">text</span>() &#123;</span><br><span class="line">    font-<span class="built_in">size</span>: <span class="number">2</span>em;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">h3 &#123;</span><br><span class="line">    .big-<span class="built_in">text</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å¦‚æœæ··å…¥çš„æ˜¯æœ¬èº«ä¸è¾“å‡ºå†…å®¹çš„ mixinï¼Œå¿…é¡»ï¼ˆMUSTï¼‰åœ¨ mixin åæ·»åŠ æ‹¬å·ï¼ˆå³ä½¿ä¸ä¼ å‚æ•°ï¼‰ï¼Œä»¥åŒºåˆ†è¿™æ˜¯å¦æ˜¯ä¸€ä¸ª classNameï¼ˆä¿®æ”¹ä»¥åæ˜¯å¦ä¼šå½±å“ HTMLï¼‰ã€‚<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//</span> âœ—</span><br><span class="line"><span class="string">.box</span> &#123;</span><br><span class="line">    <span class="string">.size</span><span class="params">(30px,20px)</span>;</span><br><span class="line">    <span class="string">.clearfix</span> <span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">//</span> âœ“</span><br><span class="line"><span class="string">.box</span> &#123;</span><br><span class="line">    <span class="string">.size</span><span class="params">(30px, 20px)</span>;</span><br><span class="line">    <span class="string">.clearfix</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>Mixin çš„å‚æ•°åˆ†éš”ç¬¦ä½¿ç”¨ , å’Œ ; å‡å¯ï¼Œä½†åœ¨åŒä¸€é¡¹ç›®ä¸­å¿…é¡»ï¼ˆMUSTï¼‰ä¿æŒç»Ÿä¸€ã€‚</p></blockquote><h2 id="é€‰æ‹©å™¨"><a href="#é€‰æ‹©å™¨" class="headerlink" title="é€‰æ‹©å™¨"></a>é€‰æ‹©å™¨</h2><p>å½“å¤šä¸ªé€‰æ‹©å™¨å…±äº«ä¸€ä¸ªå£°æ˜å—æ—¶ï¼Œæ¯ä¸ªé€‰æ‹©å™¨å£°æ˜å¿…é¡»ï¼ˆMUSTï¼‰ç‹¬å ä¸€è¡Œã€‚<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ—</span></span><br><span class="line"><span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span> &#123;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ“</span></span><br><span class="line"><span class="selector-tag">h1</span>,</span><br><span class="line"><span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-tag">h3</span> &#123;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>Class å‘½åä¸å¾—ä»¥æ ·å¼ä¿¡æ¯è¿›è¡Œæè¿°ï¼Œå¦‚ .float-rightã€text-red ç­‰ã€‚</p></blockquote><h2 id="çœç•¥ä¸ç¼©å†™"><a href="#çœç•¥ä¸ç¼©å†™" class="headerlink" title="çœç•¥ä¸ç¼©å†™"></a>çœç•¥ä¸ç¼©å†™</h2><h3 id="ç¼©å†™"><a href="#ç¼©å†™" class="headerlink" title="ç¼©å†™"></a>ç¼©å†™</h3><p>å¤šä¸ªå±æ€§å®šä¹‰å¯ä»¥ä½¿ç”¨ç¼©å†™æ—¶ï¼Œ å°½é‡ï¼ˆSHOULDï¼‰ä½¿ç”¨ç¼©å†™ã€‚ç¼©å†™æ›´æ¸…æ™°å­—èŠ‚æ•°æ›´å°‘ã€‚å¸¸è§ç¼©å†™æœ‰ marginã€borderã€paddingã€fontã€list-style ç­‰ã€‚åœ¨ä¹¦å†™æ—¶å¿…é¡»ï¼ˆMUSTï¼‰è€ƒé‡ç¼©å†™å±•å¼€åæ˜¯å¦æœ‰ä¸éœ€è¦è¦†ç›–çš„å±æ€§å†…å®¹è¢«ä¿®æ”¹ï¼Œä»è€Œå¸¦æ¥å‰¯ä½œç”¨ã€‚</p><h3 id="æ•°å€¼"><a href="#æ•°å€¼" class="headerlink" title="æ•°å€¼"></a>æ•°å€¼</h3><p>å¯¹äºå¤„äº (0, 1) èŒƒå›´å†…çš„æ•°å€¼ï¼Œå°æ•°ç‚¹å‰çš„ 0 å¯ä»¥ï¼ˆMAYï¼‰çœç•¥ï¼ŒåŒä¸€é¡¹ç›®ä¸­å¿…é¡»ï¼ˆMUSTï¼‰ä¿æŒä¸€è‡´ã€‚<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ—</span></span><br><span class="line">transition-duration: <span class="number">0.5s</span>, <span class="number">.7s</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ“</span></span><br><span class="line">transition-duration: <span class="number">.5s</span>, <span class="number">.7s</span>;</span><br></pre></td></tr></table></figure></p><h3 id="0-å€¼"><a href="#0-å€¼" class="headerlink" title="0 å€¼"></a>0 å€¼</h3><p>å½“å±æ€§å€¼ä¸º 0 æ—¶ï¼Œå¿…é¡»ï¼ˆMUSTï¼‰çœç•¥å¯çœçš„å•ä½ï¼ˆé•¿åº¦å•ä½å¦‚ pxã€emï¼Œä¸åŒ…æ‹¬æ—¶é—´ã€è§’åº¦ç­‰å¦‚ sã€degï¼‰ã€‚<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ—</span></span><br><span class="line"><span class="attribute">margin-top</span>: <span class="number">0px</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ“</span></span><br><span class="line"><span class="attribute">margin-top</span>: <span class="number">0</span>;</span><br></pre></td></tr></table></figure></p><h3 id="é¢œè‰²"><a href="#é¢œè‰²" class="headerlink" title="é¢œè‰²"></a>é¢œè‰²</h3><p>é¢œè‰²å®šä¹‰å¿…é¡»ï¼ˆMUSTï¼‰ä½¿ç”¨ #rrggbb æ ¼å¼å®šä¹‰ï¼Œå¹¶åœ¨å¯èƒ½æ—¶å°½é‡ï¼ˆSHOULDï¼‰ç¼©å†™ä¸º #rgb å½¢å¼ï¼Œä¸”é¿å…ç›´æ¥ä½¿ç”¨é¢œè‰²åç§°ä¸ rgb() è¡¨è¾¾å¼ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ—</span></span><br><span class="line"><span class="attribute">border-color</span>: red;</span><br><span class="line"><span class="attribute">color</span>: rgb(<span class="number">254</span>, <span class="number">254</span>, <span class="number">254</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ“</span></span><br><span class="line"><span class="attribute">border-color</span>: <span class="number">#f00</span>;</span><br><span class="line"><span class="attribute">color</span>: <span class="number">#fefefe</span>;</span><br></pre></td></tr></table></figure><h3 id="ç§æœ‰å±æ€§å‰ç¼€"><a href="#ç§æœ‰å±æ€§å‰ç¼€" class="headerlink" title="ç§æœ‰å±æ€§å‰ç¼€"></a>ç§æœ‰å±æ€§å‰ç¼€</h3><p>åŒä¸€å±æ€§æœ‰ä¸åŒç§æœ‰å‰ç¼€çš„ï¼Œå°½é‡ï¼ˆSHOULDï¼‰æŒ‰å‰ç¼€é•¿åº¦é™åºä¹¦å†™ï¼Œæ ‡å‡†å½¢å¼å¿…é¡»ï¼ˆMUSTï¼‰å†™åœ¨æœ€åã€‚ä¸”è¿™ä¸€ç»„å±æ€§ä»¥ç¬¬ä¸€æ¡çš„ä½ç½®ä¸ºå‡†ï¼Œå°½é‡ï¼ˆSHOULDï¼‰æŒ‰å†’å·çš„ä½ç½®å¯¹é½ã€‚<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ“</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: rotate(<span class="number">30deg</span>);</span><br><span class="line">       -moz-<span class="attribute">transform</span>: rotate(<span class="number">30deg</span>);</span><br><span class="line">        -ms-<span class="attribute">transform</span>: rotate(<span class="number">30deg</span>);</span><br><span class="line">         -o-<span class="attribute">transform</span>: rotate(<span class="number">30deg</span>);</span><br><span class="line">            <span class="attribute">transform</span>: rotate(<span class="number">30deg</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p>å¯ä»¥ï¼ˆMAYï¼‰åœ¨æ— å…¶ä»–æ›´å¥½è§£å†³åŠæ³•æ—¶ä½¿ç”¨ CSS hackï¼Œå¹¶ä¸”å°½é‡ï¼ˆSHOULDï¼‰ä½¿ç”¨ç®€å•çš„å±æ€§å hack å¦‚ _zoomã€*marginã€‚</p><p>å¯ä»¥ï¼ˆMAYï¼‰ä½†è°¨æ…ä½¿ç”¨ IE æ»¤é•œã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒIE æ»¤é•œä¸­å›¾ç‰‡çš„ URL æ˜¯ä»¥é¡µé¢è·¯å¾„ä½œä¸ºç›¸å¯¹ç›®å½•ï¼Œè€Œä¸æ˜¯ CSS æ–‡ä»¶è·¯å¾„ã€‚</p><h2 id="åµŒå¥—å’Œç¼©è¿›"><a href="#åµŒå¥—å’Œç¼©è¿›" class="headerlink" title="åµŒå¥—å’Œç¼©è¿›"></a>åµŒå¥—å’Œç¼©è¿›</h2><p>å¿…é¡»ï¼ˆMUSTï¼‰é‡‡ç”¨ 4 ä¸ªç©ºæ ¼ä¸ºä¸€æ¬¡ç¼©è¿›ï¼Œ ä¸å¾—ï¼ˆMUST NOTï¼‰é‡‡ç”¨ TAB ä½œä¸ºç¼©è¿›ã€‚</p><p>åµŒå¥—çš„å£°æ˜å—å‰å¿…é¡»ï¼ˆMUSTï¼‰å¢åŠ ä¸€æ¬¡ç¼©è¿›ï¼Œæœ‰å¤šä¸ªå£°æ˜å—å…±äº«å‘½åç©ºé—´æ—¶å°½é‡ï¼ˆSHOULDï¼‰åµŒå¥—ä¹¦å†™ï¼Œé¿å…é€‰æ‹©å™¨çš„é‡å¤ã€‚</p><p>ä½†æ˜¯éœ€æ³¨æ„çš„æ˜¯ï¼Œå°½é‡ï¼ˆSHOULDï¼‰ä»…åœ¨å¿…é¡»åŒºåˆ†ä¸Šä¸‹æ–‡æ—¶æ‰å¼•å…¥åµŒå¥—å…³ç³»ï¼ˆåœ¨åµŒå¥—ä¹¦å†™å‰å…ˆè€ƒè™‘å¦‚æœä¸èƒ½åµŒå¥—ï¼Œä¼šå¦‚ä½•ä¹¦å†™é€‰æ‹©å™¨ï¼‰ã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ—</span></span><br><span class="line"><span class="selector-class">.main</span> <span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.main</span> <span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line"><span class="selector-class">.warning</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.comment-form</span> &#123;</span><br><span class="line">    <span class="selector-id">#comment</span>:invalid &#123;</span><br><span class="line">      <span class="attribute">color</span>: red;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ“</span></span><br><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line">    <span class="selector-class">.title</span> &#123;</span><br><span class="line">        <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.content</span> &#123;</span><br><span class="line">        <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.warning</span> &#123;</span><br><span class="line">        <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#comment</span>:invalid &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><p>Less çš„å˜é‡å€¼æ€»æ˜¯ä»¥åŒä¸€ä½œç”¨åŸŸä¸‹æœ€åä¸€ä¸ªåŒåå˜é‡ä¸ºå‡†ï¼ŒåŠ¡å¿…æ³¨æ„åé¢çš„è®¾å®šä¼šè¦†ç›–æ‰€æœ‰ä¹‹å‰çš„è®¾å®šã€‚</p><p>å˜é‡å‘½åå¿…é¡»ï¼ˆMUSTï¼‰é‡‡ç”¨ @foo-bar å½¢å¼ï¼Œä¸å¾—ï¼ˆMUST NOTï¼‰ä½¿ç”¨ @fooBar å½¢å¼ã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ—</span></span><br><span class="line"><span class="variable">@sidebarWidth:</span> <span class="number">200px</span>;</span><br><span class="line"><span class="variable">@width:</span><span class="number">800px</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ“</span></span><br><span class="line"><span class="variable">@sidebar-width:</span> <span class="number">200px</span>;</span><br><span class="line"><span class="variable">@width:</span> <span class="number">800px</span>;</span><br></pre></td></tr></table></figure><h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><p>ä½¿ç”¨ç»§æ‰¿æ—¶ï¼Œå¦‚æœåœ¨å£°æ˜å—å†…ä¹¦å†™ :extend è¯­å¥ï¼Œå¿…é¡»ï¼ˆMUSTï¼‰å†™åœ¨å¼€å¤´ï¼š<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ—</span></span><br><span class="line"><span class="selector-class">.sub</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:extend(.mod</span> <span class="keyword">all</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ“</span></span><br><span class="line"><span class="selector-class">.sub</span> &#123;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:extend(.mod</span> <span class="keyword">all</span>);</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h2><p>å˜é‡å’Œ mixin åœ¨å‘½åæ—¶å¿…é¡»ï¼ˆMUSTï¼‰éµå¾ªå¦‚ä¸‹åŸåˆ™ï¼š</p><ul><li>ä¸€ä¸ªé¡¹ç›®åªèƒ½å¼•å…¥ä¸€ä¸ªæ— å‘½åå‰ç¼€çš„åŸºç¡€æ ·å¼åº“ï¼ˆå¦‚ estï¼‰</li><li>ä¸šåŠ¡ä»£ç å’Œå…¶ä»–è¢«å¼•å…¥çš„æ ·å¼ä»£ç ä¸­ï¼Œå˜é‡å’Œ mixin å¿…é¡»æœ‰é¡¹ç›®æˆ–åº“çš„å‰ç¼€<h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h2>åœ¨è¿›è¡Œå­—ç¬¦ä¸²è½¬ä¹‰æ—¶ï¼Œä½¿ç”¨ ~â€â€ è¡¨è¾¾å¼ä¸ e() å‡½æ•°å‡å¯ï¼Œä½†åœ¨åŒä¸€é¡¹ç›®ä¸­å¿…é¡»ï¼ˆMUSTï¼‰ä¿æŒä¸€è‡´ã€‚</li></ul><p>å­—ç¬¦ä¸²ä¸¤ä¾§çš„å¼•å·å¿…é¡»ï¼ˆMUSTï¼‰ä½¿ç”¨ â€œã€‚</p><h2 id="JS-è¡¨è¾¾å¼"><a href="#JS-è¡¨è¾¾å¼" class="headerlink" title="JS è¡¨è¾¾å¼"></a>JS è¡¨è¾¾å¼</h2><p>å¯ä»¥ï¼ˆMAYï¼‰ä½¿ç”¨ JS è¡¨è¾¾å¼ï¼ˆ~``ï¼‰ç”Ÿæˆå±æ€§å€¼æˆ–å˜é‡ï¼Œå…¶ä¸­åŒ…å«çš„å­—ç¬¦ä¸²ä¸¤ä¾§çš„å¼•å·å°½é‡ï¼ˆSHOULDï¼‰ä½¿ç”¨å•å¼•å·ï¼ˆâ€™ï¼‰ã€‚</p><h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><p>å•è¡Œæ³¨é‡Šå°½é‡ï¼ˆSHOULDï¼‰ä½¿ç”¨ // æ–¹å¼ã€‚</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Hide everything</span></span><br><span class="line"><span class="comment">* &#123;</span></span><br><span class="line">    <span class="keyword">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;\assets\js\APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h2 id=&quot;ä»£ç ç»„ç»‡&quot;&gt;&lt;a href=&quot;#ä»£ç ç»„ç»‡&quot; class=&quot;headerlink&quot; title=&quot;ä»£ç ç»„ç»‡&quot;&gt;&lt;/a&gt;ä»£ç ç»„ç»‡&lt;/h2&gt;&lt;p&gt;ä»£ç å¿…é¡»ï¼ˆMUSTï¼‰æŒ‰å¦‚
      
    
    </summary>
    
      <category term="css" scheme="https://chongdee.github.io/categories/css/"/>
    
    
      <category term="css" scheme="https://chongdee.github.io/tags/css/"/>
    
      <category term="ä»£ç è§„èŒƒ" scheme="https://chongdee.github.io/tags/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/"/>
    
  </entry>
  
  <entry>
    <title>Airbnb CSS / Sass æŒ‡å—</title>
    <link href="https://chongdee.github.io/2018/11/04/%E8%A7%84%E8%8C%83/Airbnb-CSS-Sass-%E6%8C%87%E5%8D%97/"/>
    <id>https://chongdee.github.io/2018/11/04/è§„èŒƒ/Airbnb-CSS-Sass-æŒ‡å—/</id>
    <published>2018-11-04T06:44:45.000Z</published>
    <updated>2021-05-08T16:59:05.846Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h2 id="è§„åˆ™å£°æ˜"><a href="#è§„åˆ™å£°æ˜" class="headerlink" title="è§„åˆ™å£°æ˜"></a>è§„åˆ™å£°æ˜</h2><p>æˆ‘ä»¬æŠŠä¸€ä¸ªï¼ˆæˆ–ä¸€ç»„ï¼‰é€‰æ‹©å™¨å’Œä¸€ç»„å±æ€§ç§°ä¹‹ä¸º â€œè§„åˆ™å£°æ˜â€ã€‚ä¸¾ä¸ªä¾‹å­ï¼š<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.listing</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><a id="more"></a><h2 id="é€‰æ‹©å™¨"><a href="#é€‰æ‹©å™¨" class="headerlink" title="é€‰æ‹©å™¨"></a>é€‰æ‹©å™¨</h2><p>åœ¨è§„åˆ™å£°æ˜ä¸­ï¼Œâ€œé€‰æ‹©å™¨â€ è´Ÿè´£é€‰å– DOM æ ‘ä¸­çš„å…ƒç´ ï¼Œè¿™äº›å…ƒç´ å°†è¢«å®šä¹‰çš„å±æ€§æ‰€ä¿®é¥°ã€‚é€‰æ‹©å™¨å¯ä»¥åŒ¹é… HTML å…ƒç´ ï¼Œä¹Ÿå¯ä»¥åŒ¹é…ä¸€ä¸ªå…ƒç´ çš„ç±»åã€ID, æˆ–è€…å…ƒç´ æ‹¥æœ‰çš„å±æ€§ã€‚ä»¥ä¸‹æ˜¯é€‰æ‹©å™¨çš„ä¾‹å­ï¼š<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.my-element-class</span> &#123;</span><br><span class="line">  <span class="comment">/* ... */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[aria-hidden]</span> &#123;</span><br><span class="line">  <span class="comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h2><p>æœ€åï¼Œå±æ€§å†³å®šäº†è§„åˆ™å£°æ˜é‡Œè¢«é€‰æ‹©çš„å…ƒç´ å°†å¾—åˆ°ä½•ç§æ ·å¼ã€‚å±æ€§ä»¥é”®å€¼å¯¹å½¢å¼å­˜åœ¨ï¼Œä¸€ä¸ªè§„åˆ™å£°æ˜å¯ä»¥åŒ…å«ä¸€æˆ–å¤šä¸ªå±æ€§å®šä¹‰ã€‚ä»¥ä¸‹æ˜¯å±æ€§å®šä¹‰çš„ä¾‹å­ï¼š<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* some selector */</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f1f1f1</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><h3 id="æ ¼å¼"><a href="#æ ¼å¼" class="headerlink" title="æ ¼å¼"></a>æ ¼å¼</h3><ul><li>ä½¿ç”¨ 2 ä¸ªç©ºæ ¼ä½œä¸ºç¼©è¿›ã€‚</li><li>ç±»åå»ºè®®ä½¿ç”¨ç ´æŠ˜å·ä»£æ›¿é©¼å³°æ³•ã€‚å¦‚æœä½ ä½¿ç”¨ BEMï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆå‚è§ä¸‹é¢çš„ OOCSS å’Œ BEMï¼‰ã€‚</li><li>ä¸è¦ä½¿ç”¨ ID é€‰æ‹©å™¨ã€‚</li><li>åœ¨ä¸€ä¸ªè§„åˆ™å£°æ˜ä¸­åº”ç”¨äº†å¤šä¸ªé€‰æ‹©å™¨æ—¶ï¼Œæ¯ä¸ªé€‰æ‹©å™¨ç‹¬å ä¸€è¡Œã€‚</li><li>åœ¨è§„åˆ™å£°æ˜çš„å·¦å¤§æ‹¬å· { å‰åŠ ä¸Šä¸€ä¸ªç©ºæ ¼ã€‚</li><li>åœ¨å±æ€§çš„å†’å· : åé¢åŠ ä¸Šä¸€ä¸ªç©ºæ ¼ï¼Œå‰é¢ä¸åŠ ç©ºæ ¼ã€‚</li><li>è§„åˆ™å£°æ˜çš„å³å¤§æ‹¬å· } ç‹¬å ä¸€è¡Œã€‚</li><li>è§„åˆ™å£°æ˜ä¹‹é—´ç”¨ç©ºè¡Œåˆ†éš”å¼€ã€‚<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Bad</span></span><br><span class="line">.avatar&#123;</span><br><span class="line">    <span class="attribute">border-radius</span>:<span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">2px</span> solid white; &#125;</span><br><span class="line"><span class="selector-class">.no</span>, <span class="selector-class">.nope</span>, <span class="selector-class">.not_good</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#lol-no</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Good</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.avatar</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.one</span>,</span><br><span class="line"><span class="selector-class">.selector</span>,</span><br><span class="line"><span class="selector-class">.per-line</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h3><ol><li>å»ºè®®ä½¿ç”¨è¡Œæ³¨é‡Š (åœ¨ Sass ä¸­æ˜¯ //) ä»£æ›¿å—æ³¨é‡Šã€‚</li><li>å»ºè®®æ³¨é‡Šç‹¬å ä¸€è¡Œã€‚é¿å…è¡Œæœ«æ³¨é‡Šã€‚</li><li>ç»™æ²¡æœ‰è‡ªæ³¨é‡Šçš„ä»£ç å†™ä¸Šè¯¦ç»†è¯´æ˜ï¼Œæ¯”å¦‚ï¼š<ul><li>ä¸ºä»€ä¹ˆç”¨åˆ°äº† z-index</li><li>å…¼å®¹æ€§å¤„ç†æˆ–è€…é’ˆå¯¹ç‰¹å®šæµè§ˆå™¨çš„ hack</li></ul></li></ol><h2 id="OOCSS-å’Œ-BEM"><a href="#OOCSS-å’Œ-BEM" class="headerlink" title="OOCSS å’Œ BEM"></a>OOCSS å’Œ BEM</h2><p>å‡ºäºä»¥ä¸‹åŸå› ï¼Œæˆ‘ä»¬é¼“åŠ±ä½¿ç”¨ OOCSS å’Œ BEM çš„æŸç§ç»„åˆï¼š</p><ul><li>å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†æ¸… CSS å’Œ HTML ä¹‹é—´æ¸…æ™°ä¸”ä¸¥è°¨çš„å…³ç³»ã€‚</li><li>å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ›å»ºå‡ºå¯é‡ç”¨ã€æ˜“è£…é…çš„ç»„ä»¶ã€‚</li><li>å¯ä»¥å‡å°‘åµŒå¥—ï¼Œé™ä½ç‰¹å®šæ€§ã€‚</li><li>å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ›å»ºå‡ºå¯æ‰©å±•çš„æ ·å¼è¡¨ã€‚</li></ul><p><strong>OOCSS</strong>ï¼Œä¹Ÿå°±æ˜¯ â€œObject Oriented CSSï¼ˆé¢å‘å¯¹è±¡çš„CSSï¼‰â€ï¼Œæ˜¯ä¸€ç§å†™ CSS çš„æ–¹æ³•ï¼Œå…¶æ€æƒ³å°±æ˜¯é¼“åŠ±ä½ æŠŠæ ·å¼è¡¨çœ‹ä½œâ€œå¯¹è±¡â€çš„é›†åˆï¼šåˆ›å»ºå¯é‡ç”¨æ€§ã€å¯é‡å¤æ€§çš„ä»£ç æ®µè®©ä½ å¯ä»¥åœ¨æ•´ä¸ªç½‘ç«™ä¸­å¤šæ¬¡ä½¿ç”¨ã€‚</p><p>å‚è€ƒèµ„æ–™ï¼š</p><ul><li>Nicole Sullivan çš„ <a href="https://github.com/stubbornella/oocss/wiki" target="_blank" rel="noopener">OOCSS wiki</a></li><li>Smashing Magazine çš„ <a href="https://www.smashingmagazine.com/2011/12/an-introduction-to-object-oriented-css-oocss/#top" target="_blank" rel="noopener">Introduction to OOCSS</a></li></ul><p><strong>BEM</strong>ï¼Œä¹Ÿå°±æ˜¯ â€œBlock-Element-Modifierâ€ï¼Œæ˜¯ä¸€ç§ç”¨äº HTML å’Œ CSS ç±»åçš„<em>å‘½åçº¦å®š</em>ã€‚BEM æœ€åˆæ˜¯ç”± Yandex æå‡ºçš„ï¼Œè¦çŸ¥é“ä»–ä»¬æ‹¥æœ‰å·¨å¤§çš„ä»£ç åº“å’Œå¯ä¼¸ç¼©æ€§ï¼ŒBEM å°±æ˜¯ä¸ºæ­¤è€Œç”Ÿçš„ï¼Œå¹¶ä¸”å¯ä»¥ä½œä¸ºä¸€å¥—éµå¾ª OOCSS çš„å‚è€ƒæŒ‡å¯¼è§„èŒƒã€‚</p><p>CSS Trick çš„ <a href="https://css-tricks.com/bem-101/" target="_blank" rel="noopener">BEM 101</a><br>Harry Roberts çš„ <a href="https://csswizardry.com/2013/01/mindbemding-getting-your-head-round-bem-syntax/" target="_blank" rel="noopener">introduction to BEM</a></p><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">article</span> class=<span class="string">"listing-card listing-card--featured"</span>&gt;</span><br><span class="line"></span><br><span class="line">  &lt;<span class="selector-tag">h1</span> class=<span class="string">"listing-card__title"</span>&gt;Adorable <span class="number">2</span>BR <span class="keyword">in</span> the sunny Mission&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">  &lt;<span class="selector-tag">div</span> class=<span class="string">"listing-card__content"</span>&gt;</span><br><span class="line">    &lt;p&gt;Vestibulum id ligula porta felis euismod semper.&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/article&gt;</span><br><span class="line"><span class="selector-class">.listing-card</span> &#123; &#125;</span><br><span class="line"><span class="selector-class">.listing-card--featured</span> &#123; &#125;</span><br><span class="line"><span class="selector-class">.listing-card__title</span> &#123; &#125;</span><br><span class="line"><span class="selector-class">.listing-card__content</span> &#123; &#125;</span><br></pre></td></tr></table></figure><ul><li>.listing-card æ˜¯ä¸€ä¸ªå—ï¼ˆblockï¼‰ï¼Œè¡¨ç¤ºé«˜å±‚æ¬¡çš„ç»„ä»¶ã€‚</li><li>.listing-card__title æ˜¯ä¸€ä¸ªå…ƒç´ ï¼ˆelementï¼‰ï¼Œå®ƒå±äº .listing-card çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤å—æ˜¯ç”±å…ƒç´ ç»„æˆçš„ã€‚</li><li>.listing-cardâ€“featured æ˜¯ä¸€ä¸ªä¿®é¥°ç¬¦ï¼ˆmodifierï¼‰ï¼Œè¡¨ç¤ºè¿™ä¸ªå—ä¸ .listing-card æœ‰ç€ä¸åŒçš„çŠ¶æ€æˆ–è€…å˜åŒ–ã€‚</li></ul><h3 id="BEM"><a href="#BEM" class="headerlink" title="BEM"></a><a href="http://getbem.com/" target="_blank" rel="noopener">BEM</a></h3><p><strong>Naming</strong><br>ç”±æ‹‰ä¸å­—æ¯, æ•°å­—, -ç»„æˆcssçš„å•ä¸ªåç§°.<br><strong>Block</strong><br>ä½¿ç”¨ç®€æ´çš„å‰ç¼€åå­—æ¥å‘½åä¸€ä¸ªç‹¬ç«‹ä¸”æœ‰æ„ä¹‰çš„æŠ½è±¡å—æˆ–ç»„ä»¶ã€‚<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.block</span><br><span class="line"></span><br><span class="line">.header</span><br><span class="line"></span><br><span class="line">.site-search</span><br></pre></td></tr></table></figure></p><p><strong>Element</strong><br>ä½¿ç”¨__è¿æ¥ç¬¦æ¥è¿æ¥Block å’Œ Elementã€‚<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.block__element</span><br><span class="line"></span><br><span class="line">.header__title</span><br><span class="line"></span><br><span class="line">.site-search__field</span><br></pre></td></tr></table></figure></p><p><strong>Modifier</strong><br>ä½¿ç”¨â€“è¿æ¥ç¬¦æ¥è¿æ¥Block æˆ– Element å’Œ Modifierã€‚<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.block--modifier</span><br><span class="line"></span><br><span class="line">.block__element--modifier</span><br><span class="line"></span><br><span class="line">.header--hide</span><br><span class="line"></span><br><span class="line">.header__title--<span class="attribute">color</span>-red</span><br><span class="line"></span><br><span class="line">.site-search__field--disabled</span><br></pre></td></tr></table></figure></p><p><strong>ç¤ºä¾‹</strong><br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//html</span></span><br><span class="line">&lt;<span class="selector-tag">form</span> class=<span class="string">"form form--theme-xmas form--simple"</span>&gt;</span><br><span class="line">  &lt;<span class="selector-tag">input</span> class=<span class="string">"form__input"</span> type=<span class="string">"text"</span> /&gt;</span><br><span class="line">  &lt;<span class="selector-tag">input</span> class=<span class="string">"form__submit form__submit--disabled"</span> type=<span class="string">"submit"</span> /&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//CSS</span></span><br><span class="line"><span class="selector-class">.form</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.form--theme-xmas</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.form--simple</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.form__input</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.form__submit</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.form__submit--disabled</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="ID-é€‰æ‹©å™¨"><a href="#ID-é€‰æ‹©å™¨" class="headerlink" title="ID é€‰æ‹©å™¨"></a>ID é€‰æ‹©å™¨</h2><p>åœ¨ CSS ä¸­ï¼Œè™½ç„¶å¯ä»¥é€šè¿‡ ID é€‰æ‹©å…ƒç´ ï¼Œä½†å¤§å®¶é€šå¸¸éƒ½ä¼šæŠŠè¿™ç§æ–¹å¼åˆ—ä¸ºåé¢æ•™æã€‚ID é€‰æ‹©å™¨ç»™ä½ çš„è§„åˆ™å£°æ˜å¸¦æ¥äº†ä¸å¿…è¦çš„é«˜ä¼˜å…ˆçº§ï¼Œè€Œä¸” ID é€‰æ‹©å™¨æ˜¯ä¸å¯é‡ç”¨çš„ã€‚</p><p>æƒ³è¦äº†è§£å…³äºè¿™ä¸ªä¸»é¢˜çš„æ›´å¤šå†…å®¹ï¼Œå‚è§ <a href="https://csswizardry.com/2014/07/hacks-for-dealing-with-specificity/" target="_blank" rel="noopener">CSS Wizardry</a> çš„æ–‡ç« ï¼Œæ–‡ç« ä¸­æœ‰å…³äºå¦‚ä½•å¤„ç†ä¼˜å…ˆçº§çš„å†…å®¹ã€‚</p><h2 id="JavaScript-é’©å­"><a href="#JavaScript-é’©å­" class="headerlink" title="JavaScript é’©å­"></a>JavaScript é’©å­</h2><p>é¿å…åœ¨ CSS å’Œ JavaScript ä¸­ç»‘å®šç›¸åŒçš„ç±»ã€‚å¦åˆ™å¼€å‘è€…åœ¨é‡æ„æ—¶é€šå¸¸ä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µï¼šè½»åˆ™æµªè´¹æ—¶é—´åœ¨å¯¹ç…§æŸ¥æ‰¾æ¯ä¸ªè¦æ”¹å˜çš„ç±»ï¼Œé‡åˆ™å› ä¸ºå®³æ€•ç ´ååŠŸèƒ½è€Œä¸æ•¢ä½œå‡ºæ›´æ”¹ã€‚</p><p>æˆ‘ä»¬æ¨èåœ¨åˆ›å»ºç”¨äºç‰¹å®š JavaScript çš„ç±»åæ—¶ï¼Œæ·»åŠ  .js- å‰ç¼€ï¼š<br><figure class="highlight vbscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button <span class="keyword">class</span>=<span class="string">"btn btn-primary js-request-to-book"</span>&gt;<span class="built_in">Request</span> <span class="keyword">to</span> Book&lt;/button&gt;</span><br></pre></td></tr></table></figure></p><h2 id="è¾¹æ¡†"><a href="#è¾¹æ¡†" class="headerlink" title="è¾¹æ¡†"></a>è¾¹æ¡†</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Bad</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.foo</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Good</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.foo</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Sass"><a href="#Sass" class="headerlink" title="Sass"></a>Sass</h2><h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><ul><li>ä½¿ç”¨ .scss çš„è¯­æ³•ï¼Œä¸ä½¿ç”¨ .sass åŸæœ¬çš„è¯­æ³•ã€‚</li><li>CSS å’Œ @include å£°æ˜æŒ‰ç…§ä»¥ä¸‹é€»è¾‘æ’åºï¼ˆå‚è§ä¸‹æ–‡ï¼‰</li></ul><h3 id="å±æ€§å£°æ˜çš„æ’åº"><a href="#å±æ€§å£°æ˜çš„æ’åº" class="headerlink" title="å±æ€§å£°æ˜çš„æ’åº"></a>å±æ€§å£°æ˜çš„æ’åº</h3><p>1.å±æ€§å£°æ˜<br>é¦–å…ˆåˆ—å‡ºé™¤å» @include å’ŒåµŒå¥—é€‰æ‹©å™¨ä¹‹å¤–çš„æ‰€æœ‰å±æ€§å£°æ˜ã€‚<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.btn-green</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: green;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>2.@include å£°æ˜<br>ç´§éšåé¢çš„æ˜¯ @includeï¼Œè¿™æ ·å¯ä»¥ä½¿å¾—æ•´ä¸ªé€‰æ‹©å™¨çš„å¯è¯»æ€§æ›´é«˜ã€‚<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.btn-green</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: green;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  @<span class="keyword">include</span> transition(background 0.5s ease);</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>3.åµŒå¥—é€‰æ‹©å™¨<br>å¦‚æœæœ‰å¿…è¦ç”¨åˆ°åµŒå¥—é€‰æ‹©å™¨ï¼ŒæŠŠå®ƒä»¬æ”¾åˆ°æœ€åï¼Œåœ¨è§„åˆ™å£°æ˜å’ŒåµŒå¥—é€‰æ‹©å™¨ä¹‹é—´è¦åŠ ä¸Šç©ºç™½ï¼Œç›¸é‚»åµŒå¥—é€‰æ‹©å™¨ä¹‹é—´ä¹Ÿè¦åŠ ä¸Šç©ºç™½ã€‚åµŒå¥—é€‰æ‹©å™¨ä¸­çš„å†…å®¹ä¹Ÿè¦éµå¾ªä¸Šè¿°æŒ‡å¼•ã€‚<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.btn</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: green;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  @include <span class="attribute">transition</span>(background <span class="number">0.5s</span> ease);</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.icon</span> &#123;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h3><p>å˜é‡ååº”ä½¿ç”¨ç ´æŠ˜å·ï¼ˆä¾‹å¦‚ $my-variableï¼‰ä»£æ›¿ camelCased å’Œ snake_cased é£æ ¼ã€‚å¯¹äºä»…ç”¨åœ¨å½“å‰æ–‡ä»¶çš„å˜é‡ï¼Œå¯ä»¥åœ¨å˜é‡åä¹‹å‰æ·»åŠ ä¸‹åˆ’çº¿å‰ç¼€ï¼ˆä¾‹å¦‚ $_my-variableï¼‰ã€‚</p><h3 id="Mixins"><a href="#Mixins" class="headerlink" title="Mixins"></a>Mixins</h3><p>ä¸ºäº†è®©ä»£ç éµå¾ª DRY åŸåˆ™ï¼ˆDonâ€™t Repeat Yourselfï¼‰ã€å¢å¼ºæ¸…æ™°æ€§æˆ–æŠ½è±¡åŒ–å¤æ‚æ€§ï¼Œåº”è¯¥ä½¿ç”¨ mixinï¼Œè¿™ä¸é‚£äº›å‘½åè‰¯å¥½çš„å‡½æ•°çš„ä½œç”¨æ˜¯å¼‚æ›²åŒå·¥çš„ã€‚è™½ç„¶ mixin å¯ä»¥ä¸æ¥æ”¶å‚æ•°ï¼Œä½†è¦æ³¨æ„ï¼Œå‡å¦‚ä½ ä¸å‹ç¼©è´Ÿè½½ï¼ˆæ¯”å¦‚é€šè¿‡ gzipï¼‰ï¼Œè¿™æ ·ä¼šå¯¼è‡´æœ€ç»ˆçš„æ ·å¼åŒ…å«ä¸å¿…è¦çš„ä»£ç é‡å¤ã€‚</p><h3 id="æ‰©å±•æŒ‡ä»¤"><a href="#æ‰©å±•æŒ‡ä»¤" class="headerlink" title="æ‰©å±•æŒ‡ä»¤"></a>æ‰©å±•æŒ‡ä»¤</h3><p>åº”é¿å…ä½¿ç”¨ @extend æŒ‡ä»¤ï¼Œå› ä¸ºå®ƒå¹¶ä¸ç›´è§‚ï¼Œè€Œä¸”å…·æœ‰æ½œåœ¨é£é™©ï¼Œç‰¹åˆ«æ˜¯ç”¨åœ¨åµŒå¥—é€‰æ‹©å™¨çš„æ—¶å€™ã€‚å³ä¾¿æ˜¯åœ¨é¡¶å±‚å ä½ç¬¦é€‰æ‹©å™¨ä½¿ç”¨æ‰©å±•ï¼Œå¦‚æœé€‰æ‹©å™¨çš„é¡ºåºæœ€ç»ˆä¼šæ”¹å˜ï¼Œä¹Ÿå¯èƒ½ä¼šå¯¼è‡´é—®é¢˜ã€‚ï¼ˆæ¯”å¦‚ï¼Œå¦‚æœå®ƒä»¬å­˜åœ¨äºå…¶ä»–æ–‡ä»¶ï¼Œè€ŒåŠ è½½é¡ºåºå‘ç”Ÿäº†å˜åŒ–ï¼‰ã€‚å…¶å®ï¼Œä½¿ç”¨ @extend æ‰€è·å¾—çš„å¤§éƒ¨åˆ†ä¼˜åŒ–æ•ˆæœï¼Œgzip å‹ç¼©å·²ç»å¸®åŠ©ä½ åšåˆ°äº†ï¼Œå› æ­¤ä½ åªéœ€è¦é€šè¿‡ mixin è®©æ ·å¼è¡¨æ›´ç¬¦åˆ DRY åŸåˆ™å°±è¶³å¤Ÿäº†ã€‚</p><h3 id="åµŒå¥—é€‰æ‹©å™¨"><a href="#åµŒå¥—é€‰æ‹©å™¨" class="headerlink" title="åµŒå¥—é€‰æ‹©å™¨"></a>åµŒå¥—é€‰æ‹©å™¨</h3><p><strong>è¯·ä¸è¦è®©åµŒå¥—é€‰æ‹©å™¨çš„æ·±åº¦è¶…è¿‡ 3 å±‚ï¼</strong><br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.page-container</span> &#123;</span><br><span class="line">  <span class="selector-class">.content</span> &#123;</span><br><span class="line">    <span class="selector-class">.profile</span> &#123;</span><br><span class="line">      <span class="comment">// STOP!</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å½“é‡åˆ°ä»¥ä¸Šæƒ…å†µçš„æ—¶å€™ï¼Œä½ ä¹Ÿè®¸æ˜¯è¿™æ ·å†™ CSS çš„ï¼š</p><ul><li>ä¸ HTML å¼ºè€¦åˆçš„ï¼ˆä¹Ÿæ˜¯è„†å¼±çš„ï¼‰</li><li>è¿‡äºå…·ä½“ï¼ˆå¼ºå¤§ï¼‰</li><li>æ²¡æœ‰é‡ç”¨</li></ul><p>å†è¯´ä¸€é: <strong>æ°¸è¿œä¸è¦åµŒå¥— ID é€‰æ‹©å™¨ï¼</strong></p><p>å¦‚æœä½ å§‹ç»ˆåšæŒè¦ä½¿ç”¨ ID é€‰æ‹©å™¨ï¼ˆåŠä½ ä¸‰æ€ï¼‰ï¼Œé‚£ä¹Ÿä¸åº”è¯¥åµŒå¥—å®ƒä»¬ã€‚å¦‚æœä½ æ­£æ‰“ç®—è¿™ä¹ˆåšï¼Œä½ éœ€è¦å…ˆé‡æ–°æ£€æŸ¥ä½ çš„æ ‡ç­¾ï¼Œæˆ–è€…æŒ‡æ˜åŸå› ã€‚å¦‚æœä½ æƒ³è¦å†™å‡ºé£æ ¼è‰¯å¥½çš„ HTML å’Œ CSSï¼Œä½ æ˜¯ä¸åº”è¯¥è¿™æ ·åšçš„ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;è§„åˆ™å£°æ˜&quot;&gt;&lt;a href=&quot;#è§„åˆ™å£°æ˜&quot; class=&quot;headerlink&quot; title=&quot;è§„åˆ™å£°æ˜&quot;&gt;&lt;/a&gt;è§„åˆ™å£°æ˜&lt;/h2&gt;&lt;p&gt;æˆ‘ä»¬æŠŠä¸€ä¸ªï¼ˆæˆ–ä¸€ç»„ï¼‰é€‰æ‹©å™¨å’Œä¸€ç»„å±æ€§ç§°ä¹‹ä¸º â€œè§„åˆ™å£°æ˜â€ã€‚ä¸¾ä¸ªä¾‹å­ï¼š&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.listing&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;font-size&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;18px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;line-height&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1.2&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="css" scheme="https://chongdee.github.io/categories/css/"/>
    
    
      <category term="css" scheme="https://chongdee.github.io/tags/css/"/>
    
      <category term="ä»£ç è§„èŒƒ" scheme="https://chongdee.github.io/tags/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/"/>
    
  </entry>
  
  <entry>
    <title>Airbnb JavaScript ç¼–ç é£æ ¼æŒ‡å—</title>
    <link href="https://chongdee.github.io/2018/11/03/%E8%A7%84%E8%8C%83/Airbnb-JavaScript-%E7%BC%96%E7%A0%81%E9%A3%8E%E6%A0%BC%E6%8C%87%E5%8D%97/"/>
    <id>https://chongdee.github.io/2018/11/03/è§„èŒƒ/Airbnb-JavaScript-ç¼–ç é£æ ¼æŒ‡å—/</id>
    <published>2018-11-03T09:29:15.000Z</published>
    <updated>2021-05-08T16:59:38.099Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h2 id="Airbnb-JavaScript-ç¼–ç é£æ ¼æŒ‡å—ï¼ˆ2018å¹´æœ€æ–°ç‰ˆï¼‰"><a href="#Airbnb-JavaScript-ç¼–ç é£æ ¼æŒ‡å—ï¼ˆ2018å¹´æœ€æ–°ç‰ˆï¼‰" class="headerlink" title="Airbnb JavaScript ç¼–ç é£æ ¼æŒ‡å—ï¼ˆ2018å¹´æœ€æ–°ç‰ˆï¼‰"></a>Airbnb JavaScript ç¼–ç é£æ ¼æŒ‡å—ï¼ˆ2018å¹´æœ€æ–°ç‰ˆï¼‰</h2><blockquote><p>Airbnb JSè§„èŒƒåŸæ–‡ï¼š <a href="https://github.com/airbnb/javascript" target="_blank" rel="noopener">https://github.com/airbnb/javascript</a></p></blockquote><h2 id="ç±»å‹"><a href="#ç±»å‹" class="headerlink" title="ç±»å‹"></a>ç±»å‹</h2><p>1.åŸºæœ¬ç±»å‹ï¼šç›´æ¥å­˜å–</p><ul><li>string</li><li>number</li><li>boolean</li><li>null</li><li>undefined</li><li>symbol<a id="more"></a><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const foo = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="built_in">bar</span> = foo;</span><br><span class="line"></span><br><span class="line"><span class="built_in">bar</span> = <span class="number">9</span>;</span><br><span class="line"></span><br><span class="line">console.<span class="built_in">log</span>(foo, <span class="built_in">bar</span>); <span class="comment">// =&gt; 1, 9</span></span><br></pre></td></tr></table></figure></li></ul><p><strong>symbol ç±»å‹ä¸èƒ½å®Œå…¨polyfilledï¼Œæ‰€ä»¥è¯·è°¨æ…ä½¿ç”¨</strong></p><p>2.å¤æ‚ç±»å‹: é€šè¿‡å¼•ç”¨çš„æ–¹å¼å­˜å–</p><ul><li>object</li><li>array</li><li>function<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const foo = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line">const bar = foo;</span><br><span class="line"></span><br><span class="line">bar[<span class="number">0</span>] = <span class="number">9</span>;</span><br><span class="line"></span><br><span class="line">console.log(foo[<span class="number">0</span>], bar[<span class="number">0</span>]); <span class="comment">// =&gt; 9, 9</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><p>1.ä½¿ç”¨constç”³æ˜å¼•ç”¨ç±»å‹ï¼Œé¿å…ä½¿ç”¨varã€‚eslint è®¾ç½®ï¼š<a href="https://eslint.org/docs/rules/prefer-const.html" target="_blank" rel="noopener">prefer-const</a>,<a href="https://eslint.org/docs/rules/no-const-assign.html" target="_blank" rel="noopener">no-const-assign</a></p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿè¿™èƒ½ç¡®ä¿ä½ æ— æ³•å¯¹å¼•ç”¨é‡æ–°èµ‹å€¼ï¼Œä¹Ÿä¸ä¼šå¯¼è‡´å‡ºç° bug æˆ–éš¾ä»¥ç†è§£ã€‚</p></blockquote><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> b = <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>2.å¦‚æœå¿…é¡»å¯¹å¼•ç”¨ç±»å‹é‡æ–°èµ‹å€¼ï¼Œä½¿ç”¨letè€Œévarã€‚eslintè®¾ç½®ï¼š<a href="https://eslint.org/docs/rules/no-var.html" target="_blank" rel="noopener">no-var </a></p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿç›¸æ¯”äºvarå‡½æ•°ä½œç”¨åŸŸï¼Œletå—çº§ä½œç”¨åŸŸæ›´å®¹æ˜“ç†è§£</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> <span class="built_in">count</span> = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="built_in">count</span> += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good, use the let.</span></span><br><span class="line"><span class="keyword">let</span> <span class="built_in">count</span> = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="built_in">count</span> += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.æ³¨æ„letå’Œconstéƒ½æ˜¯å—çº§ä½œç”¨åŸŸ<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// const and let only exist in the blocks they are defined in.</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">const</span> b = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// ReferenceError</span></span><br><span class="line"><span class="built_in">console</span>.log(b); <span class="comment">// ReferenceError</span></span><br></pre></td></tr></table></figure></p><h2 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h2><p>1.ä½¿ç”¨å­—é¢å€¼åˆ›å»ºå¯¹è±¡ã€‚eslint: <a href="https://eslint.org/docs/rules/no-new-object.html" target="_blank" rel="noopener">no-new-object</a><br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> item = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> item = &#123;&#125;;</span><br></pre></td></tr></table></figure></p><p>2.åˆ›å»ºå¯¹è±¡çš„åŠ¨æ€å±æ€§æ—¶ï¼Œä½¿ç”¨è®¡ç®—å±æ€§</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿè¿™æ ·å¯ä»¥åœ¨ä¸€ä¸ªåœ°æ–¹å®šä¹‰å¯¹è±¡æ‰€æœ‰çš„å±æ€§</p></blockquote><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getKey</span>(<span class="params">k</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`a key named <span class="subst">$&#123;k&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attribute">id:</span><span class="string"> 5,</span></span><br><span class="line"><span class="string">  name</span>: <span class="string">'San Francisco'</span>,</span><br><span class="line">&#125;;</span><br><span class="line">obj[getKey(<span class="string">'enabled'</span>)] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attribute">id:</span><span class="string"> 5,</span></span><br><span class="line"><span class="string">  name</span>: <span class="string">'San Francisco'</span>,</span><br><span class="line">  [getKey(<span class="string">'enabled'</span>)]: <span class="literal">true</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>3.ä½¿ç”¨å¯¹è±¡æ–¹æ³•çš„ç®€å†™å½¢å¼ã€‚ eslint: <a href="https://eslint.org/docs/rules/object-shorthand.html" target="_blank" rel="noopener">object-shorthand</a></p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿæ–¹æ³•å®šä¹‰ç®€æ´æ¸…æ™°</p></blockquote><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> atom = &#123;</span><br><span class="line">  <span class="keyword">value</span>: <span class="number">1</span>,</span><br><span class="line"></span><br><span class="line">  addValue: function (<span class="keyword">value</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> atom.<span class="keyword">value</span> + <span class="keyword">value</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> atom = &#123;</span><br><span class="line">  <span class="keyword">value</span>: <span class="number">1</span>,</span><br><span class="line"></span><br><span class="line">  addValue(<span class="keyword">value</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> atom.<span class="keyword">value</span> + <span class="keyword">value</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>4.ä½¿ç”¨å±æ€§å€¼ç®€å†™å½¢å¼</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿä¹¦å†™æ›´åŠ ç®€æ´ï¼Œæ›´æœ‰æè¿°æ€§ã€‚</p></blockquote><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> lukeSkywalker = <span class="string">'Luke Skywalker'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  lukeSkywalker: lukeSkywalker,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  lukeSkywalker,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>5.å¯¹è±¡å£°æ˜æ—¶åˆ†ç±»ç®€å†™å’Œéç®€å†™çš„å±æ€§åã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿæ›´æ¸…æ™°çš„äº†è§£å“ªäº›å±æ€§æ˜¯ç®€å†™çš„ã€‚</p></blockquote><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> anakinSkywalker = <span class="string">'Anakin Skywalker'</span>;</span><br><span class="line"><span class="keyword">const</span> lukeSkywalker = <span class="string">'Luke Skywalker'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  episodeOne: <span class="number">1</span>,</span><br><span class="line">  twoJediWalkIntoACantina: <span class="number">2</span>,</span><br><span class="line">  lukeSkywalker,</span><br><span class="line">  episodeThree: <span class="number">3</span>,</span><br><span class="line">  mayTheFourth: <span class="number">4</span>,</span><br><span class="line">  anakinSkywalker,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  lukeSkywalker,</span><br><span class="line">  anakinSkywalker,</span><br><span class="line">  episodeOne: <span class="number">1</span>,</span><br><span class="line">  twoJediWalkIntoACantina: <span class="number">2</span>,</span><br><span class="line">  episodeThree: <span class="number">3</span>,</span><br><span class="line">  mayTheFourth: <span class="number">4</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>6.åªæœ‰å¯¹é‚£äº›ä¸åˆæ³•çš„å±æ€§åæ ‡è¯†ç¬¦æ·»åŠ å¼•å·ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿå¯¹è±¡å±æ€§æ›´ç›´è§‚ï¼Œå¯è¯»æ€§å¼ºã€‚èƒ½å¤Ÿä»£ç é«˜äº®æ˜¾ç¤ºï¼ŒåŒæ—¶å¯¹äºå¤§å¤šæ•°çš„jså¼•æ“æ›´å®¹æ˜“ä¼˜åŒ–ä»£ç ã€‚</p></blockquote><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> bad = &#123;</span><br><span class="line">  <span class="string">'foo'</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="string">'bar'</span>: <span class="number">4</span>,</span><br><span class="line">  <span class="string">'data-blah'</span>: <span class="number">5</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> good = &#123;</span><br><span class="line">  foo: <span class="number">3</span>,</span><br><span class="line">  bar: <span class="number">4</span>,</span><br><span class="line">  <span class="string">'data-blah'</span>: <span class="number">5</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>7.ä¸è¦ç›´æ¥ä½¿ç”¨Object.prototypeä¸Šçš„æ–¹æ³•ï¼Œä¾‹å¦‚hasOwnProperty, propertyIsEnumerable, å’Œ isPrototypeOfã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿè¿™äº›æ–¹æ³•å¯èƒ½å—å¯¹è±¡çš„å…¶ä»–å±æ€§å½±å“ã€‚ä¾‹å¦‚{ hasOwnProperty: false } æˆ–è€… å¯¹è±¡å¯èƒ½æ˜¯null(Object.create(null))</p></blockquote><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">console.<span class="built_in">log</span>(object.hasOwnProperty(<span class="built_in">key</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> object = <span class="keyword">Object</span>.create(<span class="keyword">null</span>);</span><br><span class="line">obj.hasOwnProperty(<span class="built_in">key</span>) <span class="comment">// Uncaught TypeError: obj.hasOwnProperty is not a function</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">console.<span class="built_in">log</span>(<span class="keyword">Object</span>.prototype.hasOwnProperty.call(object, <span class="built_in">key</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// best</span></span><br><span class="line"><span class="keyword">const</span> has = <span class="keyword">Object</span>.prototype.hasOwnProperty; <span class="comment">// cache the lookup once, in module scope.</span></span><br><span class="line"><span class="comment">/* or */</span></span><br><span class="line"><span class="keyword">import</span> has from <span class="string">'has'</span>; <span class="comment">// https://www.npmjs.com/package/has</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">console.<span class="built_in">log</span>(has.call(object, <span class="built_in">key</span>));</span><br></pre></td></tr></table></figure><p>8.æµ…æ‹·è´å¯¹è±¡æ—¶æ¨èä½¿ç”¨å¯¹è±¡å±•å¼€æ“ä½œï¼ˆobject spread operatorï¼‰è€Œä¸æ˜¯Object.assignã€‚ä½¿ç”¨å¯¹è±¡å‰©ä½™æ“ä½œç¬¦ï¼ˆobject rest operatorï¼‰è·å–å¯¹è±¡ä¸­å‰©ä½™çš„å±æ€§ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼ŸObject.assignä½¿ç”¨ä¸å½“ä¼šä¿®æ”¹åŸå¯¹è±¡</p></blockquote><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// very bad</span></span><br><span class="line"><span class="keyword">const</span> original = <span class="comment">&#123; a: 1, b: 2 &#125;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">copy</span> = Object.assign(original, <span class="comment">&#123; c: 3 &#125;</span>); <span class="comment">// this mutates `original` à² _à² </span></span><br><span class="line">delete <span class="keyword">copy</span>.a; <span class="comment">// so does this</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> original = <span class="comment">&#123; a: 1, b: 2 &#125;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">copy</span> = Object.assign(<span class="comment">&#123;&#125;</span>, original, <span class="comment">&#123; c: 3 &#125;</span>); <span class="comment">// copy =&gt; &#123; a: 1, b: 2, c: 3 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> original = <span class="comment">&#123; a: 1, b: 2 &#125;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">copy</span> = <span class="comment">&#123; ...original, c: 3 &#125;</span>; <span class="comment">// copy =&gt; &#123; a: 1, b: 2, c: 3 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="comment">&#123; a, ...noA &#125;</span> = <span class="keyword">copy</span>; <span class="comment">// noA =&gt; &#123; b: 2, c: 3 &#125;</span></span><br></pre></td></tr></table></figure><h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><p>1.ä½¿ç”¨å­—é¢é‡å£°æ˜æ•°ç»„ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> items = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> items = [];</span><br></pre></td></tr></table></figure></p><p>2.å‘æ•°ç»„æ·»åŠ å…ƒç´ æ—¶ï¼Œä½¿ç”¨Arrary#pushæ›¿ä»£ç›´æ¥èµ‹å€¼ã€‚<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> someStack = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">someStack[someStack.length] = <span class="string">'abracadabra'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">someStack.push(<span class="string">'abracadabra'</span>);</span><br></pre></td></tr></table></figure></p><p>3.ä½¿ç”¨æ•°ç»„å±•å¼€æ“ä½œç¬¦â€¦æ‹·è´æ•°ç»„<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">len</span> = items.length;</span><br><span class="line"><span class="keyword">const</span> itemsCopy = [];</span><br><span class="line">let i;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="built_in">len</span>; i += <span class="number">1</span>) &#123;</span><br><span class="line">  itemsCopy[i] = items[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> itemsCopy = [...items];</span><br></pre></td></tr></table></figure></p><p>4.å°†ç±»æ•°ç»„å¯¹è±¡ï¼ˆarray-likeï¼‰è½¬æ¢æˆæ•°ç»„æ—¶ï¼Œä½¿ç”¨â€¦è€Œä¸æ˜¯Array.from<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = <span class="built_in">document</span>.<span class="built_in">querySelectorAll</span>(<span class="string">'.foo'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> nodes = Array.from(foo);</span><br><span class="line"></span><br><span class="line"><span class="comment">// best</span></span><br><span class="line"><span class="keyword">const</span> nodes = [...foo];</span><br></pre></td></tr></table></figure></p><p>5.å½“éœ€è¦å¯¹å¯éå†å¯¹è±¡è¿›è¡Œmapæ“ä½œæ—¶ï¼Œä½¿ç”¨Array.fromè€Œä¸æ˜¯å±•å¼€æ“ä½œç¬¦â€¦,é¿å…æ–°å»ºä¸€ä¸ªä¸´æ—¶æ•°ç»„ã€‚<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> baz = [...foo].<span class="built_in">map</span>(bar);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> baz = <span class="keyword">Array</span>.from(foo, bar);</span><br></pre></td></tr></table></figure></p><p>6.æ•°ç»„æ–¹æ³•å›è°ƒéœ€è¦æœ‰è¿”å›å€¼ã€‚å¦‚æœå‡½æ•°ä½“æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥ç›´æ¥ç”¨è¡¨è¾¾å¼ï¼Œçœç•¥returnè¯­å¥ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function">(<span class="params">x</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> y = x + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> x * y;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function"><span class="params">x</span> =&gt;</span> x + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad - no returned value means `memo` becomes undefined after the first iteration</span></span><br><span class="line">[[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]].reduce(<span class="function">(<span class="params">memo, item, index</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> flatten = memo.concat(item);</span><br><span class="line">  memo[index] = flatten;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">[[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]].reduce(<span class="function">(<span class="params">memo, item, index</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> flatten = memo.concat(item);</span><br><span class="line">  memo[index] = flatten;</span><br><span class="line">  <span class="keyword">return</span> flatten;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">inbox.filter(<span class="function">(<span class="params">msg</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; subject, author &#125; = msg;</span><br><span class="line">  <span class="keyword">if</span> (subject === <span class="string">'Mockingbird'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> author === <span class="string">'Harper Lee'</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">inbox.filter(<span class="function">(<span class="params">msg</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; subject, author &#125; = msg;</span><br><span class="line">  <span class="keyword">if</span> (subject === <span class="string">'Mockingbird'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> author === <span class="string">'Harper Lee'</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>7.å¦‚æœæ•°ç»„æœ‰å¤šè¡Œï¼Œè¯·åœ¨æ‰“å¼€å’Œå…³é—­æ•°ç»„æ‹¬å·ä¹‹å‰ä½¿ç”¨æ¢è¡Œç¬¦(ç‰¹åˆ«æ˜¯æ•°ç»„å¯¹è±¡æ•°æ®)</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿ æ›´å…·æœ‰å¯è¯»æ€§</p></blockquote><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const arr = <span class="comment">[</span></span><br><span class="line"><span class="comment">  <span class="comment">[0, 1]</span>, <span class="comment">[2, 3]</span>, <span class="comment">[4, 5]</span>,</span></span><br><span class="line"><span class="comment">]</span>;</span><br><span class="line"></span><br><span class="line">const objectInArray = <span class="comment">[&#123;</span></span><br><span class="line"><span class="comment">  id: 1,</span></span><br><span class="line"><span class="comment">&#125;, &#123;</span></span><br><span class="line"><span class="comment">  id: 2,</span></span><br><span class="line"><span class="comment">&#125;]</span>;</span><br><span class="line"></span><br><span class="line">const numberInArray = <span class="comment">[</span></span><br><span class="line"><span class="comment">  1, 2,</span></span><br><span class="line"><span class="comment">]</span>;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const arr = <span class="comment">[<span class="comment">[0, 1]</span>, <span class="comment">[2, 3]</span>, <span class="comment">[4, 5]</span>]</span>;</span><br><span class="line"></span><br><span class="line">const objectInArray = <span class="comment">[</span></span><br><span class="line"><span class="comment">  &#123;</span></span><br><span class="line"><span class="comment">    id: 1,</span></span><br><span class="line"><span class="comment">  &#125;,</span></span><br><span class="line"><span class="comment">  &#123;</span></span><br><span class="line"><span class="comment">    id: 2,</span></span><br><span class="line"><span class="comment">  &#125;,</span></span><br><span class="line"><span class="comment">]</span>;</span><br><span class="line"></span><br><span class="line">const numberInArray = <span class="comment">[</span></span><br><span class="line"><span class="comment">  1,</span></span><br><span class="line"><span class="comment">  2,</span></span><br><span class="line"><span class="comment">]</span>;</span><br></pre></td></tr></table></figure><h2 id="è§£æ„"><a href="#è§£æ„" class="headerlink" title="è§£æ„"></a>è§£æ„</h2><p>1.è®¿é—®å’Œä½¿ç”¨å¯¹è±¡çš„å¤šä¸ªå±æ€§æ—¶ç”¨å¯¹è±¡è§£æ„æ“ä½œã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿè§£æ„å¯ä»¥é¿å…ä¸ºè¿™äº›å±æ€§åˆ›å»ºä¸´æ—¶å¼•ç”¨ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFullName</span>(<span class="params">user</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> firstName = user.firstName;</span><br><span class="line">  <span class="keyword">const</span> lastName = user.lastName;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;firstName&#125;</span> <span class="subst">$&#123;lastName&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFullName</span>(<span class="params">user</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; firstName, lastName &#125; = user;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;firstName&#125;</span> <span class="subst">$&#123;lastName&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// best</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFullName</span>(<span class="params">&#123; firstName, lastName &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;firstName&#125;</span> <span class="subst">$&#123;lastName&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.ä½¿ç”¨æ•°ç»„è§£æ„<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">const first = arr[<span class="number">0</span>];</span><br><span class="line">const second = arr[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">const [first, second] = arr;</span><br></pre></td></tr></table></figure></p><p>3.ä½¿ç”¨å¯¹è±¡è§£æ„æ¥å®ç°å¤šä¸ªè¿”å›å€¼ï¼Œè€Œä¸æ˜¯æ•°ç»„è§£æ„ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿä½ å¯ä»¥éšæ—¶ä¸ºè¿”å›å€¼æ–°å¢å±æ€§è€Œä¸ç”¨å…³å¿ƒå±æ€§çš„é¡ºåºã€‚</p></blockquote><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">processInput</span><span class="params">(input)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// then a miracle occurs</span></span><br><span class="line">  <span class="keyword">return</span> [left, right, top, bottom];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨è€…éœ€è¦æ³¨æ„è¿”å›å€¼ä¸­å¯¹è±¡çš„é¡ºåº</span></span><br><span class="line"><span class="keyword">const</span> [left, __, top] = processInput(input);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">processInput</span><span class="params">(input)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// then a miracle occurs</span></span><br><span class="line">  <span class="keyword">return</span> &#123; left, right, top, bottom &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨è€…åªéœ€è¦ä½¿ç”¨å®ƒéœ€è¦çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> &#123; left, top &#125; = processInput(input);</span><br></pre></td></tr></table></figure><h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h2><p>1.å­—ç¬¦ä¸²ä½¿ç”¨å•å¼•å·ã€‚<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">"Capt. Janeway"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad - å½“éœ€è¦æ’å€¼æˆ–è€…æ¢è¡Œæ—¶æ‰ä½¿ç”¨æ¨¡æ¿æ–‡å­—</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">`Capt. Janeway`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">'Capt. Janeway'</span>;</span><br></pre></td></tr></table></figure></p><p>2.ä¸è¶…è¿‡100ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ä¸åº”è¯¥ä½¿ç”¨è¿æ¥ç¬¦æˆ–è€…æ¢è¡Œä¹¦å†™ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿæ¢è¡Œçš„å­—ç¬¦ä¸²ä¸å¥½é˜…è¯»ï¼Œå¹¶ä¸”ä¸æ–¹ä¾¿æœç´¢ä»£ç ã€‚</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const errorMessage = 'This is a super long error that was thrown because \</span><br><span class="line">of Batman. When you <span class="keyword">stop</span> <span class="keyword">to</span> think about how Batman had anything <span class="keyword">to</span> <span class="keyword">do</span> \</span><br><span class="line"><span class="keyword">with</span> this, you would <span class="keyword">get</span> nowhere \</span><br><span class="line">fast.<span class="string">';</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">// bad</span></span><br><span class="line"><span class="string">const errorMessage = '</span>This <span class="keyword">is</span> a super <span class="keyword">long</span> <span class="keyword">error</span> that was thrown because <span class="string">' +</span></span><br><span class="line"><span class="string">  '</span><span class="keyword">of</span> Batman. <span class="keyword">When</span> you <span class="keyword">stop</span> <span class="keyword">to</span> think about how Batman had anything <span class="keyword">to</span> <span class="keyword">do</span> <span class="string">' +</span></span><br><span class="line"><span class="string">  '</span><span class="keyword">with</span> this, you would <span class="keyword">get</span> nowhere fast.<span class="string">';</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">// good</span></span><br><span class="line"><span class="string">const errorMessage = '</span>This <span class="keyword">is</span> a super <span class="keyword">long</span> <span class="keyword">error</span> that was thrown because <span class="keyword">of</span> Batman. <span class="keyword">When</span> you <span class="keyword">stop</span> <span class="keyword">to</span> think about how Batman had anything <span class="keyword">to</span> <span class="keyword">do</span> <span class="keyword">with</span> this, you would <span class="keyword">get</span> nowhere fast.<span class="string">';</span></span><br></pre></td></tr></table></figure><p>3.ä»¥ç¼–ç¨‹æ–¹å¼æ„å»ºå­—ç¬¦ä¸²æ—¶ï¼Œä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²è€Œä¸æ˜¯è¿æ¥ç¬¦ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿæ¨¡æ¿å­—ç¬¦ä¸²æ›´ä¸ºç®€æ´ï¼Œæ›´å…·å¯è¯»æ€§ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'How are you, '</span> + name + <span class="string">'?'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [<span class="string">'How are you, '</span>, name, <span class="string">'?'</span>].join();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`How are you, <span class="subst">$&#123; name &#125;</span>?`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`How are you, <span class="subst">$&#123;name&#125;</span>?`</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4.æ°¸è¿œä¸è¦åœ¨å­—ç¬¦ä¸²ä¸Šä½¿ç”¨eval()æ–¹æ³•ï¼Œå®ƒæœ‰å¤ªå¤šçš„é—®é¢˜ã€‚<br>5.ä¸è¦è¿‡å¤šçš„è½¬ä¹‰å­—ç¬¦ä¸²ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿåæ–œæ å½±å“ä»£ç å¯è¯»æ€§ï¼Œåªæœ‰åœ¨å¿…è¦çš„æ—¶å€™æ‰ä½¿ç”¨ã€‚</p></blockquote><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> foo = <span class="string">'\'</span>this\<span class="string">' \i\s \"quoted\"'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> foo = <span class="string">'\'</span>this\<span class="string">' is "quoted"'</span>;</span><br><span class="line"><span class="keyword">const</span> foo = `my <span class="keyword">name</span> <span class="keyword">is</span> <span class="string">'$&#123;name&#125;'</span>`;</span><br></pre></td></tr></table></figure><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p>1.ä½¿ç”¨å‘½åå‡½æ•°è¡¨è¾¾å¼è€Œä¸æ˜¯å‡½æ•°å£°æ˜ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿå‡½æ•°å£°æ˜ä¼šè¢«æå‰ã€‚è¿™æ„å‘³ç€å¾ˆå¯èƒ½åœ¨å‡½æ•°å®šä¹‰å‰å¼•ç”¨è¯¥å‡½æ•°ï¼Œä½†æ˜¯ä¸ä¼šæŠ¥é”™ã€‚è¿™ä¸åˆ©äºä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚å¦‚æœä½ å‘ç°ä¸€ä¸ªå‡½æ•°å®šä¹‰çš„å¾ˆå¤§å¾ˆå¤æ‚ï¼Œä»¥è‡³äºå¦¨ç¢äº†äº†è§£æ–‡ä»¶ä¸­çš„å…¶ä»–å†…å®¹ï¼Œé‚£ä¹ˆæ˜¯æ—¶å€™æŠŠè¿™ä¸ªå‡½æ•°æå–åˆ°è‡ªå·±çš„æ¨¡å—ä¸­å»äº†ï¼ä¸è¦å¿˜è®°æ˜¾ç¤ºæŒ‡å®šè¡¨è¾¾å¼çš„åç§°ï¼Œå°½ç®¡å®ƒèƒ½ä»å˜é‡åä¸­è¢«æ¨æ–­å‡ºæ¥ï¼ˆç°ä»£æµè§ˆå™¨æˆ–è€…ç¼–è¯‘å™¨ï¼ˆå¦‚Babelï¼‰æ”¯æŒï¼‰ã€‚è¿™èƒ½è®©é”™è¯¯çš„è°ƒç”¨æ ˆæ›´æ¸…æ™°ã€‚(è®¨è®º)</p></blockquote><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> foo = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="comment">// å‡½æ•°åå’Œå˜é‡å¼•ç”¨åä¸åŒ</span></span><br><span class="line"><span class="keyword">const</span> short = <span class="function"><span class="keyword">function</span> <span class="title">longUniqueMoreDescriptiveLexicalFoo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Is it worse</span></span><br><span class="line"><span class="keyword">const</span> sum = <span class="function"><span class="keyword">function</span><span class="params">(a, b)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// than this?</span></span><br><span class="line"><span class="keyword">const</span> my_sum = <span class="function"><span class="keyword">function</span> <span class="title">sum</span><span class="params">(a, b)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>ç¬¬ä¸€ä¸ªå‡½æ•°æ²¡æœ‰.nameå±æ€§ï¼Œåœ¨debuggingè¿‡ç¨‹ä¸­ï¼Œå®ƒä¼šæ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚ç¬¬äºŒä¸ªå‡½æ•°æœ‰åå­—ä¸ºsumï¼Œä½ å¯ä»¥æ£€ç´¢åˆ°å®ƒï¼Œè°ƒè¯•è¿‡ç¨‹ä¸­èƒ½å¤Ÿå¿«é€Ÿå®šä½ã€‚<br>ä½¿ç”¨banel å’Œbabel-preset-envé…ç½®ï¼Œconst foo = () =&gt; {}ä¼šè½¬æ¢æˆvar foo = function foo () {}ï¼Œå¹¶ä¸”ä»Node v6å¼€å§‹ï¼Œconst foo = () =&gt; {}ä¸­çš„foo ä¹Ÿæœ‰.nameã€‚æ‰€ä»¥å®ƒä¸å†æ˜¯åŒ¿åå‡½æ•°ã€‚ï¼ˆå‡½æ•°åå­—æ¨æ–­ï¼‰</p></blockquote><p>2.ç”¨åœ†æ‹¬å·åŒ…è£¹ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ï¼ˆIIFEï¼‰ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿ ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼æ˜¯å•ä¸€æ‰§è¡Œå•å…ƒ-ä½¿ç”¨åœ†æ‹¬å·åŒ…è£¹è°ƒç”¨ï¼Œç®€æ´æ˜äº†çš„è¡¨ç¤ºäº†è¿™ä¸€ç‚¹ã€‚è¯·æ³¨æ„ï¼Œåœ¨é€šç”¨çš„æ¨¡å—ä¸­ï¼Œä½ å‡ ä¹ç”¨ä¸åˆ°IIFEã€‚</p></blockquote><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// immediately-invoked function expression (<span class="name">IIFE</span>)</span><br><span class="line">(<span class="name">function</span> () &#123;</span><br><span class="line">  console.log('Welcome to the Internet. Please follow me.')<span class="comment">;</span></span><br><span class="line">&#125;())<span class="comment">;</span></span><br></pre></td></tr></table></figure><p>3.æ°¸è¿œä¸è¦åœ¨ä¸€ä¸ªéå‡½æ•°ä»£ç å—ï¼ˆifã€while ç­‰ï¼‰ä¸­å£°æ˜ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠé‚£ä¸ªå‡½æ•°èµ‹ç»™ä¸€ä¸ªå˜é‡ã€‚æµè§ˆå™¨å…è®¸ä½ è¿™ä¹ˆåšï¼Œä½†å®ƒä»¬çš„è§£æè¡¨ç°ä¸ä¸€è‡´ã€‚<br>4.æ³¨æ„ï¼šECMA-262æŠŠblockå®šä¹‰ä¸ºä¸€ç»„è¯­å¥ã€‚ä½†æ˜¯å‡½æ•°å£°æ˜ä¸æ˜¯è¯­å¥ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span> (currentUser) &#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Nope.'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">let</span> test;</span><br><span class="line"><span class="keyword">if</span> (currentUser) &#123;</span><br><span class="line">  test = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Yup.'</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>5.æ°¸è¿œä¸è¦æŠŠå‚æ•°å‘½åä¸ºargumentsã€‚è¿™å°†å–ä»£åŸæ¥å‡½æ•°ä½œç”¨åŸŸå†…çš„ argumentså¯¹è±¡ã€‚<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">(name, options, arguments)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">(name, options, args)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>6.ä¸è¦ä½¿ç”¨argumentsã€‚å¯ä»¥é€‰æ‹© rest è¯­æ³• â€¦ æ›¿ä»£ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿä½¿ç”¨ â€¦ èƒ½æ˜ç¡®ä½ è¦ä¼ å…¥çš„å‚æ•°ã€‚å¦å¤– rest å‚æ•°æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œè€Œ arguments æ˜¯ä¸€ä¸ªç±»æ•°ç»„ã€‚</p></blockquote><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">concatenateAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> args = Array.prototype.slice.call(arguments);</span><br><span class="line">  <span class="keyword">return</span> args.join(<span class="string">''</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">concatenateAll</span><span class="params">(<span class="rest_arg">...args</span>)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> args.join(<span class="string">''</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>7.ä½¿ç”¨å‡½æ•°é»˜è®¤å‚æ•°æŒ‡å®šé»˜è®¤å€¼ï¼Œè€Œä¸æ˜¯ç”¨ä¸€ä¸ªå¯å˜çš„å‡½æ•°å‚æ•°<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// really bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleThings</span><span class="params">(opts)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ä¸ï¼æˆ‘ä»¬ä¸åº”è¯¥æ”¹å˜å‡½æ•°å‚æ•°</span></span><br><span class="line">  <span class="comment">// æ›´ç³Ÿç³•çš„æ˜¯: å¦‚æœ opts æ˜¯ falsy (ä¸º''æˆ–è€…æ˜¯false), å®ƒä»ç„¶ä¼šè¢«èµ‹å€¼ä¸ºå¯¹è±¡ï¼Œä½†æ˜¯è¿™å¯èƒ½ä¼šå¼•å‘bug</span></span><br><span class="line">  opts = opts || &#123;&#125;;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// still bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleThings</span><span class="params">(opts)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (opts === <span class="keyword">void</span> <span class="number">0</span>) &#123;</span><br><span class="line">    opts = &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleThings</span><span class="params">(opts = &#123;&#125;)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>8.1ä½¿ç”¨é»˜è®¤å‚æ•°é¿å…å‰¯ä½œç”¨ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿè¿™æ ·çš„å†™æ³•ä¼šè®©äººå›°æƒ‘ã€‚</p></blockquote><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = 1;</span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">function <span class="keyword">count</span>(a = b++) &#123;</span><br><span class="line">  console.<span class="built_in">log</span>(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">count</span>();  <span class="comment">// 1</span></span><br><span class="line"><span class="keyword">count</span>();  <span class="comment">// 2</span></span><br><span class="line"><span class="keyword">count</span>(3); <span class="comment">// 3</span></span><br><span class="line"><span class="keyword">count</span>();  <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><p><strong>å‚æ•°é»˜è®¤å€¼æ”¾åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨çš„æœ€åã€‚</strong></p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleThings</span><span class="params">(opts = &#123;&#125;, name)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleThings</span><span class="params">(name, opts = &#123;&#125;)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>8.2ä¸è¦ä½¿ç”¨Functionæ„é€ å™¨åˆ›å»ºå‡½æ•°ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿé€šè¿‡è¿™ç§æ–¹å¼åˆ›å»ºçš„å‡½æ•°å’Œä½¿ç”¨eval()ç±»ä¼¼ï¼Œä¼šå¸¦æ¥ä¸ç¡®å®šçš„é—®é¢˜</p></blockquote><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> <span class="keyword">add</span> = <span class="keyword">new</span> <span class="function"><span class="keyword">Function</span><span class="params">(<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'return a + b'</span>)</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// still bad</span></span><br><span class="line"><span class="keyword">var</span> subtract = <span class="function"><span class="keyword">Function</span><span class="params">(<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'return a - b'</span>)</span>;</span></span><br></pre></td></tr></table></figure><p>8.3å‡½æ•°åä¸¤è¾¹ç•™ç™½ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿä¿æŒä»£ç ä¸€è‡´æ€§ï¼Œå½“ä½ æ·»åŠ æˆ–è€…åˆ é™¤åå­—æ—¶ä¸éœ€è¦é¢å¤–å¢å‡ç©ºæ ¼ã€‚</p></blockquote><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> f = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> g = <span class="function"><span class="keyword">function</span> <span class="params">()</span></span>&#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> h = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> x = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> y = <span class="function"><span class="keyword">function</span> <span class="title">a</span><span class="params">()</span> </span>&#123;&#125;;</span><br></pre></td></tr></table></figure><p>8.4ä¸è¦ä¿®æ”¹å‚æ•°ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿæ“ä½œå‚æ•°å¯¹è±¡ä¼šåœ¨åŸå§‹è°ƒç”¨æ–¹ä¸­å¯¼è‡´ä¸å¯é¢„çŸ¥çš„å˜é‡å‰¯ä½œç”¨ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  obj.key = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> key = <span class="built_in">Object</span>.prototype.hasOwnProperty.call(obj, <span class="string">'key'</span>) ? obj.key : <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>8.5ä¸è¦ç»™å‚æ•°èµ‹å€¼ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿé‡æ–°åˆ†é…å‚æ•°å¯èƒ½ä¼šå¯¼è‡´æ„å¤–çš„è¡Œä¸ºï¼Œç‰¹åˆ«æ˜¯åœ¨è®¿é—®å‚æ•°å¯¹è±¡æ—¶ã€‚ å®ƒä¹Ÿå¯èƒ½å¯¼è‡´ä¼˜åŒ–é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯åœ¨V8ä¸­ã€‚</p></blockquote><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span><span class="params">(a)</span> </span>&#123;</span><br><span class="line">  a = <span class="number">1</span>;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f2</span><span class="params">(a)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!a) &#123; a = <span class="number">1</span>; &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f3</span><span class="params">(a)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> b = a || <span class="number">1</span>;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f4</span><span class="params">(a = 1)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>8.6ä½¿ç”¨å±•å¼€æ“ä½œç¬¦â€¦è°ƒç”¨å¯å˜å‚æ•°å‡½æ•°ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿå®ƒæ›´ç®€æ´ï¼Œä½ ä¸éœ€è¦æä¾›ä¸Šä¸‹æ–‡ï¼Œå¹¶ä¸”ç»„åˆä½¿ç”¨newå’Œapplyä¸å®¹æ˜“ã€‚</p></blockquote><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">const x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">console.log.apply(console, x);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">const x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">console.log(...x);</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">new (Function.prototype.bind.apply(Date, [null, <span class="number">2016</span>, <span class="number">8</span>, <span class="number">5</span>]));</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">new Date(...[<span class="number">2016</span>, <span class="number">8</span>, <span class="number">5</span>]);</span><br></pre></td></tr></table></figure><p>8.7å¸¦æœ‰å¤šè¡Œå‡½æ•°ç­¾åæˆ–è°ƒç”¨çš„å‡½æ•°åº”è¯¥åƒæœ¬æŒ‡å—ä¸­çš„å…¶ä»–å¤šè¡Œåˆ—è¡¨ä¸€æ ·ç¼©è¿›ï¼šæ¯è¡Œä¸­åŒ…å«ä¸€é¡¹ï¼Œæœ€åä¸€ä¸ªé¡¹ç›®å¸¦æœ‰é€—å·ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">bar,</span></span></span><br><span class="line"><span class="function"><span class="params">             baz,</span></span></span><br><span class="line"><span class="function"><span class="params">             quux</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  bar,</span></span></span><br><span class="line"><span class="function"><span class="params">  baz,</span></span></span><br><span class="line"><span class="function"><span class="params">  quux,</span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="built_in">console</span>.log(foo,</span><br><span class="line">  bar,</span><br><span class="line">  baz);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="built_in">console</span>.log(</span><br><span class="line">  foo,</span><br><span class="line">  bar,</span><br><span class="line">  baz,</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h2 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h2><p>1.å½“ä½ å¿…é¡»è¦ä½¿ç”¨åŒ¿åå‡½æ•°ï¼ˆå¦‚åœ¨ä¼ é€’å†…è”å›è°ƒæ—¶ï¼‰ï¼Œè¯·ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆ?å› ä¸ºç®­å¤´å‡½æ•°åˆ›é€ äº†æ–°çš„ä¸€ä¸ª this æ‰§è¡Œç¯å¢ƒï¼Œé€šå¸¸æƒ…å†µä¸‹éƒ½èƒ½æ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œè€Œä¸”è¿™æ ·çš„å†™æ³•æ›´ä¸ºç®€æ´ã€‚ï¼ˆå‚è€ƒ Arrow functions - JavaScript | MDN ï¼‰<br>ä¸ºä»€ä¹ˆä¸ï¼Ÿå¦‚æœä½ æœ‰ä¸€ä¸ªç›¸å½“å¤æ‚çš„å‡½æ•°ï¼Œä½ æˆ–è®¸å¯ä»¥æŠŠé€»è¾‘éƒ¨åˆ†è½¬ç§»åˆ°ä¸€ä¸ªå‡½æ•°å£°æ˜ä¸Šã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> y = x + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> x * y;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function">(<span class="params">x</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> y = x + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> x * y;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>2.å¦‚æœä¸€ä¸ªå‡½æ•°é€‚åˆç”¨ä¸€è¡Œå†™å‡ºå¹¶ä¸”åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œé‚£å°±æŠŠèŠ±æ‹¬å·ã€åœ†æ‹¬å·å’Œ return éƒ½çœç•¥æ‰ã€‚å¦‚æœä¸æ˜¯ï¼Œé‚£å°±ä¸è¦çœç•¥ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½ç”¨çš„è¯­æ³•ç³–ã€‚åœ¨é“¾å¼è°ƒç”¨ä¸­å¯è¯»æ€§å¾ˆé«˜ã€‚</p></blockquote><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function"><span class="params">number</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> nextNumber = <span class="built_in">number</span> + <span class="number">1</span>;</span><br><span class="line">  <span class="string">`A string containing the <span class="subst">$&#123;nextNumber&#125;</span>.`</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function"><span class="params">number</span> =&gt;</span> <span class="string">`A string containing the <span class="subst">$&#123;number&#125;</span>.`</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function">(<span class="params"><span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> nextNumber = <span class="built_in">number</span> + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`A string containing the <span class="subst">$&#123;nextNumber&#125;</span>.`</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function">(<span class="params"><span class="built_in">number</span>, index</span>) =&gt;</span> (&#123;</span><br><span class="line">  [index]: <span class="built_in">number</span>,</span><br><span class="line">&#125;));</span><br><span class="line"></span><br><span class="line"><span class="comment">// No implicit return with side effects</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">callback</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> val = callback();</span><br><span class="line">  <span class="keyword">if</span> (val === <span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="comment">// Do something if callback returns true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> bool = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">foo(<span class="function"><span class="params">()</span> =&gt;</span> bool = <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">foo(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  bool = <span class="literal">true</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>3.å¦‚æœè¡¨è¾¾å¼è¿‡é•¿éœ€è¦å¤šè¡Œè¡¨ç¤ºï¼Œè¯·å°†å…¶åŒ…å«åœ¨æ‹¬å·ä¸­ï¼Œå¢åŠ å¯è¯»æ€§ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿå®ƒèƒ½æ¸…é™¤çš„æ ‡è¯†å‡½æ•°çš„å¼€å§‹å’Œç»“æŸä½ç½®ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">[<span class="string">'get'</span>, <span class="string">'post'</span>, <span class="string">'put'</span>].map(<span class="function"><span class="params">httpMethod</span> =&gt;</span> <span class="built_in">Object</span>.prototype.hasOwnProperty.call(</span><br><span class="line">    httpMagicObjectWithAVeryLongName,</span><br><span class="line">    httpMethod,</span><br><span class="line">  )</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="string">'get'</span>, <span class="string">'post'</span>, <span class="string">'put'</span>].map(<span class="function"><span class="params">httpMethod</span> =&gt;</span> (</span><br><span class="line">  <span class="built_in">Object</span>.prototype.hasOwnProperty.call(</span><br><span class="line">    httpMagicObjectWithAVeryLongName,</span><br><span class="line">    httpMethod,</span><br><span class="line">  )</span><br><span class="line">));</span><br></pre></td></tr></table></figure><p>4.å¦‚æœå‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•°å¹¶ä¸”å‡½æ•°ä½“æ²¡æœ‰ä½¿ç”¨èŠ±æ‹¬å·ï¼Œé‚£å°±çœç•¥æ‹¬å·ã€‚å¦åˆ™ï¼Œä¸ºäº†ä¿æŒæ¸…æ™°ä¸€è‡´æ€§ï¼Œæ€»åœ¨å‚æ•°å‘¨å›´åŠ ä¸Šæ‹¬å·ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿ ä¸é‚£ä¹ˆæ··ä¹±ï¼Œå¯è¯»æ€§å¼ºã€‚</p></blockquote><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map((x) =&gt; x * x);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(x =&gt; x * x);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(number =&gt; (</span><br><span class="line">  `A long <span class="type">string</span> with the $&#123;number&#125;. Itâ€™s so long that we donâ€™t want it to take up space on the .map line!`</span><br><span class="line">));</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(x =&gt; &#123;</span><br><span class="line">  const y = x + <span class="number">1</span>;</span><br><span class="line">  return x * y;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map((x) =&gt; &#123;</span><br><span class="line">  const y = x + <span class="number">1</span>;</span><br><span class="line">  return x * y;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>5.é¿å…ç®­å¤´å‡½æ•°è¯­æ³•ï¼ˆ=&gt;ï¼‰å’Œæ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆ&lt;=,=&gt;ï¼‰ä¸€èµ·ä½¿ç”¨æ—¶å¸¦æ¥çš„å›°æƒ‘ã€‚<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// <span class="keyword">bad</span></span><br><span class="line"><span class="keyword">const </span><span class="keyword">itemHeight </span>= <span class="keyword">item </span>=&gt; <span class="keyword">item.height </span>&gt; <span class="number">256</span> ? <span class="keyword">item.largeSize </span>: <span class="keyword">item.smallSize;</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="keyword">// </span><span class="keyword">bad</span></span><br><span class="line"><span class="keyword">const </span><span class="keyword">itemHeight </span>= (<span class="keyword">item) </span>=&gt; <span class="keyword">item.height </span>&gt; <span class="number">256</span> ? <span class="keyword">item.largeSize </span>: <span class="keyword">item.smallSize;</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="keyword">// </span>good</span><br><span class="line"><span class="symbol">const</span> <span class="keyword">itemHeight </span>= <span class="keyword">item </span>=&gt; (<span class="keyword">item.height </span>&gt; <span class="number">256</span> ? <span class="keyword">item.largeSize </span>: <span class="keyword">item.smallSize);</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="keyword">// </span>good</span><br><span class="line"><span class="symbol">const</span> <span class="keyword">itemHeight </span>= (<span class="keyword">item) </span>=&gt; &#123;</span><br><span class="line">  const &#123; height, largeSize, smallSize &#125; = <span class="keyword">item;</span></span><br><span class="line"><span class="keyword"> </span> return height &gt; <span class="number">256</span> ? largeSize : smallSize<span class="comment">;</span></span><br><span class="line">&#125;<span class="comment">;</span></span><br></pre></td></tr></table></figure></p><h2 id="ç±»-amp-æ„é€ å‡½æ•°"><a href="#ç±»-amp-æ„é€ å‡½æ•°" class="headerlink" title="ç±» &amp; æ„é€ å‡½æ•°"></a>ç±» &amp; æ„é€ å‡½æ•°</h2><p>1.æ€»æ˜¯ä½¿ç”¨classã€‚é¿å…ç›´æ¥æ“ä½œprototypeã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿclassè¯­æ³•æ›´ç®€æ´æ›´æ˜“äºç†è§£ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Queue</span>(<span class="params">contents = []</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.queue = [...contents];</span><br><span class="line">&#125;</span><br><span class="line">Queue.prototype.pop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> value = <span class="keyword">this</span>.queue[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">this</span>.queue.splice(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Queue</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(contents = []) &#123;</span><br><span class="line">    <span class="keyword">this</span>.queue = [...contents];</span><br><span class="line">  &#125;</span><br><span class="line">  pop() &#123;</span><br><span class="line">    <span class="keyword">const</span> value = <span class="keyword">this</span>.queue[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">this</span>.queue.splice(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.ä½¿ç”¨extendsç»§æ‰¿ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿ å› ä¸º extends æ˜¯ä¸€ä¸ªå†…å»ºçš„åŸå‹ç»§æ‰¿æ–¹æ³•å¹¶ä¸”ä¸ä¼šç ´å instanceofã€‚</p></blockquote><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">const inherits = require(<span class="symbol">'inherit</span>s');</span><br><span class="line">function <span class="type">PeekableQueue</span>(contents) &#123;</span><br><span class="line">  <span class="type">Queue</span>.apply(<span class="keyword">this</span>, contents);</span><br><span class="line">&#125;</span><br><span class="line">inherits(<span class="type">PeekableQueue</span>, <span class="type">Queue</span>);</span><br><span class="line"><span class="type">PeekableQueue</span>.prototype.peek = function () &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.queue[<span class="number">0</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PeekableQueue</span> <span class="keyword">extends</span> <span class="title">Queue</span> </span>&#123;</span><br><span class="line">  peek() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.queue[<span class="number">0</span>];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.æ–¹æ³•å¯ä»¥è¿”å› this æ¥å¸®åŠ©é“¾å¼è°ƒç”¨ã€‚</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line">Jedi.prototype.jump = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.jumping = <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Jedi.prototype.setHeight = <span class="function"><span class="keyword">function</span> <span class="params">(height)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.height = height;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> luke = <span class="keyword">new</span> Jedi();</span><br><span class="line">luke.jump(); <span class="comment">// =&gt; true</span></span><br><span class="line">luke.setHeight(<span class="number">20</span>); <span class="comment">// =&gt; undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Jedi</span> </span>&#123;</span><br><span class="line">  jump() &#123;</span><br><span class="line">    <span class="keyword">this</span>.jumping = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setHeight(height) &#123;</span><br><span class="line">    <span class="keyword">this</span>.height = height;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> luke = <span class="keyword">new</span> Jedi();</span><br><span class="line"></span><br><span class="line">luke.jump()</span><br><span class="line">  .setHeight(<span class="number">20</span>);</span><br></pre></td></tr></table></figure><p>4.å¯ä»¥å†™ä¸€ä¸ªè‡ªå®šä¹‰çš„ toString() æ–¹æ³•ï¼Œä½†è¦ç¡®ä¿å®ƒèƒ½æ­£å¸¸è¿è¡Œå¹¶ä¸”ä¸ä¼šå¼•èµ·å‰¯ä½œç”¨ã€‚<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Jedi</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(options = &#123;&#125;) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = options.name || <span class="string">'no name'</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getName() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  toString() &#123;</span><br><span class="line">    <span class="keyword">return</span> `Jedi - $&#123;<span class="keyword">this</span>.getName()&#125;`;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>5.ç±»æœ‰é»˜è®¤æ„é€ å™¨ã€‚ä¸€ä¸ªç©ºçš„æ„é€ å‡½æ•°æˆ–è€…åªæ˜¯é‡è½½çˆ¶ç±»æ„é€ å‡½æ•°æ˜¯ä¸å¿…è¦çš„ã€‚<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Jedi</span> </span>&#123;</span><br><span class="line">  constructor() &#123;&#125;</span><br><span class="line"></span><br><span class="line">  getName() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rey</span> <span class="keyword">extends</span> <span class="title">Jedi</span> </span>&#123;</span><br><span class="line">  constructor(...args) &#123;</span><br><span class="line">    <span class="keyword">super</span>(...args);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rey</span> <span class="keyword">extends</span> <span class="title">Jedi</span> </span>&#123;</span><br><span class="line">  constructor(...args) &#123;</span><br><span class="line">    <span class="keyword">super</span>(...args);</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="symbol">'Re</span>y';</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>6.é¿å…é‡å¤çš„ç±»æˆå‘˜ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿé‡å¤çš„ç±»æˆå‘˜å£°æ˜ä¸­åªæœ‰æœ€åä¸€ä¸ªç”Ÿæ•ˆ-é‡å¤çš„å£°æ˜è‚¯å®šæ˜¯ä¸€ä¸ªé”™è¯¯ã€‚</p></blockquote><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  bar() &#123; <span class="keyword">return</span> <span class="number">1</span>; &#125;</span><br><span class="line">  bar() &#123; <span class="keyword">return</span> <span class="number">2</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  bar() &#123; <span class="keyword">return</span> <span class="number">1</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  bar() &#123; <span class="keyword">return</span> <span class="number">2</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h2><p>1.æ€»æ˜¯ä½¿ç”¨æ¨¡ç»„ (import/export) è€Œä¸æ˜¯å…¶ä»–éæ ‡å‡†æ¨¡å—ç³»ç»Ÿã€‚ä½ å¯ä»¥ç¼–è¯‘ä¸ºä½ å–œæ¬¢çš„æ¨¡å—ç³»ç»Ÿã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿæ¨¡å—æ˜¯æœªæ¥ï¼Œè®©æˆ‘ä»¬å¼€å§‹è¿ˆå‘æœªæ¥å§ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> AirbnbStyleGuide = <span class="built_in">require</span>(<span class="string">'./AirbnbStyleGuide'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = AirbnbStyleGuide.es6;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ok</span></span><br><span class="line"><span class="keyword">import</span> AirbnbStyleGuide <span class="keyword">from</span> <span class="string">'./AirbnbStyleGuide'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> AirbnbStyleGuide.es6;</span><br><span class="line"></span><br><span class="line"><span class="comment">// best</span></span><br><span class="line"><span class="keyword">import</span> &#123; es6 &#125; <span class="keyword">from</span> <span class="string">'./AirbnbStyleGuide'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> es6;</span><br></pre></td></tr></table></figure><p>2.ä¸è¦ä½¿ç”¨é€šé…ç¬¦ import</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿè¿™æ ·ç¡®ä¿åªæœ‰ä¸€ä¸ªé»˜è®¤çš„export</p></blockquote><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> AirbnbStyleGuide <span class="keyword">from</span> <span class="string">'./AirbnbStyleGuide'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> AirbnbStyleGuide <span class="keyword">from</span> <span class="string">'./AirbnbStyleGuide'</span>;</span><br></pre></td></tr></table></figure><p>3.ä¸è¦ç›´æ¥ä»importä¸­export</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿè™½ç„¶ä¸€è¡Œä»£ç ç®€æ´æ˜äº†ï¼Œä½†è®© import å’Œ export å„å¸å…¶èŒè®©äº‹æƒ…èƒ½ä¿æŒä¸€è‡´ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="comment">// filename es6.js</span></span><br><span class="line"><span class="keyword">export</span> &#123; es6 <span class="keyword">as</span> <span class="keyword">default</span> &#125; <span class="keyword">from</span> <span class="string">'./AirbnbStyleGuide'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="comment">// filename es6.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; es6 &#125; <span class="keyword">from</span> <span class="string">'./AirbnbStyleGuide'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> es6;</span><br></pre></td></tr></table></figure><p>4.åŒä¸€ä¸ªè·¯å¾„åªä½¿ç”¨ä¸€æ¬¡importã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿç›¸åŒè·¯å¾„æœ‰å¤šä¸ªimportä¼šå¯¼è‡´ä»£ç éš¾ä»¥ç»´æŠ¤ã€‚</p></blockquote><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> foo <span class="keyword">from</span> <span class="string">'foo'</span>;</span><br><span class="line"><span class="comment">// â€¦ some other imports â€¦ //</span></span><br><span class="line"><span class="keyword">import</span> &#123; named1, named2 &#125; <span class="keyword">from</span> <span class="string">'foo'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> foo, &#123; named1, named2 &#125; <span class="keyword">from</span> <span class="string">'foo'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> foo, &#123;</span><br><span class="line">  named1,</span><br><span class="line">  named2,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'foo'</span>;</span><br></pre></td></tr></table></figure><p>5.ä¸è¦exportå¯å˜çš„ç»‘å®šã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿé¿å…ä¸ç¡®å®šçš„å¯å˜é‡ï¼Œç‰¹åˆ«æ˜¯exportå¯å˜çš„ç»‘å®šã€‚å¦‚æœæŸäº›ç‰¹æ®Šæƒ…å†µéœ€è¦ä½¿ç”¨è¿™ç§åœºæ™¯ï¼Œé€šå¸¸åº”è¯¥exportå¸¸é‡å¼•ç”¨ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">let</span> foo = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">export</span> &#123; foo &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> foo = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">export</span> &#123; foo &#125;;</span><br></pre></td></tr></table></figure><p>6.æ¨¡å—ä¸­åªæœ‰å•ä¸ªexport,æœ€å¥½ä½¿ç”¨default export ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿä¸€ä¸ªæ–‡ä»¶æœ€å¥½åªåšä¸€ä»¶äº‹ï¼Œè¿™æ ·æ›´å…·å¤‡å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>6.æ¨¡å—ä¸­åªæœ‰å•ä¸ªexport,æœ€å¥½ä½¿ç”¨default export ã€‚ </p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿä¸€ä¸ªæ–‡ä»¶æœ€å¥½åªåšä¸€ä»¶äº‹ï¼Œè¿™æ ·æ›´å…·å¤‡å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>7.å°†æ‰€æœ‰çš„importè¯­å¥æ”¾åœ¨æ–‡ä»¶çš„é¡¶éƒ¨ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿç”±äºimportsä¼šè¢«æå‡ï¼Œæœ€å¥½ä¿æŒå®ƒä»¬åœ¨é¡¶éƒ¨ä»¥é˜²å‡ºç°ä¸å¯é¢„æœŸçš„è¡Œä¸ºã€‚</p></blockquote><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> foo <span class="keyword">from</span> <span class="string">'foo'</span>;</span><br><span class="line">foo.init();</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> bar <span class="keyword">from</span> <span class="string">'bar'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> foo <span class="keyword">from</span> <span class="string">'foo'</span>;</span><br><span class="line"><span class="keyword">import</span> bar <span class="keyword">from</span> <span class="string">'bar'</span>;</span><br><span class="line"></span><br><span class="line">foo.init();</span><br></pre></td></tr></table></figure><p>8.å¤šè¡Œimportåº”è¯¥å’Œå¤šè¡Œæ•°ç»„å’Œå¯¹è±¡ä¸€æ ·æœ‰ç¼©è¿›ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼ŸèŠ±æ‹¬å·éœ€è¦éµå¾ªä¸æŒ‡å—ä¸­çš„æ¯ä¸ªå…¶ä»–èŠ±æ‹¬å·ç›¸åŒçš„ç¼©è¿›è§„åˆ™ï¼Œæœ«å°¾çš„é€—å·ä¹Ÿä¸€æ ·ã€‚</p></blockquote><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> &#123;longNameA, longNameB, longNameC, longNameD, longNameE&#125; <span class="keyword">from</span> <span class="string">'path'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  longNameA,</span><br><span class="line">  longNameB,</span><br><span class="line">  longNameC,</span><br><span class="line">  longNameD,</span><br><span class="line">  longNameE,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'path'</span>;</span><br></pre></td></tr></table></figure><p>9.ç¦æ­¢åœ¨æ¨¡å—å¯¼å…¥è¯­å¥ä¸­ä½¿ç”¨WebpackåŠ è½½å™¨è¯­æ³•ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿåœ¨importä¸­ä½¿ç”¨webpack è¯­æ³•ä¼šå°†ä»£ç è€¦åˆè¿›bundlerä¸­ã€‚æ¨èåœ¨webpack.config.jsä¸­é…ç½®loader è§„åˆ™ã€‚</p></blockquote><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">import</span> fooSass <span class="keyword">from</span> <span class="string">'css!sass!foo.scss'</span>;</span><br><span class="line"><span class="keyword">import</span> barCss <span class="keyword">from</span> <span class="string">'style!css!bar.css'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> fooSass <span class="keyword">from</span> <span class="string">'foo.scss'</span>;</span><br><span class="line"><span class="keyword">import</span> barCss <span class="keyword">from</span> <span class="string">'bar.css'</span>;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Airbnb-JavaScript-ç¼–ç é£æ ¼æŒ‡å—ï¼ˆ2018å¹´æœ€æ–°ç‰ˆï¼‰&quot;&gt;&lt;a href=&quot;#Airbnb-JavaScript-ç¼–ç é£æ ¼æŒ‡å—ï¼ˆ2018å¹´æœ€æ–°ç‰ˆï¼‰&quot; class=&quot;headerlink&quot; title=&quot;Airbnb JavaScript ç¼–ç é£æ ¼æŒ‡å—ï¼ˆ2018å¹´æœ€æ–°ç‰ˆï¼‰&quot;&gt;&lt;/a&gt;Airbnb JavaScript ç¼–ç é£æ ¼æŒ‡å—ï¼ˆ2018å¹´æœ€æ–°ç‰ˆï¼‰&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;Airbnb JSè§„èŒƒåŸæ–‡ï¼š &lt;a href=&quot;https://github.com/airbnb/javascript&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/airbnb/javascript&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;ç±»å‹&quot;&gt;&lt;a href=&quot;#ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;ç±»å‹&quot;&gt;&lt;/a&gt;ç±»å‹&lt;/h2&gt;&lt;p&gt;1.åŸºæœ¬ç±»å‹ï¼šç›´æ¥å­˜å–&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;string&lt;/li&gt;
&lt;li&gt;number&lt;/li&gt;
&lt;li&gt;boolean&lt;/li&gt;
&lt;li&gt;null&lt;/li&gt;
&lt;li&gt;undefined&lt;/li&gt;
&lt;li&gt;symbol
    
    </summary>
    
      <category term="JavaScript" scheme="https://chongdee.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://chongdee.github.io/tags/JavaScript/"/>
    
      <category term="ä»£ç è§„èŒƒ" scheme="https://chongdee.github.io/tags/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/"/>
    
  </entry>
  
  <entry>
    <title>jsè®¾è®¡æ¨¡å¼-äº«å…ƒæ¨¡å¼</title>
    <link href="https://chongdee.github.io/2018/10/31/JavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/js%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/"/>
    <id>https://chongdee.github.io/2018/10/31/JavaScriptè®¾è®¡æ¨¡å¼/jsè®¾è®¡æ¨¡å¼-äº«å…ƒæ¨¡å¼/</id>
    <published>2018-10-31T13:46:23.000Z</published>
    <updated>2018-11-11T20:38:23.718Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h2 id="äº«å…ƒæ¨¡å¼"><a href="#äº«å…ƒæ¨¡å¼" class="headerlink" title="äº«å…ƒæ¨¡å¼"></a>äº«å…ƒæ¨¡å¼</h2><p>äº«å…ƒæ¨¡å¼æ˜¯ä¸€ç§ç”¨äºæ€§èƒ½ä¼˜åŒ–çš„æ¨¡å¼ï¼Œå¦‚æœç³»ç»Ÿä¸­å› ä¸ºåˆ›å»ºäº†å¤§é‡ç±»ä¼¼çš„å¯¹è±¡è€Œå¯¼è‡´å†…å­˜ä¸è¶³æˆ–å ç”¨è¿‡é«˜è¿™ç§æ¨¡å¼å°±éå¸¸æœ‰ç”¨äº†ã€‚<br>ä¸‹é¢é€šè¿‡å…·ä½“çš„å®ä¾‹æ¥çœ‹çœ‹ã€‚</p><p>å‡è®¾æœ‰ä¸ªå†…è¡£å·¥å‚ï¼Œç›®å‰çš„äº§å“æœ‰50ç§ç”·å£«å†…è¡£ä¸50ç§å¥³å£«å†…è¡£ï¼Œä¸ºäº†æ¨é”€äº§å“ï¼Œå·¥å‚å†³å®šç”Ÿäº§ä¸€äº›å¡‘æ–™æ¨¡ç‰¹æ¥ç©¿ä¸Šå®ƒä»¬çš„å†…è¡£æ‹æˆå†…è¡£å¹¿å‘Šã€‚<br>æ­£å¸¸æƒ…å†µéœ€è¦50ä¸ªç”·æ¨¡ç‰¹ä¸50ä¸ªå¥³æ¨¡ç‰¹ï¼Œç„¶åè®©ä»–ä»¬æ¯äººåˆ†åˆ«ç©¿ä¸Šä¸€å¥—å†…è¡£æ¥æ‹ç…§ã€‚ä¸ä½¿ç”¨äº«å…ƒæ¨¡å¼å¯èƒ½ä¼šæœ‰è¿™ç§æ–¹å¼æ¥å†™ï¼š<br><a id="more"></a></p><h2 id="å†…è¡£å‚å±•ç¤ºè®¸å¤šå•†å“"><a href="#å†…è¡£å‚å±•ç¤ºè®¸å¤šå•†å“" class="headerlink" title="å†…è¡£å‚å±•ç¤ºè®¸å¤šå•†å“"></a>å†…è¡£å‚å±•ç¤ºè®¸å¤šå•†å“</h2><p>æ–¹æ¡ˆä¸€ï¼šé€  50 ä¸ªå¡‘æ–™ç”·æ¨¡å’Œ 50 ä¸ªå¡‘æ–™å¥³æ¨¡ï¼Œè®©ä»–ä»¬ç©¿ä¸Šå±•ç¤ºï¼Œä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Model = <span class="function"><span class="keyword">function</span> (<span class="params">sex,underwear</span>) </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.sex = sex;</span><br><span class="line"><span class="keyword">this</span>.underwear = underwear;</span><br><span class="line">&#125;</span><br><span class="line">Model.prototype.takePhoto = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'sex='</span> + <span class="keyword">this</span>.sex + <span class="string">'underwear='</span> + <span class="keyword">this</span>.underwear )</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;=<span class="number">50</span>; i++)&#123;</span><br><span class="line"> <span class="keyword">var</span> maleModel = <span class="keyword">new</span> Model(<span class="string">'male'</span>,<span class="string">'underwear'</span> + i)</span><br><span class="line"> maleModel.takePhoto();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;=<span class="number">50</span>; i++)&#123;</span><br><span class="line"> <span class="keyword">var</span> maleModel = <span class="keyword">new</span> Model(<span class="string">'female'</span>,<span class="string">'underwear'</span> + i)</span><br><span class="line"> femaleModel.takePhoto();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ–¹æ¡ˆäºŒï¼šé€  1 ä¸ªå¡‘æ–™ç”·æ¨¡ç‰¹ 1 ä¸ªå¡‘æ–™å¥³æ¨¡ç‰¹ï¼Œåˆ†åˆ«è¯•ç©¿ 50 æ¬¾å†…è¡£</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Model = <span class="function"><span class="keyword">function</span> (<span class="params">sex</span>) </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line">Model.prototype.takePhoto = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'sex='</span> + <span class="keyword">this</span>.sex + <span class="string">'underwear='</span> + <span class="keyword">this</span>.underwear )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> maleModel = <span class="keyword">new</span> Model(<span class="string">'male'</span>),</span><br><span class="line">female    = <span class="keyword">new</span> Model(<span class="string">'female'</span>);    </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;=<span class="number">50</span>; i++)&#123;</span><br><span class="line"> maleModel.underwear = <span class="string">'underwear'</span> + i;</span><br><span class="line"> maleModel.takePhoto();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;=<span class="number">50</span>; i++)&#123;</span><br><span class="line"> female.underwear = <span class="string">'underwear'</span> + i;</span><br><span class="line"> femaleModel.takePhoto();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¯¹æ¯”å‘ç°ï¼šæ–¹æ¡ˆä¸€åˆ›å»ºäº† 100 ä¸ªå¯¹è±¡ï¼Œæ–¹æ¡ˆäºŒåªåˆ›å»ºäº† 2 ä¸ªå¯¹è±¡ï¼Œåœ¨è¯¥ demo ä¸­ï¼Œgender(æ€§åˆ«) æ˜¯å†…éƒ¨å¯¹è±¡ï¼Œunderwear(ç©¿ç€) æ˜¯å¤–éƒ¨å¯¹è±¡ã€‚</p></blockquote><h2 id="å¯¹è±¡æ± "><a href="#å¯¹è±¡æ± " class="headerlink" title="å¯¹è±¡æ± "></a>å¯¹è±¡æ± </h2><p>å¯¹è±¡æ± ç»´æŠ¤ä¸€ä¸ªè£…è½½ç©ºé—²å¯¹è±¡çš„æ± å­ï¼Œå¦‚æœéœ€è¦å¯¹è±¡çš„æ—¶å€™ï¼Œä¸æ˜¯ç›´æ¥newï¼Œè€Œæ˜¯è½¬ä»å¯¹è±¡æ± é‡Œè·å–å¯¹è±¡ã€‚å¦‚æœå¯¹è±¡æ± é‡Œæ²¡æœ‰ç©ºé—²å¯¹è±¡åˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå½“è·å–çš„å¯¹è±¡å®Œæˆä»–çš„èŒè´£ä¹‹åï¼Œå†è¿›å…¥æ± å­ç­‰å¾…è¢«ä¸‹æ¬¡è·å–ã€‚<br>å¯¹è±¡æ± çš„åŸç†å¾ˆå¥½ç†è§£ï¼Œä¸‹é¢æˆ‘ä»¬ä»åœ°å›¾åº”ç”¨æ¥ç†è§£ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ°”æ³¡å·¥å‚çš„å¯¹è±¡æ± ä¸ºæ•°ç»„æ˜¯ç§æœ‰å±æ€§è¢«åŒ…å«åœ¨å·¥å‚é—­åŒ…é‡Œï¼Œè¿™ä¸ªå·¥å‚åˆä¸¤ä¸ªæš´éœ²å¯¹å¤–çš„æ–¹æ³•ï¼Œ</span></span><br><span class="line"><span class="comment">// createè¡¨ç¤ºè·å–ä¸€ä¸ªdivèŠ‚ç‚¹ï¼Œrecoverè¡¨ç¤ºå›æ”¶ä¸€ä¸ªdivèŠ‚ç‚¹ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> toolTipFactory = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> toolTipPool  = [];   <span class="comment">// toolTip å¯¹è±¡æ± </span></span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">      create : <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(toolTipPool.length === <span class="number">0</span>)&#123;</span><br><span class="line">             <span class="keyword">var</span> div = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">             <span class="built_in">document</span>.body.appendChild(div);</span><br><span class="line">             <span class="keyword">return</span> div;</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">             <span class="keyword">return</span> toolTipPool.shift(); <span class="comment">//shift a dom</span></span><br><span class="line">        &#125;,</span><br><span class="line">        recover : <span class="function"><span class="keyword">function</span> (<span class="params">tooltipDom</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> toolTipPool.push(tooltipDom);  </span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸€æ¬¡æœç´¢ï¼ˆ2ä¸ªæ°”æ³¡ï¼‰</span></span><br><span class="line"><span class="keyword">var</span> ary = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, str; str = [<span class="string">'A'</span>,<span class="string">'B'</span>][i++])&#123;  <span class="comment">// get ary elem</span></span><br><span class="line"> <span class="keyword">var</span> toolTip = toolTipFactory.create();</span><br><span class="line"> toolTip.innerHTML = str;</span><br><span class="line"> ary.push(toolTip)</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç°åœ¨å¼€å§‹å›æ”¶èŠ‚ç‚¹ï¼š</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span> , toolTip ; toolTip = ary[i++])&#123;</span><br><span class="line">toolTip.recover(toolTip)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¬¬äºŒæ¬¡æœç´¢ï¼ˆ6ä¸ªæ°”æ³¡ï¼‰</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i =<span class="number">0</span> , str; str = [<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'C'</span>,<span class="string">'D'</span>,<span class="string">'E'</span>,<span class="string">'F'</span>][i++]; )&#123;</span><br><span class="line"> <span class="keyword">var</span> toolTip = toolTipFactory.create();</span><br><span class="line"> toolTip.innerHTML(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ç°åœ¨é¡µé¢ä¸­å·²ç»å‡ºç°äº†6ä¸ªèŠ‚ç‚¹ï¼Œä¸Šä¸€æ¬¡åˆ›å»ºå¥½çš„èŠ‚ç‚¹è¢«å…±äº«ç»™äº†ä¸‹ä¸€æ¬¡æ“ä½œã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;äº«å…ƒæ¨¡å¼&quot;&gt;&lt;a href=&quot;#äº«å…ƒæ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;äº«å…ƒæ¨¡å¼&quot;&gt;&lt;/a&gt;äº«å…ƒæ¨¡å¼&lt;/h2&gt;&lt;p&gt;äº«å…ƒæ¨¡å¼æ˜¯ä¸€ç§ç”¨äºæ€§èƒ½ä¼˜åŒ–çš„æ¨¡å¼ï¼Œå¦‚æœç³»ç»Ÿä¸­å› ä¸ºåˆ›å»ºäº†å¤§é‡ç±»ä¼¼çš„å¯¹è±¡è€Œå¯¼è‡´å†…å­˜ä¸è¶³æˆ–å ç”¨è¿‡é«˜è¿™ç§æ¨¡å¼å°±éå¸¸æœ‰ç”¨äº†ã€‚&lt;br&gt;ä¸‹é¢é€šè¿‡å…·ä½“çš„å®ä¾‹æ¥çœ‹çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æœ‰ä¸ªå†…è¡£å·¥å‚ï¼Œç›®å‰çš„äº§å“æœ‰50ç§ç”·å£«å†…è¡£ä¸50ç§å¥³å£«å†…è¡£ï¼Œä¸ºäº†æ¨é”€äº§å“ï¼Œå·¥å‚å†³å®šç”Ÿäº§ä¸€äº›å¡‘æ–™æ¨¡ç‰¹æ¥ç©¿ä¸Šå®ƒä»¬çš„å†…è¡£æ‹æˆå†…è¡£å¹¿å‘Šã€‚&lt;br&gt;æ­£å¸¸æƒ…å†µéœ€è¦50ä¸ªç”·æ¨¡ç‰¹ä¸50ä¸ªå¥³æ¨¡ç‰¹ï¼Œç„¶åè®©ä»–ä»¬æ¯äººåˆ†åˆ«ç©¿ä¸Šä¸€å¥—å†…è¡£æ¥æ‹ç…§ã€‚ä¸ä½¿ç”¨äº«å…ƒæ¨¡å¼å¯èƒ½ä¼šæœ‰è¿™ç§æ–¹å¼æ¥å†™ï¼š&lt;br&gt;
    
    </summary>
    
      <category term="JavaScript" scheme="https://chongdee.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://chongdee.github.io/tags/JavaScript/"/>
    
      <category term="JSè®¾è®¡æ¨¡å¼" scheme="https://chongdee.github.io/tags/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>jsè®¾è®¡æ¨¡å¼-çŠ¶æ€æ¨¡å¼</title>
    <link href="https://chongdee.github.io/2018/10/31/JavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/js%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/"/>
    <id>https://chongdee.github.io/2018/10/31/JavaScriptè®¾è®¡æ¨¡å¼/jsè®¾è®¡æ¨¡å¼-çŠ¶æ€æ¨¡å¼/</id>
    <published>2018-10-31T13:45:44.000Z</published>
    <updated>2018-11-11T20:43:29.193Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h2 id="çŠ¶æ€æ¨¡å¼çš„åŸºç¡€"><a href="#çŠ¶æ€æ¨¡å¼çš„åŸºç¡€" class="headerlink" title="çŠ¶æ€æ¨¡å¼çš„åŸºç¡€"></a>çŠ¶æ€æ¨¡å¼çš„åŸºç¡€</h2><p>å®šä¹‰ï¼šçŠ¶æ€æ¨¡å¼ï¼ˆStateï¼‰å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å¯ä»¥é€šè¿‡ç®¡ç†å…¶çŠ¶æ€ä»è€Œä½¿å¾—åº”ç”¨ç¨‹åºä½œå‡ºç›¸åº”çš„å˜åŒ–ã€‚<br>çŠ¶æ€æ¨¡å¼æ˜¯ä¸€ä¸ªéå¸¸å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œå®ƒä¸»è¦æœ‰ä¸¤ä¸ªè§’è‰²ç»„æˆï¼š<br>ï¼ˆ1ï¼‰ç¯å¢ƒç±»ï¼šæ‹¥æœ‰ä¸€ä¸ªçŠ¶æ€æˆå‘˜ï¼Œå¯ä»¥ä¿®æ”¹å…¶çŠ¶æ€å¹¶ä½œå‡ºç›¸åº”ååº”ã€‚<br>ï¼ˆ2ï¼‰çŠ¶æ€ç±»ï¼šè¡¨ç¤ºä¸€ç§çŠ¶æ€ï¼ŒåŒ…å«å…¶ç›¸åº”çš„å¤„ç†æ–¹æ³•<br>ä½œç”¨ï¼šçŠ¶æ€æ¨¡å¼å°±æ˜¯ä¸€ç§é€‚åˆå¤šç§çŠ¶æ€åœºæ™¯ä¸‹çš„è®¾è®¡æ¨¡å¼ã€‚ä½¿ç”¨çŠ¶æ€æ¨¡å¼å¯ä»¥è®©ä»£ç æ›´åŠ æ¸…æ™°ï¼Œæé«˜åº”ç”¨ç¨‹åºçš„ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚<br>ä½¿ç”¨åœºæ™¯ï¼šæ–‡ä»¶ä¸‹è½½ï¼ˆå¼€å§‹ã€æš‚åœã€å®Œæˆã€å¤±è´¥ç­‰ï¼‰ã€çº¢ç»¿ç¯<br><a id="more"></a></p><h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><p>æ¯”å¦‚è¶…çº§ç›ä¸½ï¼Œå°±å¯èƒ½åŒæ—¶æœ‰å¥½å‡ ä¸ªçŠ¶æ€æ¯”å¦‚ è·³è·ƒï¼Œç§»åŠ¨ï¼Œå°„å‡»ï¼Œè¹²ä¸‹ ç­‰ï¼Œå¦‚æœå¯¹è¿™äº›åŠ¨ä½œä¸€ä¸ªä¸ªè¿›è¡Œå¤„ç†åˆ¤æ–­ï¼Œéœ€è¦å¤šä¸ªif-elseæˆ–è€…switchä¸ä»…ä¸‘é™‹ä¸è¯´ï¼Œè€Œä¸”åœ¨é‡åˆ°æœ‰ç»„åˆåŠ¨ä½œçš„æ—¶å€™ï¼Œå®ç°å°±ä¼šå˜çš„æ›´ä¸ºå¤æ‚ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨çŠ¶æ€æ¨¡å¼æ¥å®ç°ã€‚</p><p>çŠ¶æ€æ¨¡å¼çš„æ€è·¯æ˜¯ï¼šé¦–å…ˆåˆ›å»ºä¸€ä¸ªçŠ¶æ€å¯¹è±¡æˆ–è€…æ•°ç»„ï¼Œå†…éƒ¨ä¿å­˜çŠ¶æ€å˜é‡ï¼Œç„¶åå†…éƒ¨å°è£…å¥½æ¯ç§åŠ¨ä½œå¯¹åº”çš„çŠ¶æ€ï¼Œç„¶åçŠ¶æ€å¯¹è±¡è¿”å›ä¸€ä¸ªæ¥å£å¯¹è±¡ï¼Œå®ƒå¯ä»¥å¯¹å†…éƒ¨çš„çŠ¶æ€ä¿®æ”¹æˆ–è€…è°ƒç”¨ã€‚</p><h3 id="çº¢ç»¿ç¯"><a href="#çº¢ç»¿ç¯" class="headerlink" title="çº¢ç»¿ç¯"></a>çº¢ç»¿ç¯</h3><p>å®šä¹‰ç¯å¢ƒç±»ï¼ˆçº¢ç»¿ç¯å¯¹è±¡ï¼‰<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> trafficLight = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> currentLight = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">change: <span class="function"><span class="keyword">function</span> (<span class="params">light</span>) </span>&#123;</span><br><span class="line">currentLight = light;</span><br><span class="line">currentLight.go();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line">å®šä¹‰çŠ¶æ€ç±»ï¼ˆä¸‰ç§ä¸åŒé¢œè‰²çš„ç¯ï¼‰</span><br><span class="line"></span><br><span class="line"><span class="comment">// çº¢ç¯</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">RedLight</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">RedLight.prototype.go = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"this is red light"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç»¿ç¯</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GreenLight</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">GreenLight.prototype.go = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"this is green light"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é»„ç¯</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YellowLight</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">YellowLight.prototype.go = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"this is yellow light"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">trafficLight.change(<span class="keyword">new</span> RedLight()); <span class="comment">// this is red light</span></span><br><span class="line">trafficLight.change(<span class="keyword">new</span> YellowLight()); <span class="comment">// this is yellow light</span></span><br></pre></td></tr></table></figure></p><h3 id="èœå•ç»„ä»¶"><a href="#èœå•ç»„ä»¶" class="headerlink" title="èœå•ç»„ä»¶"></a>èœå•ç»„ä»¶</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Menu</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">Menu.prototype.toggle = <span class="function"><span class="keyword">function</span> (<span class="params">state</span>) </span>&#123;</span><br><span class="line">state();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> menuStates = &#123;</span><br><span class="line"><span class="string">"show"</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"the menu is showing"</span>);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">"hide"</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"the menu is hiding"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> menu = <span class="keyword">new</span> Menu();</span><br><span class="line">menu.toggle(menuStates.show);</span><br><span class="line">menu.toggle(menuStates.hide);</span><br></pre></td></tr></table></figure><blockquote><p>è¿™æ®µä»£ç å®ä¾‹åŒ–äº†ä¸€ä¸ªMenuå¯¹è±¡ï¼Œç„¶ååˆ†åˆ«åˆ‡æ¢äº†æ˜¾ç¤ºå’Œéšè—ä¸¤ç§çŠ¶æ€ï¼Œå¦‚æœæœ‰ç¬¬ä¸‰ç§çŠ¶æ€ï¼Œæˆ‘ä»¬åªéœ€è¦menuStatesæ·»åŠ ç›¸åº”çš„çŠ¶æ€å’Œå¤„ç†ç¨‹åºå³å¯ã€‚</p></blockquote><h3 id="è¶…çº§ç›ä¸½åŠ¨ä½œ"><a href="#è¶…çº§ç›ä¸½åŠ¨ä½œ" class="headerlink" title="è¶…çº§ç›ä¸½åŠ¨ä½œ"></a>è¶…çº§ç›ä¸½åŠ¨ä½œ</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> SuperMarry = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;    </span><br><span class="line">  <span class="keyword">let</span> _currentState = [],        <span class="comment">// çŠ¶æ€æ•°ç»„</span></span><br><span class="line">      states = &#123;</span><br><span class="line">        jump() &#123;<span class="built_in">console</span>.log(<span class="string">'è·³è·ƒ!'</span>)&#125;,</span><br><span class="line">        move() &#123;<span class="built_in">console</span>.log(<span class="string">'ç§»åŠ¨!'</span>)&#125;,</span><br><span class="line">        shoot() &#123;<span class="built_in">console</span>.log(<span class="string">'å°„å‡»!'</span>)&#125;,</span><br><span class="line">        squat() &#123;<span class="built_in">console</span>.log(<span class="string">'è¹²ä¸‹!'</span>)&#125;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> Action = &#123;</span><br><span class="line">    changeState(arr) &#123;  <span class="comment">// æ›´æ”¹å½“å‰åŠ¨ä½œ</span></span><br><span class="line">      _currentState = arr</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">    goes() &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'è§¦å‘åŠ¨ä½œ'</span>)</span><br><span class="line">      _currentState.forEach(<span class="function"><span class="params">T</span> =&gt;</span> states[T] &amp;&amp; states[T]())</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    change: Action.changeState,</span><br><span class="line">    go: Action.goes</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">SuperMarry</span><br><span class="line">    .change([<span class="string">'jump'</span>, <span class="string">'shoot'</span>])</span><br><span class="line">    .go()                    <span class="comment">// è§¦å‘åŠ¨ä½œ  è·³è·ƒ!  å°„å‡»!</span></span><br><span class="line">    .go()                    <span class="comment">// è§¦å‘åŠ¨ä½œ  è·³è·ƒ!  å°„å‡»!</span></span><br><span class="line">    .change([<span class="string">'squat'</span>])</span><br><span class="line">    .go()                    <span class="comment">// è§¦å‘åŠ¨ä½œ  è¹²ä¸‹!</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯ä»¥ä½¿ç”¨ES6çš„classä¼˜åŒ–ä¸€ä¸‹ï¼š<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SuperMarry</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>._currentState = []</span><br><span class="line">    <span class="keyword">this</span>.states = &#123;</span><br><span class="line">      jump() &#123;console.log(<span class="string">'è·³è·ƒ!'</span>)&#125;,</span><br><span class="line">      move() &#123;console.log(<span class="string">'ç§»åŠ¨!'</span>)&#125;,</span><br><span class="line">      shoot() &#123;console.log(<span class="string">'å°„å‡»!'</span>)&#125;,</span><br><span class="line">      squat() &#123;console.log(<span class="string">'è¹²ä¸‹!'</span>)&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  change(arr) &#123;  <span class="comment">// æ›´æ”¹å½“å‰åŠ¨ä½œ</span></span><br><span class="line">    <span class="keyword">this</span>._currentState = arr</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  go() &#123;</span><br><span class="line">    console.log(<span class="string">'è§¦å‘åŠ¨ä½œ'</span>)</span><br><span class="line">    <span class="keyword">this</span>._currentState.forEach(T =&gt; <span class="keyword">this</span>.states[T] &amp;&amp; <span class="keyword">this</span>.states[T]())</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">new SuperMarry()</span><br><span class="line">    .change([<span class="string">'jump'</span>, <span class="string">'shoot'</span>])</span><br><span class="line">    .go()                    <span class="comment">// è§¦å‘åŠ¨ä½œ  è·³è·ƒ!  å°„å‡»!</span></span><br><span class="line">    .go()                    <span class="comment">// è§¦å‘åŠ¨ä½œ  è·³è·ƒ!  å°„å‡»!</span></span><br><span class="line">    .change([<span class="string">'squat'</span>])</span><br><span class="line">    .go()                    <span class="comment">// è§¦å‘åŠ¨ä½œ  è¹²ä¸‹!</span></span><br></pre></td></tr></table></figure></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>çŠ¶æ€æ¨¡å¼çš„ä½¿ç”¨åœºæ™¯ä¹Ÿç‰¹åˆ«æ˜ç¡®ï¼Œæœ‰å¦‚ä¸‹ä¸¤ç‚¹ï¼š</p><p>ä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºå–å†³äºå®ƒçš„çŠ¶æ€ï¼Œå¹¶ä¸”å®ƒå¿…é¡»åœ¨è¿è¡Œæ—¶åˆ»æ ¹æ®çŠ¶æ€æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚<br>ä¸€ä¸ªæ“ä½œä¸­å«æœ‰å¤§é‡çš„åˆ†æ”¯è¯­å¥ï¼Œè€Œä¸”è¿™äº›åˆ†æ”¯è¯­å¥ä¾èµ–äºè¯¥å¯¹è±¡çš„çŠ¶æ€ã€‚çŠ¶æ€é€šå¸¸ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªæšä¸¾å¸¸é‡çš„è¡¨ç¤ºã€‚<br>ç®€è€Œè¨€ä¹‹ï¼Œå½“é‡åˆ°å¾ˆå¤šåŒçº§if-elseæˆ–è€…switchçš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨çŠ¶æ€æ¨¡å¼æ¥è¿›è¡Œç®€åŒ–ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;çŠ¶æ€æ¨¡å¼çš„åŸºç¡€&quot;&gt;&lt;a href=&quot;#çŠ¶æ€æ¨¡å¼çš„åŸºç¡€&quot; class=&quot;headerlink&quot; title=&quot;çŠ¶æ€æ¨¡å¼çš„åŸºç¡€&quot;&gt;&lt;/a&gt;çŠ¶æ€æ¨¡å¼çš„åŸºç¡€&lt;/h2&gt;&lt;p&gt;å®šä¹‰ï¼šçŠ¶æ€æ¨¡å¼ï¼ˆStateï¼‰å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å¯ä»¥é€šè¿‡ç®¡ç†å…¶çŠ¶æ€ä»è€Œä½¿å¾—åº”ç”¨ç¨‹åºä½œå‡ºç›¸åº”çš„å˜åŒ–ã€‚&lt;br&gt;çŠ¶æ€æ¨¡å¼æ˜¯ä¸€ä¸ªéå¸¸å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œå®ƒä¸»è¦æœ‰ä¸¤ä¸ªè§’è‰²ç»„æˆï¼š&lt;br&gt;ï¼ˆ1ï¼‰ç¯å¢ƒç±»ï¼šæ‹¥æœ‰ä¸€ä¸ªçŠ¶æ€æˆå‘˜ï¼Œå¯ä»¥ä¿®æ”¹å…¶çŠ¶æ€å¹¶ä½œå‡ºç›¸åº”ååº”ã€‚&lt;br&gt;ï¼ˆ2ï¼‰çŠ¶æ€ç±»ï¼šè¡¨ç¤ºä¸€ç§çŠ¶æ€ï¼ŒåŒ…å«å…¶ç›¸åº”çš„å¤„ç†æ–¹æ³•&lt;br&gt;ä½œç”¨ï¼šçŠ¶æ€æ¨¡å¼å°±æ˜¯ä¸€ç§é€‚åˆå¤šç§çŠ¶æ€åœºæ™¯ä¸‹çš„è®¾è®¡æ¨¡å¼ã€‚ä½¿ç”¨çŠ¶æ€æ¨¡å¼å¯ä»¥è®©ä»£ç æ›´åŠ æ¸…æ™°ï¼Œæé«˜åº”ç”¨ç¨‹åºçš„ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚&lt;br&gt;ä½¿ç”¨åœºæ™¯ï¼šæ–‡ä»¶ä¸‹è½½ï¼ˆå¼€å§‹ã€æš‚åœã€å®Œæˆã€å¤±è´¥ç­‰ï¼‰ã€çº¢ç»¿ç¯&lt;br&gt;
    
    </summary>
    
      <category term="JavaScript" scheme="https://chongdee.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://chongdee.github.io/tags/JavaScript/"/>
    
      <category term="JSè®¾è®¡æ¨¡å¼" scheme="https://chongdee.github.io/tags/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>jsè®¾è®¡æ¨¡å¼-èŒè´£é“¾æ¨¡å¼</title>
    <link href="https://chongdee.github.io/2018/10/31/JavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/js%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%81%8C%E8%B4%A3%E9%93%BE%E6%A8%A1%E5%BC%8F/"/>
    <id>https://chongdee.github.io/2018/10/31/JavaScriptè®¾è®¡æ¨¡å¼/jsè®¾è®¡æ¨¡å¼-èŒè´£é“¾æ¨¡å¼/</id>
    <published>2018-10-31T13:45:16.000Z</published>
    <updated>2018-11-11T20:44:30.480Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h2 id="èŒè´£é“¾æ¨¡å¼çš„åŸºç¡€"><a href="#èŒè´£é“¾æ¨¡å¼çš„åŸºç¡€" class="headerlink" title="èŒè´£é“¾æ¨¡å¼çš„åŸºç¡€"></a>èŒè´£é“¾æ¨¡å¼çš„åŸºç¡€</h2><p>å®šä¹‰ï¼šèŒè´£é“¾æ¨¡å¼ï¼ˆChain of responsibilityï¼‰æ˜¯ä½¿å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥å—è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚å°†è¿™ä¸ªå¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œå¹¶æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯¥è¯·æ±‚ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†ä»–ä¸ºæ­¢ã€‚èŒè´£é“¾æ¨¡å¼çš„åå­—éå¸¸å½¢è±¡ï¼Œä¸€ç³»åˆ—å¯èƒ½ä¼šå¤„ç†è¯·æ±‚çš„å¯¹è±¡è¢«è¯¥è¿æ¥æˆä¸€æ¡é“¾ï¼Œè¯·æ±‚åœ¨è¿™äº›å¯¹è±¡ä¹‹é—´ä¾æ¬¡ä¼ é€’ï¼Œç›´åˆ°é‡åˆ°ä¸€ä¸ªå¯ä»¥å¤„ç†å®ƒçš„å¯¹è±¡ï¼Œæˆ‘ä»¬æŠŠè¿™äº›å¯¹è±¡æˆä¸ºé“¾ä¸­çš„èŠ‚ç‚¹ã€‚<br>ä¼˜ç‚¹ï¼šè¯·æ±‚å‘é€è€…åªéœ€è¦çŸ¥é“é“¾ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»è€Œå¼±åŒ–äº†å‘é€è€…å’Œä¸€ç»„æ¥æ”¶è€…ä¹‹é—´çš„å¼ºè”ç³»ã€‚</p><p>ä½¿ç”¨åœºæ™¯ï¼šæŒ¤å…¬äº¤è½¦é€’é’±ï¼ˆåªæœ‰å”®ç¥¨å‘˜å¯ä»¥æ”¶é’±ï¼‰ã€äº¤æŠ¼é‡‘é¢„å®šæ‰‹æœº<br><a id="more"></a></p><h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><p>å‡è®¾ä¸€ä¸ªç”µè§†è´­ç‰©ç½‘ç«™å¯¹äºæŸéƒ¨æ–°ä¸Šå¸‚çš„æ‰‹æœºç»è¿‡äº†2è½®ç¼´çº³500å…ƒå®šé‡‘ä¸200å…ƒå®šé‡‘çš„é¢„å®šï¼Œç°åœ¨å·²ç»åˆ°äº†æ­£å¼è´­ä¹°çš„é˜¶æ®µã€‚<br>æ”¯ä»˜äº†500å…ƒå®šé‡‘çš„ç”¨æˆ·åœ¨è´­ä¹°é˜¶æ®µå¯ä»¥ä½¿ç”¨100å…ƒä¼˜æƒ åˆ¸ï¼Œ200å…ƒå®šé‡‘å¯ä»¥ä½¿ç”¨50å…ƒä¼˜æƒ åˆ¸ï¼Œæ™®é€šç”¨æˆ·æ²¡æœ‰ä¼˜æƒ ä¸”å½“åº“å­˜ä¸è¶³ä¸ä¸€å®šèƒ½ä¹°åˆ°ã€‚</p><p>orderType: è¡¨ç¤ºè®¢å•ç±»å‹(å®šé‡‘æˆ–è€…æ™®é€šç”¨æˆ·),codeçš„å€¼ä¸º1æ—¶å€™æ˜¯500å…ƒå®šé‡‘ç”¨æˆ·ï¼Œä¸º2æ˜¯200å…ƒå®šé‡‘ç”¨æˆ·ï¼Œä¸º3åˆ™æ˜¯æ™®é€šç”¨æˆ·ã€‚</p><p>pay : è¡¨ç¤ºç”¨æˆ·æ˜¯å¦æ”¯ä»˜å®šé‡‘ï¼Œç”¨æˆ·è™½ç„¶ä¸‹è¿‡500å…ƒå®šé‡‘çš„è®¢å•ä½†æ˜¯å¦‚æœä»–ä¸€ç›´æ²¡æœ‰æ”¯ä»˜å®šé‡‘ï¼Œé‚£ä¹ˆåªèƒ½é™çº§ä¸ºæ™®é€šç”¨æˆ·ã€‚</p><p>stock : ä»…ç”¨æˆ·æ™®é€šç”¨æˆ·çš„åº“å­˜æ•°é‡ï¼Œå®šé‡‘ç”¨æˆ·ä¸å—é™åˆ¶ã€‚</p><p>ç®€æ´ç‰ˆï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 500 order</span></span><br><span class="line"><span class="keyword">var</span> order500 = <span class="function"><span class="keyword">function</span> (<span class="params">orderType,pay,stock</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(orderType === <span class="number">1</span> &amp;&amp; pay === <span class="literal">true</span>)&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'500 rmb deposit, get 100 coupon '</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     order100(orderType,pay,stock)  <span class="comment">// req pass to 200 order</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> order200 = <span class="function"><span class="keyword">function</span> (<span class="params">orderType,pay,stock</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(orderType === <span class="number">2</span> &amp;&amp; pay === <span class="literal">true</span>)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'200 rmb deposit , get 50 coupon'</span>)</span><br><span class="line">&#125; <span class="keyword">else</span>&#123;</span><br><span class="line">    orderNormal(orderType,pay,stock) </span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> orderNormal = <span class="function"><span class="keyword">function</span> (<span class="params">orderType,pay,stock</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(stock &gt; <span class="number">0</span>)&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'normal buy no coupon'</span>)</span><br><span class="line">&#125; <span class="keyword">else</span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'the stock lack'</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//test result:</span></span><br><span class="line">order500(<span class="number">1</span>,<span class="literal">true</span>,<span class="number">500</span>);</span><br><span class="line">order500(<span class="number">2</span>,<span class="literal">true</span>,<span class="number">500</span>);</span><br><span class="line">order500(<span class="number">3</span>,<span class="literal">true</span>,<span class="number">500</span>);</span><br><span class="line">order500(<span class="number">1</span>,<span class="literal">false</span>,<span class="number">500</span>);</span><br></pre></td></tr></table></figure></p><blockquote><p>ç°åœ¨å·²ç»åŸºæœ¬ç¬¦åˆäº†èŒè´£é“¾æ¨¡å¼å®šä¹‰ï¼Œä¸‹é¢å®ç°çµæ´»å¯æ‹†åˆ†çš„èŒè´£é“¾æ¨¡å¼ï¼Œæˆ‘çš„æ„æ€å°±æ˜¯ä¸è¦åƒä¸Šè¿°é‚£æ ·é¢å‘è¿‡ç¨‹çš„ä»500ä¼ é€’åˆ°200ç„¶åå†åˆ°æ™®é€šï¼Œä¸‡ä¸€æˆ‘ä»¬æƒ³ä¼ é€’åˆ°100å‘¢ï¼Ÿ å²‚ä¸æ˜¯è¿˜å¾—è¦å¤§ä¿®ä¸€ç•ªï¼Ÿ</p></blockquote><p><strong>èŒè´£é“¾æ¨¡å¼é‡æ„</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 500 order</span></span><br><span class="line"><span class="keyword">var</span> order500 = <span class="function"><span class="keyword">function</span> (<span class="params">orderType,pay,stock</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(orderType === <span class="number">1</span> &amp;&amp; pay === <span class="literal">true</span>)&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'500 rmb deposit, get 100 coupon '</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'nextSuccessor'</span>  <span class="comment">// unknow the next node but always pass to next.</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> order200 = <span class="function"><span class="keyword">function</span> (<span class="params">orderType,pay,stock</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(orderType === <span class="number">2</span> &amp;&amp; pay === <span class="literal">true</span>)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'200 rmb deposit , get 50 coupon'</span>)</span><br><span class="line">&#125; <span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'nextSuccessor'</span>; </span><br><span class="line">&#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> orderNormal = <span class="function"><span class="keyword">function</span> (<span class="params">orderType,pay,stock</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(stock &gt; <span class="number">0</span>)&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'normal buy no coupon'</span>)</span><br><span class="line">&#125; <span class="keyword">else</span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'the stock lack'</span>)</span><br><span class="line">&#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Chain = <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.fn = fn;</span><br><span class="line"><span class="keyword">this</span>.successor = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line">Chain.prototype.setNextSuccessor = <span class="function"><span class="keyword">function</span> (<span class="params">successor</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>.successor = successor;</span><br><span class="line">&#125;</span><br><span class="line">Chain.prototype.passRequest = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> ret = <span class="keyword">this</span>.fn.apply(<span class="keyword">this</span>.arguments);</span><br><span class="line"><span class="keyword">if</span>(ret === <span class="string">'nextSuccessor'</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.successor &amp;&amp; <span class="keyword">this</span>.successor.passRequest.apply(<span class="keyword">this</span>.successor,<span class="built_in">arguments</span>)</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç°åœ¨æˆ‘ä»¬æŠŠ3ä¸ªè®¢å•å‡½æ•°åˆ†åˆ«åŒ…è£…æˆèŒè´£é“¾çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">var</span> chainOrder500 = <span class="keyword">new</span> Chain(order500);</span><br><span class="line"><span class="keyword">var</span> chainOrder200 = <span class="keyword">new</span> Chain(order200);</span><br><span class="line"><span class="keyword">var</span> chainOrderNormal = <span class="keyword">new</span> Chain(orderNormal);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æœ€åæŠŠè¯·æ±‚ä¼ é€’ç»™ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    chainOrder500.setNextSuccessor(chainOrder200)</span><br><span class="line">    chainOrder200.setNextSuccessor(chainOrderNormal)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æœ€åæŠŠè¯·æ±‚ä¼ é€’ç»™ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">//test</span></span><br><span class="line">chainOrder500.passRequest(<span class="number">1</span>,<span class="literal">true</span>,<span class="number">500</span>);</span><br><span class="line">chainOrder500.passRequest(<span class="number">2</span>,<span class="literal">true</span>,<span class="number">500</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€šè¿‡æ”¹è¿›ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªç”±çµæ´»çš„å¢åŠ ç§»é™¤å’Œé“¾ä¸­çš„èŠ‚ç‚¹é¡ºåºï¼Œå‡å¦‚æˆ‘ä»¬        åˆæƒ³æ”¯æŒ</span></span><br><span class="line"><span class="comment">//300å…ƒå®šé‡‘è´­ä¹°ï¼Œé‚£æˆ‘ä»¬å°±åœ¨æ”¹é“¾ä¸­å¢åŠ ä¸€ä¸ªèŠ‚ç‚¹å³å¯ï¼š</span></span><br><span class="line"><span class="keyword">var</span> order300 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="comment">// todo</span></span><br><span class="line">&#125;;</span><br><span class="line">chainOrder300 = <span class="keyword">new</span> Chain(chainOrder300)</span><br><span class="line">chainOrder500.setNextSuccessor(chainOrder300)</span><br><span class="line">chainOrder300.setNextSuccessor(chainOrder200)</span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬å¯ä»¥è‡ªç”±çµæ´»çš„å¢åŠ ç§»é™¤å’Œé“¾ä¸­çš„èŠ‚ç‚¹é¡ºåºï¼Œè¿™æ ·å°±å¾ˆç®€å•èƒ½æ»¡è¶³ç¬æ¯ä¸‡å˜çš„éœ€æ±‚äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;èŒè´£é“¾æ¨¡å¼çš„åŸºç¡€&quot;&gt;&lt;a href=&quot;#èŒè´£é“¾æ¨¡å¼çš„åŸºç¡€&quot; class=&quot;headerlink&quot; title=&quot;èŒè´£é“¾æ¨¡å¼çš„åŸºç¡€&quot;&gt;&lt;/a&gt;èŒè´£é“¾æ¨¡å¼çš„åŸºç¡€&lt;/h2&gt;&lt;p&gt;å®šä¹‰ï¼šèŒè´£é“¾æ¨¡å¼ï¼ˆChain of responsibilityï¼‰æ˜¯ä½¿å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥å—è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚å°†è¿™ä¸ªå¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œå¹¶æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯¥è¯·æ±‚ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†ä»–ä¸ºæ­¢ã€‚èŒè´£é“¾æ¨¡å¼çš„åå­—éå¸¸å½¢è±¡ï¼Œä¸€ç³»åˆ—å¯èƒ½ä¼šå¤„ç†è¯·æ±‚çš„å¯¹è±¡è¢«è¯¥è¿æ¥æˆä¸€æ¡é“¾ï¼Œè¯·æ±‚åœ¨è¿™äº›å¯¹è±¡ä¹‹é—´ä¾æ¬¡ä¼ é€’ï¼Œç›´åˆ°é‡åˆ°ä¸€ä¸ªå¯ä»¥å¤„ç†å®ƒçš„å¯¹è±¡ï¼Œæˆ‘ä»¬æŠŠè¿™äº›å¯¹è±¡æˆä¸ºé“¾ä¸­çš„èŠ‚ç‚¹ã€‚&lt;br&gt;ä¼˜ç‚¹ï¼šè¯·æ±‚å‘é€è€…åªéœ€è¦çŸ¥é“é“¾ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»è€Œå¼±åŒ–äº†å‘é€è€…å’Œä¸€ç»„æ¥æ”¶è€…ä¹‹é—´çš„å¼ºè”ç³»ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨åœºæ™¯ï¼šæŒ¤å…¬äº¤è½¦é€’é’±ï¼ˆåªæœ‰å”®ç¥¨å‘˜å¯ä»¥æ”¶é’±ï¼‰ã€äº¤æŠ¼é‡‘é¢„å®šæ‰‹æœº&lt;br&gt;
    
    </summary>
    
      <category term="JavaScript" scheme="https://chongdee.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://chongdee.github.io/tags/JavaScript/"/>
    
      <category term="JSè®¾è®¡æ¨¡å¼" scheme="https://chongdee.github.io/tags/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>jsè®¾è®¡æ¨¡å¼-å¤‡å¿˜å½•æ¨¡å¼</title>
    <link href="https://chongdee.github.io/2018/10/31/JavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/js%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F/"/>
    <id>https://chongdee.github.io/2018/10/31/JavaScriptè®¾è®¡æ¨¡å¼/jsè®¾è®¡æ¨¡å¼-å¤‡å¿˜å½•æ¨¡å¼/</id>
    <published>2018-10-31T13:45:00.000Z</published>
    <updated>2018-11-11T20:42:32.259Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h2 id="å¤‡å¿˜å½•æ¨¡å¼çš„åŸºç¡€"><a href="#å¤‡å¿˜å½•æ¨¡å¼çš„åŸºç¡€" class="headerlink" title="å¤‡å¿˜å½•æ¨¡å¼çš„åŸºç¡€"></a>å¤‡å¿˜å½•æ¨¡å¼çš„åŸºç¡€</h2><p>å®šä¹‰ï¼šåœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹ï¼Œæ•è·ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨è¯¥å¯¹è±¡ä¹‹å¤–ä¿å­˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™æ ·å°±å¯ä»¥å°†è¯¥å¯¹è±¡æ¢å¤åˆ°åŸå…ˆä¿å­˜çš„çŠ¶æ€<br>ä½œç”¨ï¼šåœ¨æˆ‘ä»¬çš„å¼€å‘ä¸­å¶å°”ä¼šé‡åˆ°è¿™æ ·ä¸€ç§æƒ…å†µï¼Œéœ€è¦å¯¹ç”¨æˆ·çš„è¡Œä¸ºè¿›è¡Œæ’¤é”€ã€‚è¦æƒ³å®ç°æ’¤é”€ï¼Œé¦–å…ˆéœ€è¦ä¿å­˜è½¯ä»¶ç³»ç»Ÿçš„å†å²çŠ¶æ€ï¼Œå½“ç”¨æˆ·æ‰§è¡Œæ’¤é”€æ—¶ç”¨ä¹‹å‰çš„çŠ¶æ€è¦†ç›–å½“å‰çŠ¶æ€ã€‚æœ¬èŠ‚ä»‹ç»çš„å¤‡å¿˜å½•æ¨¡å¼æä¾›äº†ä¸€ç§çŠ¶æ€æ¢å¤çš„å®ç°æœºåˆ¶ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥æ–¹ä¾¿çš„å›åˆ°ä¸€ä¸ªç‰¹å®šçš„å†å²æ­¥éª¤ã€‚å¤‡å¿˜å½•æ¨¡å¼åœ¨jsä¸­ç»å¸¸ç”¨äºæ•°æ®ç¼“å­˜ã€‚<br>ä½¿ç”¨åœºæ™¯ï¼šåˆ†é¡µæ§ä»¶ã€æ’¤é”€ç»„ä»¶</p><a id="more"></a><h2 id="åˆ†é¡µæ§ä»¶"><a href="#åˆ†é¡µæ§ä»¶" class="headerlink" title="åˆ†é¡µæ§ä»¶"></a>åˆ†é¡µæ§ä»¶</h2><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var Page = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">let page = <span class="number">1</span>,</span><br><span class="line">cache = &#123;&#125;,</span><br><span class="line"><span class="keyword">data</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">( page )</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span> ( cache[ page ] )&#123;</span><br><span class="line"><span class="keyword">data</span> =  cache[ page ];</span><br><span class="line">render( <span class="keyword">data</span> );</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">Ajax.send( <span class="string">'cgi.xx.com/xxx'</span>, <span class="function"><span class="keyword">function</span><span class="params">( data )</span></span>&#123;</span><br><span class="line">   cache[ page ] = <span class="keyword">data</span>;</span><br><span class="line">   render( <span class="keyword">data</span> );</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;();</span><br></pre></td></tr></table></figure><blockquote><p>åˆ†é¡µæ§ä»¶, ä»æœåŠ¡å™¨è·å¾—æŸä¸€é¡µçš„æ•°æ®åå¯ä»¥å­˜å…¥ç¼“å­˜ã€‚ä»¥åå†ç¿»å›è¿™ä¸€é¡µçš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ç¼“å­˜é‡Œçš„æ•°æ®è€Œæ— éœ€å†æ¬¡è¯·æ±‚æœåŠ¡å™¨ã€‚</p></blockquote><h2 id="é«˜é˜¶å‡½æ•°å®ç°ç¼“å­˜-å¤‡å¿˜æ¨¡å¼"><a href="#é«˜é˜¶å‡½æ•°å®ç°ç¼“å­˜-å¤‡å¿˜æ¨¡å¼" class="headerlink" title="é«˜é˜¶å‡½æ•°å®ç°ç¼“å­˜(å¤‡å¿˜æ¨¡å¼)"></a>é«˜é˜¶å‡½æ•°å®ç°ç¼“å­˜(å¤‡å¿˜æ¨¡å¼)</h2><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> add = <span class="function"><span class="keyword">function</span><span class="params">(a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¯æ¬¡è¿è¡Œadd(1)çš„æ—¶å€™éƒ½ä¼šè¾“å‡º2ï¼Œä½†æ˜¯è¾“å…¥1æ¯æ¬¡è¿˜æ˜¯ä¼šè®¡ç®—ä¸€ä¸‹1+1ï¼Œå¦‚æœæ˜¯å¼€é”€å¾ˆå¤§çš„æ“ä½œçš„è¯å°±æ¯”è¾ƒæ¶ˆè€—æ€§èƒ½äº†ï¼Œè¿™é‡Œå…¶å®å¯ä»¥å¯¹è¿™ä¸ªè®¡ç®—è¿›è¡Œä¸€æ¬¡ç¼“å­˜ã€‚<br>æ‰€ä»¥è¿™é‡Œå¯ä»¥åˆ©ç”¨é«˜é˜¶å‡½æ•°çš„æ€æƒ³æ¥å®ç°ä¸€ä¸ªç®€å•çš„ç¼“å­˜ï¼Œæˆ‘å¯ä»¥åœ¨å‡½æ•°å†…éƒ¨ç”¨ä¸€ä¸ªå¯¹è±¡å­˜å‚¨è¾“å…¥çš„å‚æ•°ï¼Œå¦‚æœä¸‹æ¬¡å†è¾“å…¥ç›¸åŒçš„å‚æ•°ï¼Œé‚£å°±æ¯”è¾ƒä¸€ä¸‹å¯¹è±¡çš„å±æ€§ï¼ŒæŠŠå€¼ä»è¿™ä¸ªå¯¹è±¡é‡Œé¢å–å‡ºæ¥ã€‚</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> memorize = <span class="function"><span class="keyword">function</span><span class="params">(fn)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> cache = &#123;&#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">(<span class="rest_arg">...args</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> _args = JSON.stringify(args)</span><br><span class="line">    <span class="keyword">return</span> cache[_args] || (cache[_args] = fn.apply(fn, args))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> add = <span class="function"><span class="keyword">function</span><span class="params">(a)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> adder = memorize(add)</span><br><span class="line">adder(<span class="number">1</span>)    <span class="comment">// 2    cache: &#123; '[1]': 2 &#125;</span></span><br><span class="line">adder(<span class="number">1</span>)    <span class="comment">// 2    cache: &#123; '[1]': 2 &#125;</span></span><br><span class="line">adder(<span class="number">2</span>)    <span class="comment">// 3    cache: &#123; '[1]': 2, '[2]': 3 &#125;</span></span><br></pre></td></tr></table></figure><p>ç”¨JSON.stringifyæŠŠä¼ ç»™ adder å‡½æ•°çš„å‚æ•°å˜æˆäº†å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”æŠŠå®ƒå½“åš cache çš„ keyï¼Œå°† add å‡½æ•°è¿è¡Œçš„ç»“æœå½“åš value ä¼ åˆ°äº† cache é‡Œé¢ï¼Œè¿™æ · memorize çš„åŒ¿åå‡½æ•°è¿è¡Œçš„æ—¶å€™ä¼šè¿”å›cache[_args]ï¼Œå¦‚æœcache[_args]ä¸å­˜åœ¨çš„è¯å°±è¿”å›fn.apply(fn,args)ï¼ŒæŠŠfn.apply(fn, arguments)èµ‹å€¼ç»™cache[_args]å¹¶è¿”å›ã€‚<br>æ³¨æ„ï¼šcacheä¸å¯ä»¥æ˜¯Mapï¼Œå› ä¸ºMapçš„é”®æ˜¯ä½¿ç”¨===æ¯”è¾ƒçš„ï¼Œ[1]ï¼==[1]ï¼Œå› æ­¤å³ä½¿ä¼ å…¥ç›¸åŒçš„å¯¹è±¡æˆ–è€…æ•°ç»„ï¼Œé‚£ä¹ˆè¿˜æ˜¯è¢«å­˜ä¸ºä¸åŒçš„é”®ã€‚</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> memorize = <span class="function"><span class="keyword">function</span><span class="params">(fn)</span> </span>&#123;        <span class="comment">//  X é”™è¯¯ç¤ºèŒƒ</span></span><br><span class="line">  <span class="keyword">const</span> cache = <span class="keyword">new</span> Map()</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">(<span class="rest_arg">...args</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> cache.get(args) || cache.set(args, fn.apply(fn, args)).get(args)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> add = <span class="function"><span class="keyword">function</span><span class="params">(a)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> adder = memorize(add)</span><br><span class="line">adder(<span class="number">1</span>)    <span class="comment">// 2    cache: &#123; [ 1 ] =&gt; 2 &#125;</span></span><br><span class="line">adder(<span class="number">1</span>)    <span class="comment">// 2    cache: &#123; [ 1 ] =&gt; 2, [ 1 ] =&gt; 2 &#125;</span></span><br><span class="line">adder(<span class="number">2</span>)    <span class="comment">// 3    cache: &#123; [ 1 ] =&gt; 2, [ 1 ] =&gt; 2, [ 2 ] =&gt; 3 &#125;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å¤‡å¿˜å½•æ¨¡å¼çš„åŸºç¡€&quot;&gt;&lt;a href=&quot;#å¤‡å¿˜å½•æ¨¡å¼çš„åŸºç¡€&quot; class=&quot;headerlink&quot; title=&quot;å¤‡å¿˜å½•æ¨¡å¼çš„åŸºç¡€&quot;&gt;&lt;/a&gt;å¤‡å¿˜å½•æ¨¡å¼çš„åŸºç¡€&lt;/h2&gt;&lt;p&gt;å®šä¹‰ï¼šåœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹ï¼Œæ•è·ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨è¯¥å¯¹è±¡ä¹‹å¤–ä¿å­˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™æ ·å°±å¯ä»¥å°†è¯¥å¯¹è±¡æ¢å¤åˆ°åŸå…ˆä¿å­˜çš„çŠ¶æ€&lt;br&gt;ä½œç”¨ï¼šåœ¨æˆ‘ä»¬çš„å¼€å‘ä¸­å¶å°”ä¼šé‡åˆ°è¿™æ ·ä¸€ç§æƒ…å†µï¼Œéœ€è¦å¯¹ç”¨æˆ·çš„è¡Œä¸ºè¿›è¡Œæ’¤é”€ã€‚è¦æƒ³å®ç°æ’¤é”€ï¼Œé¦–å…ˆéœ€è¦ä¿å­˜è½¯ä»¶ç³»ç»Ÿçš„å†å²çŠ¶æ€ï¼Œå½“ç”¨æˆ·æ‰§è¡Œæ’¤é”€æ—¶ç”¨ä¹‹å‰çš„çŠ¶æ€è¦†ç›–å½“å‰çŠ¶æ€ã€‚æœ¬èŠ‚ä»‹ç»çš„å¤‡å¿˜å½•æ¨¡å¼æä¾›äº†ä¸€ç§çŠ¶æ€æ¢å¤çš„å®ç°æœºåˆ¶ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥æ–¹ä¾¿çš„å›åˆ°ä¸€ä¸ªç‰¹å®šçš„å†å²æ­¥éª¤ã€‚å¤‡å¿˜å½•æ¨¡å¼åœ¨jsä¸­ç»å¸¸ç”¨äºæ•°æ®ç¼“å­˜ã€‚&lt;br&gt;ä½¿ç”¨åœºæ™¯ï¼šåˆ†é¡µæ§ä»¶ã€æ’¤é”€ç»„ä»¶&lt;/p&gt;
    
    </summary>
    
      <category term="JavaScript" scheme="https://chongdee.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://chongdee.github.io/tags/JavaScript/"/>
    
      <category term="JSè®¾è®¡æ¨¡å¼" scheme="https://chongdee.github.io/tags/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>jsè®¾è®¡æ¨¡å¼-ç»„åˆæ¨¡å¼</title>
    <link href="https://chongdee.github.io/2018/10/31/JavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/js%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/"/>
    <id>https://chongdee.github.io/2018/10/31/JavaScriptè®¾è®¡æ¨¡å¼/jsè®¾è®¡æ¨¡å¼-ç»„åˆæ¨¡å¼/</id>
    <published>2018-10-31T13:44:39.000Z</published>
    <updated>2018-11-11T20:44:17.448Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h2 id="ç»„åˆæ¨¡å¼çš„åŸºç¡€"><a href="#ç»„åˆæ¨¡å¼çš„åŸºç¡€" class="headerlink" title="ç»„åˆæ¨¡å¼çš„åŸºç¡€"></a>ç»„åˆæ¨¡å¼çš„åŸºç¡€</h2><p>å®šä¹‰ï¼šç»„åˆæ¨¡å¼ï¼ˆCompositeï¼‰å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ï¼Œç»„åˆæ¨¡å¼ä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚<br>ä½œç”¨ï¼šç»„åˆæ¨¡å¼è®©ä½ å¯ä»¥ä¼˜åŒ–å¤„ç†é€’å½’æˆ–åˆ†çº§æ•°æ®ç»“æ„ã€‚<br>ä½¿ç”¨åœºæ™¯ï¼šç³»ç»Ÿç›®å½•ç»“æ„ã€ç½‘ç«™å¯¼èˆªç»“æ„ã€æ–‡ä»¶æ‰«æã€DOMçš„æœºåˆ¶ï¼Œä¸€ä¸ªDOMèŠ‚ç‚¹å¯ä»¥åŒ…å«å­èŠ‚ç‚¹ï¼Œä¸ç®¡æ˜¯çˆ¶èŠ‚ç‚¹è¿˜æ˜¯å­èŠ‚ç‚¹éƒ½æœ‰æ·»åŠ ã€åˆ é™¤ã€éå†å­èŠ‚ç‚¹çš„é€šç”¨åŠŸèƒ½ã€‚<br>è¯¥æ¨¡å¼ç”±ä¸¤éƒ¨åˆ†æ„æˆï¼š<br>1.å­å¯¹è±¡ï¼ˆLeafï¼‰ï¼šç»„æˆç»„åˆå¯¹è±¡çš„æœ€åŸºæœ¬å¯¹è±¡ã€‚<br>2.ç»„åˆå¯¹è±¡ï¼ˆCompositeï¼‰ï¼šç”±å­å¯¹è±¡ç»„åˆèµ·æ¥çš„å¤æ‚å¯¹è±¡ã€‚</p><a id="more"></a><h2 id="ç»„åˆæ¨¡å¼çš„ä¾‹å­"><a href="#ç»„åˆæ¨¡å¼çš„ä¾‹å­" class="headerlink" title="ç»„åˆæ¨¡å¼çš„ä¾‹å­"></a>ç»„åˆæ¨¡å¼çš„ä¾‹å­</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ç»„åˆå¯¹è±¡ï¼ˆæ–‡ä»¶å¤¹ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> Folder = <span class="function"><span class="keyword">function</span>(<span class="params"> name </span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line"><span class="keyword">this</span>.files = [];</span><br><span class="line">&#125;;</span><br><span class="line">Folder.prototype.add = <span class="function"><span class="keyword">function</span>(<span class="params"> file </span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.files.push( file );</span><br><span class="line">&#125;;</span><br><span class="line">Folder.prototype.scan = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'å¼€å§‹æ–‡ä»¶æ‰«æ:'</span> + <span class="keyword">this</span>.name);</span><br><span class="line"><span class="keyword">for</span>( <span class="keyword">let</span> i = <span class="number">0</span>, file, files = <span class="keyword">this</span>.files; file = files[i++]; )&#123;</span><br><span class="line">file.scan();</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//å®šä¹‰å¶å­å¯¹è±¡ï¼ˆæ–‡ä»¶ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> File = <span class="function"><span class="keyword">function</span>(<span class="params"> name </span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;;</span><br><span class="line">File.prototype.add = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'æ–‡ä»¶ä¸‹é¢ä¸èƒ½å†æ·»åŠ æ–‡ä»¶'</span>);</span><br><span class="line">&#125;;</span><br><span class="line">File.prototype.scan = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'å¼€å§‹æ‰«ç„ï¼š'</span> + <span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> folder = <span class="keyword">new</span> Folder(<span class="string">'å‰ç«¯å­¦ä¹ '</span>);</span><br><span class="line"><span class="keyword">let</span> folder1 = <span class="keyword">new</span> Folder(<span class="string">'JSå­¦ä¹ '</span>);</span><br><span class="line"><span class="keyword">let</span> folder2 = <span class="keyword">new</span> Folder(<span class="string">'JQå­¦ä¹ '</span>);</span><br><span class="line"><span class="keyword">let</span> file1 = <span class="keyword">new</span> File(<span class="string">'JSè®¾è®¡æ¨¡å¼'</span>);</span><br><span class="line"><span class="keyword">let</span> file2 = <span class="keyword">new</span> File(<span class="string">'JQå®æˆ˜'</span>);</span><br><span class="line"><span class="keyword">let</span> file3 = <span class="keyword">new</span> File(<span class="string">'å‰ç«¯æ€§èƒ½'</span>);</span><br><span class="line">folder1.add(file1);</span><br><span class="line">folder2.add(file2);</span><br><span class="line">folder.add(folder1);</span><br><span class="line">folder.add(folder2);</span><br><span class="line">folder.add(file3);</span><br><span class="line">folder.scan();</span><br><span class="line"><span class="comment">// è¾“å‡º</span></span><br><span class="line">å¼€å§‹æ–‡ä»¶æ‰«æï¼šå‰ç«¯å­¦ä¹ </span><br><span class="line">å¼€å§‹æ–‡ä»¶æ‰«æï¼šJSå­¦ä¹ </span><br><span class="line">å¼€å§‹æ‰«ç„ï¼šJSè®¾è®¡æ¨¡å¼</span><br><span class="line">å¼€å§‹æ–‡ä»¶æ‰«æï¼šJQå­¦ä¹ </span><br><span class="line">å¼€å§‹æ‰«ç„ï¼šJQå®æˆ˜</span><br><span class="line">å¼€å§‹æ‰«ç„ï¼šå‰ç«¯æ€§èƒ½</span><br></pre></td></tr></table></figure><blockquote><p>çˆ¶ç±»å’Œå­ç±»å¿…é¡»å…·æœ‰ç›¸åŒçš„æ¥å£ï¼ˆæ–¹æ³•ï¼‰ï¼Œåªä¸è¿‡å®ƒä»¬ç›¸åŒçš„æ–¹æ³•å…·æœ‰çš„åŠŸèƒ½ä¸ç›¸åŒï¼Œä¾‹å¦‚çˆ¶ç±»çš„å®ä¾‹å…·æœ‰ add æ–¹æ³•ä½œç”¨æ˜¯ï¼Œå¯ä»¥æ·»åŠ æ–‡ä»¶å¤¹ æˆ–è€… æ–‡ä»¶ã€‚å­ç±»çš„å®ä¾‹å…·æœ‰ add æ–¹æ³•åˆ™ä¸èƒ½æ·»åŠ æ–‡ä»¶å¤¹ æˆ–è€… æ–‡ä»¶ï¼Œå´æŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼ˆå­ç±»é‡å†™çˆ¶ç±»çš„æ–¹æ³•ï¼‰ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ç»„åˆæ¨¡å¼çš„åŸºç¡€&quot;&gt;&lt;a href=&quot;#ç»„åˆæ¨¡å¼çš„åŸºç¡€&quot; class=&quot;headerlink&quot; title=&quot;ç»„åˆæ¨¡å¼çš„åŸºç¡€&quot;&gt;&lt;/a&gt;ç»„åˆæ¨¡å¼çš„åŸºç¡€&lt;/h2&gt;&lt;p&gt;å®šä¹‰ï¼šç»„åˆæ¨¡å¼ï¼ˆCompositeï¼‰å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ï¼Œç»„åˆæ¨¡å¼ä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚&lt;br&gt;ä½œç”¨ï¼šç»„åˆæ¨¡å¼è®©ä½ å¯ä»¥ä¼˜åŒ–å¤„ç†é€’å½’æˆ–åˆ†çº§æ•°æ®ç»“æ„ã€‚&lt;br&gt;ä½¿ç”¨åœºæ™¯ï¼šç³»ç»Ÿç›®å½•ç»“æ„ã€ç½‘ç«™å¯¼èˆªç»“æ„ã€æ–‡ä»¶æ‰«æã€DOMçš„æœºåˆ¶ï¼Œä¸€ä¸ªDOMèŠ‚ç‚¹å¯ä»¥åŒ…å«å­èŠ‚ç‚¹ï¼Œä¸ç®¡æ˜¯çˆ¶èŠ‚ç‚¹è¿˜æ˜¯å­èŠ‚ç‚¹éƒ½æœ‰æ·»åŠ ã€åˆ é™¤ã€éå†å­èŠ‚ç‚¹çš„é€šç”¨åŠŸèƒ½ã€‚&lt;br&gt;è¯¥æ¨¡å¼ç”±ä¸¤éƒ¨åˆ†æ„æˆï¼š&lt;br&gt;1.å­å¯¹è±¡ï¼ˆLeafï¼‰ï¼šç»„æˆç»„åˆå¯¹è±¡çš„æœ€åŸºæœ¬å¯¹è±¡ã€‚&lt;br&gt;2.ç»„åˆå¯¹è±¡ï¼ˆCompositeï¼‰ï¼šç”±å­å¯¹è±¡ç»„åˆèµ·æ¥çš„å¤æ‚å¯¹è±¡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="JavaScript" scheme="https://chongdee.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://chongdee.github.io/tags/JavaScript/"/>
    
      <category term="JSè®¾è®¡æ¨¡å¼" scheme="https://chongdee.github.io/tags/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>jsè®¾è®¡æ¨¡å¼-æ¨¡æ¿æ–¹æ³•æ¨¡å¼</title>
    <link href="https://chongdee.github.io/2018/10/31/JavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/js%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/"/>
    <id>https://chongdee.github.io/2018/10/31/JavaScriptè®¾è®¡æ¨¡å¼/jsè®¾è®¡æ¨¡å¼-æ¨¡æ¿æ–¹æ³•æ¨¡å¼/</id>
    <published>2018-10-31T13:44:24.000Z</published>
    <updated>2018-11-11T20:43:47.867Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h2 id="æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼"><a href="#æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼" class="headerlink" title="æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼"></a>æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼</h2><p>å®šä¹‰ï¼šæ¨¡æ¿æ–¹æ³•æ¨¡å¼ç”±äºŒéƒ¨åˆ†ç»„æˆï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯æŠ½è±¡çˆ¶ç±»ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯å…·ä½“å®ç°çš„å­ç±»ï¼Œä¸€èˆ¬çš„æƒ…å†µä¸‹æ˜¯æŠ½è±¡çˆ¶ç±»å°è£…äº†å­ç±»çš„ç®—æ³•æ¡†æ¶ï¼ŒåŒ…æ‹¬å®ç°ä¸€äº›å…¬å…±æ–¹æ³•åŠå°è£…å­ç±»ä¸­æ‰€æœ‰æ–¹æ³•çš„æ‰§è¡Œé¡ºåºï¼Œå­ç±»å¯ä»¥ç»§æ‰¿è¿™ä¸ªçˆ¶ç±»ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å­ç±»ä¸­é‡å†™çˆ¶ç±»çš„æ–¹æ³•ï¼Œä»è€Œå®ç°è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘ã€‚<br>ä½¿ç”¨åœºæ™¯ï¼šï¼ˆä¸»è¦ç”¨äºæ­¥éª¤ç›¸ä¼¼çš„äº‹æƒ…ï¼‰</p><ol><li>æ³¡é¥®å“ï¼ˆèŒ¶ å’Œ coffeeï¼‰</li><li>å…¬å¸é¢è¯•<a id="more"></a></li></ol><h2 id="æ³¡é¥®å“ï¼ˆèŒ¶-å’Œ-coffeeï¼‰"><a href="#æ³¡é¥®å“ï¼ˆèŒ¶-å’Œ-coffeeï¼‰" class="headerlink" title="æ³¡é¥®å“ï¼ˆèŒ¶ å’Œ coffeeï¼‰"></a>æ³¡é¥®å“ï¼ˆèŒ¶ å’Œ coffeeï¼‰</h2><p>åœ¨ä¾‹å­ä¸­èŠï¼Œæ³¡èŒ¶å’Œæ³¡å’–å•¡æœ‰åŒæ ·çš„æ­¥éª¤ï¼Œæ¯”å¦‚çƒ§å¼€æ°´ï¼ˆboilWaterï¼‰ã€å†²æ³¡ï¼ˆbrewï¼‰ã€å€’åœ¨æ¯å­é‡Œï¼ˆpourOnCupï¼‰ï¼ŒåŠ å°æ–™ï¼ˆaddCondimentsï¼‰ç­‰ç­‰ã€‚ä½†æ¯ç§é¥®æ–™å†²æ³¡çš„æ–¹æ³•ä»¥åŠæ‰€åŠ çš„å°æ–™ä¸ä¸€æ ·ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ¨¡æ¿æ–¹æ³•å®ç°è¿™ä¸ªä¸»è¦æ­¥éª¤ã€‚</p><p>é¦–å…ˆå…ˆæ¥å®šä¹‰æŠ½è±¡æ­¥éª¤ï¼ˆæ¨¡æ¿ï¼‰ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> CaffeineBeverage = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line">CaffeineBeverage.prototype.prepareRecipe = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.boilWater();</span><br><span class="line">    <span class="keyword">this</span>.brew();</span><br><span class="line">    <span class="keyword">this</span>.pourOnCup();</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.customerWantsCondiments()) &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœæƒ³åŠ å°æ–™ï¼Œå°±åŠ ä¸Š</span></span><br><span class="line">         <span class="keyword">this</span>.addCondiments();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">CaffeineBeverage.prototype.boilWater = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"å°†æ°´çƒ§å¼€!"</span>);</span><br><span class="line">&#125;;</span><br><span class="line">CaffeineBeverage.prototype.pourOnCup = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"å°†é¥®æ–™åˆ°å†æ¯å­é‡Œ!"</span>);</span><br><span class="line">&#125;;</span><br><span class="line">CaffeineBeverage.prototype.brew = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"è¯¥æ–¹æ³•å¿…é¡»é‡å†™!"</span>);</span><br><span class="line">&#125;;</span><br><span class="line">CaffeineBeverage.prototype.addCondiments = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"è¯¥æ–¹æ³•å¿…é¡»é‡å†™!"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// é»˜è®¤åŠ ä¸Šå°æ–™</span></span><br><span class="line">CaffeineBeverage.prototype.customerWantsCondiments = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>ä¸‹é¢ä¸¤ä¸ªå‡½æ•°åˆ†åˆ«æ˜¯å†²å’–å•¡å’Œå†²èŒ¶æ‰€å¯¹åº”çš„å‡½æ•°ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å†²å’–å•¡</span></span><br><span class="line"><span class="keyword">var</span> Coffee = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    CaffeineBeverage.apply(<span class="keyword">this</span>);</span><br><span class="line">&#125;;</span><br><span class="line">Coffee.prototype = <span class="keyword">new</span> CaffeineBeverage();</span><br><span class="line">Coffee.prototype.brew = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"ä»å’–å•¡æœºæƒ³å’–å•¡å€’è¿›å»!"</span>);</span><br><span class="line">&#125;;</span><br><span class="line">Coffee.prototype.addCondiments = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"æ·»åŠ ç³–å’Œç‰›å¥¶"</span>);</span><br><span class="line">&#125;;</span><br><span class="line">Coffee.prototype.customerWantsCondiments = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> confirm(<span class="string">"ä½ æƒ³æ·»åŠ ç³–å’Œç‰›å¥¶å—ï¼Ÿ"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å†²èŒ¶</span></span><br><span class="line"><span class="keyword">var</span> Tea = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    CaffeineBeverage.apply(<span class="keyword">this</span>);</span><br><span class="line">&#125;;</span><br><span class="line">Tea.prototype = <span class="keyword">new</span> CaffeineBeverage();</span><br><span class="line">Tea.prototype.brew = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"æ³¡èŒ¶å¶!"</span>);</span><br><span class="line">&#125;;</span><br><span class="line">Tea.prototype.addCondiments = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"æ·»åŠ æŸ æª¬!"</span>);</span><br><span class="line">&#125;;</span><br><span class="line">Tea.prototype.customerWantsCondiments = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> confirm(<span class="string">"ä½ æƒ³æ·»åŠ æŸ æª¬å˜›ï¼Ÿ"</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨confirmï¼Œå¯ä»¥è®©ç”¨æˆ·è‡ªå·±é€‰æ‹©åŠ ä¸åŠ å°æ–™ï¼Œå¾ˆä¸é”™å˜›ï¼</p><p>å…¬å¸é¢è¯•ï¼ˆç™¾åº¦é¢è¯• å’Œ é˜¿é‡Œé¢è¯•ï¼‰</p><h2 id="é¢è¯•ä¾‹å­"><a href="#é¢è¯•ä¾‹å­" class="headerlink" title="é¢è¯•ä¾‹å­"></a>é¢è¯•ä¾‹å­</h2><p>å®šä¹‰çˆ¶ç±»<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰çˆ¶ç±»</span></span><br><span class="line"><span class="keyword">let</span> ITInterview = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬”è¯•</span></span><br><span class="line">ITInterview.prototype.writtenTest = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"æŸå…¬å¸ç¬”è¯•æµ‹è¯•"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ€æœ¯é¢è¯•</span></span><br><span class="line">ITInterview.prototype.technicalInterview = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"æŸå…¬å¸æŠ€æœ¯é¢è¯•æµ‹è¯•"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¢†å¯¼é¢è¯•</span></span><br><span class="line">ITInterview.prototype.leader = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"æŸå…¬å¸leaderæ¥é¢è¯•äº†"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰é€šçŸ¥</span></span><br><span class="line">ITInterview.prototype.waitNotice = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"æŸå…¬å¸çš„offeråˆ°äº†"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">å®šä¹‰æ¨¡ç‰ˆæ–¹æ³•</span><br><span class="line"><span class="comment">// ä½œç”¨ï¼šå°è£…äº†å­ç±»çš„ç®—æ³•æ¡†æ¶ï¼ŒåŒ…æ‹¬å®ç°ä¸€äº›å…¬å…±æ–¹æ³•åŠå°è£…å­ç±»ä¸­æ‰€æœ‰æ–¹æ³•çš„æ‰§è¡Œé¡ºåºã€‚</span></span><br><span class="line">ITInterview.prototype.init = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.writtenTest();</span><br><span class="line"><span class="keyword">this</span>.technicalInterview();</span><br><span class="line"><span class="keyword">this</span>.leader();</span><br><span class="line"><span class="keyword">this</span>.waitNotice();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>å®šä¹‰å­ç±»</p><p>é¦–å…ˆå­ç±»éœ€è¦é‡çˆ¶ç±»å“ªé‡Œç»§æ‰¿æ‰€æœ‰çš„æ–¹æ³•<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> BaiDuInterview = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">BaiDuInterview.prototype = <span class="keyword">new</span> ITInterview();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬”è¯•</span></span><br><span class="line">BaiDuInterview.prototype.writtenTest = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"ç™¾åº¦å…¬å¸ç¬”è¯•æµ‹è¯•"</span>); <span class="comment">// æ— éå°±æ˜¯é¢è¯•é¢˜ä¸ä¸€æ ·å‘—</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ€æœ¯é¢è¯•</span></span><br><span class="line">BaiDuInterview.prototype.technicalInterview = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"ç™¾åº¦å…¬å¸æŠ€æœ¯é¢è¯•æµ‹è¯•"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¢†å¯¼é¢è¯•</span></span><br><span class="line">BaiDuInterview.prototype.leader = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"ç™¾åº¦å…¬å¸leaderæ¥é¢è¯•äº†"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰é€šçŸ¥</span></span><br><span class="line">BaiDuInterview.prototype.waitNotice = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"ç™¾åº¦å…¬å¸çš„offeråˆ°äº†"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> baiduInterview = <span class="keyword">new</span> BaiDuInterview();</span><br><span class="line">baiduInterview.init(); <span class="comment">// å­ç±»è¿˜å¯ä»¥é‡å†™çˆ¶ç±»çš„initæ–¹æ³•ï¼Œè¿™æ ·å„ä¸ªå…¬å¸é¢è¯•çš„æµç¨‹å°±ä¸ä¸€æ ·äº†ã€‚</span></span><br></pre></td></tr></table></figure></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ¨¡æ¿æ–¹æ³•åº”ç”¨äºä¸‹åˆ—æƒ…å†µï¼š</p><p>ä¸€æ¬¡æ€§å®ç°ä¸€ä¸ªç®—æ³•çš„ä¸å˜çš„éƒ¨åˆ†ï¼Œå¹¶å°†å¯å˜çš„è¡Œä¸ºç•™ç»™å­ç±»æ¥å®ç°<br>å„å­ç±»ä¸­å…¬å…±çš„è¡Œä¸ºåº”è¢«æå–å‡ºæ¥å¹¶é›†ä¸­åˆ°ä¸€ä¸ªå…¬å…±çˆ¶ç±»ä¸­ä»¥é¿å…ä»£ç é‡å¤ï¼Œä¸åŒä¹‹å¤„åˆ†ç¦»ä¸ºæ–°çš„æ“ä½œï¼Œåˆ†åˆ«å®ç°<br>æ§åˆ¶å­ç±»æ‰©å±•ï¼Œæ¨¡æ¿æ–¹æ³•å¯ä»¥åªåœ¨ç‰¹å®šç‚¹è°ƒç”¨â€œHookâ€æ“ä½œï¼Œè¿™æ ·å°±åªå…è®¸åœ¨è¿™äº›ç‚¹è¿›è¡Œæ‰©å±•ã€‚</p><p>æ³¨ï¼š<br>é’©å­ï¼ˆHookï¼‰æ“ä½œï¼Œå®ƒæä¾›äº†ç¼ºçœçš„è¡Œä¸ºï¼Œå­ç±»åœ¨å¿…è¦æ—¶è¿›è¡Œæ‰©å±•ã€‚ä¸€ä¸ªé’©å­æ“ä½œçš„ç¼ºçœæ“ä½œé€šå¸¸æ˜¯ä¸€ä¸ªç©ºæ“ä½œã€‚åœ¨æ¨¡æ¿æ–¹æ³•ä¸­åº”æŒ‡æ˜å“ªäº›æ“æ˜¯é’©å­æ“ä½œï¼ˆå¯ä»¥è¢«é‡å®šä¹‰ï¼‰ä»¥åŠå“ªäº›æ˜¯æŠ½è±¡æ“ä½œï¼ˆå¿…é¡»è¢«é‡å®šä¹‰ï¼‰</p><p>å’Œç­–ç•¥æ¨¡å¼ä¸åŒï¼Œæ¨¡æ¿æ–¹æ³•ä½¿ç”¨ç»§æ‰¿æ¥æ”¹å˜ç®—æ³•çš„ä¸€éƒ¨åˆ†ï¼Œè€Œç­–ç•¥æ¨¡å¼ä½¿ç”¨å§”æ‰˜æ¥æ”¹å˜æ•´ä¸ªç®—æ³•ï¼ˆè¿™ä¸€ç‚¹æš‚æ—¶ä¸æ˜¯å¾ˆæ˜ç™½ï¼Œå­¦ä¹ ç­–ç•¥æ¨¡å¼åå†å›æ¥ç†è§£ï¼‰ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼&quot;&gt;&lt;a href=&quot;#æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼&quot;&gt;&lt;/a&gt;æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼&lt;/h2&gt;&lt;p&gt;å®šä¹‰ï¼šæ¨¡æ¿æ–¹æ³•æ¨¡å¼ç”±äºŒéƒ¨åˆ†ç»„æˆï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯æŠ½è±¡çˆ¶ç±»ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯å…·ä½“å®ç°çš„å­ç±»ï¼Œä¸€èˆ¬çš„æƒ…å†µä¸‹æ˜¯æŠ½è±¡çˆ¶ç±»å°è£…äº†å­ç±»çš„ç®—æ³•æ¡†æ¶ï¼ŒåŒ…æ‹¬å®ç°ä¸€äº›å…¬å…±æ–¹æ³•åŠå°è£…å­ç±»ä¸­æ‰€æœ‰æ–¹æ³•çš„æ‰§è¡Œé¡ºåºï¼Œå­ç±»å¯ä»¥ç»§æ‰¿è¿™ä¸ªçˆ¶ç±»ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å­ç±»ä¸­é‡å†™çˆ¶ç±»çš„æ–¹æ³•ï¼Œä»è€Œå®ç°è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘ã€‚&lt;br&gt;ä½¿ç”¨åœºæ™¯ï¼šï¼ˆä¸»è¦ç”¨äºæ­¥éª¤ç›¸ä¼¼çš„äº‹æƒ…ï¼‰&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ³¡é¥®å“ï¼ˆèŒ¶ å’Œ coffeeï¼‰&lt;/li&gt;
&lt;li&gt;å…¬å¸é¢è¯•
    
    </summary>
    
      <category term="JavaScript" scheme="https://chongdee.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://chongdee.github.io/tags/JavaScript/"/>
    
      <category term="JSè®¾è®¡æ¨¡å¼" scheme="https://chongdee.github.io/tags/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>jsè®¾è®¡æ¨¡å¼-è®¿é—®è€…æ¨¡å¼</title>
    <link href="https://chongdee.github.io/2018/10/31/JavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/js%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F/"/>
    <id>https://chongdee.github.io/2018/10/31/JavaScriptè®¾è®¡æ¨¡å¼/jsè®¾è®¡æ¨¡å¼-è®¿é—®è€…æ¨¡å¼/</id>
    <published>2018-10-31T13:44:04.000Z</published>
    <updated>2018-11-11T20:42:55.296Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h2 id="è®¿é—®è€…æ¨¡å¼å®šä¹‰"><a href="#è®¿é—®è€…æ¨¡å¼å®šä¹‰" class="headerlink" title="è®¿é—®è€…æ¨¡å¼å®šä¹‰"></a>è®¿é—®è€…æ¨¡å¼å®šä¹‰</h2><p>ä»‹ç»ï¼šè®¿é—®è€…æ¨¡å¼æ¯”è¾ƒå¤æ‚ï¼Œå®ƒåŒ…å«è®¿é—®è€…å’Œè¢«è®¿é—®å…ƒç´ ä¸¤ä¸ªä¸»è¦ç»„æˆéƒ¨åˆ†ï¼Œè¿™äº›è¢«è®¿é—®çš„å…ƒç´ é€šå¸¸å…·æœ‰ä¸åŒçš„ç±»å‹ï¼Œä¸”ä¸åŒçš„è®¿é—®è€…å¯ä»¥å¯¹ä»–ä»¬è¿›è¡Œä¸åŒçš„è®¿é—®æ“ä½œã€‚è®¿é—®è€…æ¨¡å¼çš„ä¸»è¦ç›®çš„æ˜¯å°†æ•°æ®ç»“æ„ä¸æ•°æ®æ“ä½œç›¸åˆ†ç¦»ã€‚</p><p>å®šä¹‰ï¼šæä¾›ä¸€ä¸ªä½œç”¨äºæŸå¯¹è±¡ç»“æ„ä¸­çš„ä¸ªå…ƒç´ çš„æ“ä½œè¡¨ç¤ºï¼Œå®ƒä½¿å¾—å¯ä»¥å†ä¸æ”¹å˜å„å…ƒç´ çš„ç±»çš„å‰æä¸‹å®šä¹‰ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ–°æ“ä½œã€‚è®¿é—®è€…æ¨¡å¼æ˜¯ä¸€ç§å¯¹è±¡è¡Œä¸ºå‹æ¨¡å¼</p><h2 id="åœ¨è®¿é—®è€…æ¨¡å¼ä¸­ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªè§’è‰²"><a href="#åœ¨è®¿é—®è€…æ¨¡å¼ä¸­ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªè§’è‰²" class="headerlink" title="åœ¨è®¿é—®è€…æ¨¡å¼ä¸­ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªè§’è‰²"></a>åœ¨è®¿é—®è€…æ¨¡å¼ä¸­ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªè§’è‰²</h2><ol><li>æŠ½è±¡è®¿é—®è€…ï¼šæŠ½è±¡ç±»æˆ–è€…æ¥å£ï¼Œå£°æ˜è®¿é—®è€…å¯ä»¥è®¿é—®å“ªäº›å…ƒç´ ï¼Œå…·ä½“åˆ°ç¨‹åºä¸­å°±æ˜¯visitæ–¹æ³•ä¸­çš„å‚æ•°å®šä¹‰å“ªäº›å¯¹è±¡æ˜¯å¯ä»¥è¢«è®¿é—®çš„ã€‚</li><li>è®¿é—®è€…ï¼šå®ç°æŠ½è±¡è®¿é—®è€…æ‰€å£°æ˜çš„æ–¹æ³•ï¼Œå®ƒå½±å“åˆ°è®¿é—®è€…è®¿é—®åˆ°ä¸€ä¸ªç±»åè¯¥å¹²ä»€ä¹ˆï¼Œè¦åšä»€ä¹ˆäº‹æƒ…ã€‚</li><li>æŠ½è±¡å…ƒç´ ç±»ï¼šæ¥å£æˆ–è€…æŠ½è±¡ç±»ï¼Œå£°æ˜æ¥å—å“ªä¸€ç±»è®¿é—®è€…è®¿é—®ï¼Œç¨‹åºä¸Šæ˜¯é€šè¿‡acceptæ–¹æ³•ä¸­çš„å‚æ•°æ¥å®šä¹‰çš„ã€‚æŠ½è±¡å…ƒç´ ä¸€èˆ¬æœ‰ä¸¤ç±»æ–¹æ³•ï¼Œä¸€éƒ¨åˆ†æ˜¯æœ¬èº«çš„ä¸šåŠ¡é€»è¾‘ï¼Œå¦å¤–å°±æ˜¯å…è®¸æ¥æ”¶å“ªç±»è®¿é—®è€…æ¥è®¿é—®ã€‚</li><li>å…ƒç´ ç±»ï¼šå®ç°æŠ½è±¡å…ƒç´ ç±»æ‰€å£°æ˜çš„acceptæ–¹æ³•ï¼Œé€šå¸¸éƒ½æ˜¯visitor.visit(this)ï¼ŒåŸºæœ¬ä¸Šå·²ç»å½¢æˆä¸€ç§å®šå¼äº†ã€‚</li><li>ç»“æ„å¯¹è±¡ï¼šä¸€ä¸ªå…ƒç´ çš„å®¹å™¨ï¼Œä¸€èˆ¬åŒ…å«ä¸€ä¸ªå®¹çº³å¤šä¸ªä¸åŒç±»ã€ä¸åŒæ¥å£çš„å®¹å™¨ï¼Œå¦‚Listã€Setã€Mapç­‰ï¼Œåœ¨é¡¹ç›®ä¸­ä¸€èˆ¬å¾ˆå°‘æŠ½è±¡å‡ºè¿™ä¸ªè§’è‰²ã€‚<a id="more"></a></li></ol><h2 id="ç¤ºä¾‹ï¼š"><a href="#ç¤ºä¾‹ï¼š" class="headerlink" title="ç¤ºä¾‹ï¼š"></a>ç¤ºä¾‹ï¼š</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Keyboard = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.accept = <span class="function"><span class="keyword">function</span>(<span class="params">computerPartVisitor</span>)</span>&#123;</span><br><span class="line">        computerPartVisitor.visit(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> Monitor = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.accept = <span class="function"><span class="keyword">function</span>(<span class="params">computerPartVisitor</span>)</span>&#123;</span><br><span class="line">        computerPartVisitor.visit(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> Mouse = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.accept = <span class="function"><span class="keyword">function</span>(<span class="params">computerPartVisitor</span>)</span>&#123;</span><br><span class="line">        computerPartVisitor.visit(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> Computer = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> parts = [<span class="keyword">new</span> Keyboard(), <span class="keyword">new</span> Monitor(), <span class="keyword">new</span> Mouse()];</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">this</span>.accept = <span class="function"><span class="keyword">function</span>(<span class="params">computerPartVisitor</span>)</span>&#123;</span><br><span class="line">        computerPartVisitor.visit(<span class="keyword">this</span>);</span><br><span class="line">        _acceptAll(computerPartVisitor);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">var</span> _acceptAll = <span class="function"><span class="keyword">function</span>(<span class="params">computerPartVisitor</span>)</span>&#123;</span><br><span class="line">        parts.map(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">            item.accept(computerPartVisitor)</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> ComputerPartDisplayVisitor = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.visit = <span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(item.constructor == Keyboard)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"Displaying Keyboard."</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(item.constructor == Monitor)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"Displaying Monitor."</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(item.constructor == Mouse)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"Displaying Mouse."</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(item.constructor == Computer)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"Displaying Computer."</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"Error"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> computer = <span class="keyword">new</span> Computer();</span><br><span class="line">computer.accept(<span class="keyword">new</span> ComputerPartDisplayVisitor());</span><br><span class="line"><span class="comment">// Displaying Computer.</span></span><br><span class="line"><span class="comment">// Displaying Keyboard.</span></span><br><span class="line"><span class="comment">// Displaying Monitor.</span></span><br><span class="line"><span class="comment">// Displaying Mouse.</span></span><br></pre></td></tr></table></figure><p>ç®€æ´ç‰ˆï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®¿é—®è€…  </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Visitor</span>(<span class="params"></span>) </span>&#123;  </span><br><span class="line">  <span class="keyword">this</span>.visit = <span class="function"><span class="keyword">function</span>(<span class="params"> concreteElement </span>) </span>&#123;  </span><br><span class="line">    concreteElement.doSomething();  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">// å…ƒç´ ç±»  </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ConceteElement</span>(<span class="params"></span>) </span>&#123;  </span><br><span class="line">  <span class="keyword">this</span>.doSomething = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"è¿™æ˜¯ä¸€ä¸ªå…·ä½“å…ƒç´ "</span>);  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="keyword">this</span>.accept = <span class="function"><span class="keyword">function</span>(<span class="params"> visitor </span>) </span>&#123;  </span><br><span class="line">    visitor.visit(<span class="keyword">this</span>);  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">// Client  </span></span><br><span class="line"><span class="keyword">var</span> ele = <span class="keyword">new</span> ConceteElement();  </span><br><span class="line"><span class="keyword">var</span> v = <span class="keyword">new</span> Visitor();  </span><br><span class="line">ele.accept( v );</span><br></pre></td></tr></table></figure></p><p>è¿™ä¸ªæ¨¡å¼æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘ä»¬å…ˆä»‹ç»ä¸‹ç»„æˆï¼š<br>ComputerPartDisplayVisitorç§°ä¸ºè®¿é—®è€…ï¼Œå®ƒä¸ºå¯¹è±¡ç»“æ„ä¸­çš„æ¯ä¸€ä¸ªå…·ä½“å…ƒç´ ä¾‹å¦‚Keyboardï¼ŒMouseç­‰å£°æ˜ä¸€ä¸ªè®¿é—®æ“ä½œã€‚å½“è®¿é—®Keyboardæ—¶å°±ä¼šè¾“å‡ºDisplaying Keyboardã€‚<br>Keyboardï¼ŒMonitorï¼ŒMouseç§°ä¸ºå…ƒç´ ï¼Œä»–ä»¬åŒ…å«ä¸€ä¸ªacceptæ–¹æ³•ï¼Œç”¨æ¥è§¦å‘ä¼ é€’è¿›æ¥çš„è®¿é—®è€…<br>Computerç§°ä¸ºå¯¹è±¡ç»“æ„ï¼Œå®ƒæ˜¯ä¸€ä¸ªå…ƒç´ çš„é›†åˆã€‚partsæ•°ç»„ç”¨äºå­˜æ”¾å…ƒç´ å¯¹è±¡ï¼Œä»¥ä¾›ä¸åŒè®¿é—®è€…è®¿é—®ã€‚_acceptAllæ–¹æ³•ç”¨æ¥éå†å†…éƒ¨å…ƒç´ ã€‚<br>è®¿é—®è€…é€šè¿‡acceptè®¿é—®å…ƒç´ å†…éƒ¨ï¼Œå…ƒç´ å†…éƒ¨ä¹Ÿå¯ä»¥é€šè¿‡å‚æ•°è°ƒç”¨è®¿é—®è€…çš„visitæ–¹æ³•ã€‚è¿™ç§è°ƒç”¨æœºåˆ¶ç§°ä¸ºåŒé‡åˆ†æ´¾ã€‚</p><h2 id="è®¿é—®è€…æ¨¡å¼æ€»ç»“"><a href="#è®¿é—®è€…æ¨¡å¼æ€»ç»“" class="headerlink" title="è®¿é—®è€…æ¨¡å¼æ€»ç»“"></a>è®¿é—®è€…æ¨¡å¼æ€»ç»“</h2><p>ä¼˜ç‚¹ï¼š</p><ul><li>å¢åŠ æ–°çš„è®¿é—®æ“ä½œä¾¿æ·ï¼Œåªéœ€è¦åŠ ä¸€ä¸ªæ–°çš„è®¿é—®è€…ç±»ã€‚</li><li>å°†æœ‰å…³åŸè‰²å¯¹è±¡çš„è®¿é—®è¡Œä¸ºé›†åˆåˆ°ä¸€ä¸ªè®¿é—®è€…å¯¹è±¡ä¸­ï¼Œç±»çš„èŒè´£æ›´æ¸…æ™°ã€‚</li><li>è®©ç”¨æˆ·åœ¨ä¸ä¿®æ”¹ç°æœ‰å…ƒç´ å±‚æ¬¡ç»“æ„çš„æƒ…å†µä¸‹ï¼Œå®šä¹‰ä½œç”¨äºè¯¥å±‚æ¬¡ç»“æ„çš„æ“ä½œã€‚<br>ç¼ºç‚¹ï¼š</li><li>å¢åŠ æ–°çš„å…ƒç´ ç±»å¾ˆå›°éš¾ï¼Œåœ¨è®¿é—®è€…æ¨¡å¼ä¸‹ï¼Œæ¯å¢åŠ ä¸€ä¸ªæ–°çš„å…ƒç´ ,å¯¹åº”è¦å¢åŠ è®¿é—®è€…ä¸­çš„æ“ä½œã€‚</li><li>ç ´åå°è£…ã€‚è®¿é—®è€…æ¨¡å¼è¦æ±‚è®¿é—®è€…å¯¹è±¡è®¿é—®å¹¶è°ƒç”¨æ¯ä¸€ä¸ªå…ƒç´ å¯¹è±¡çš„æ“ä½œï¼Œè¿™æ„å‘³ç€å…ƒç´ å¿…é¡»æš´éœ²ä¸€äº›å†…éƒ¨æ“ä½œå’Œå†…éƒ¨çŠ¶æ€ã€‚</li></ul><p>é€‚ç”¨åœºæ™¯ï¼š</p><ul><li>ä¸€ä¸ªå¯¹è±¡ç»“æ„åŒ…å«å¤šä¸ªç±»å‹çš„å¯¹è±¡ï¼Œå¸Œæœ›å¯¹è¿™äº›å¯¹è±¡å®æ–½ä¸€äº›ä¾èµ–å…¶å…·ä½“ç±»å‹çš„æ“ä½œã€‚</li><li>éœ€è¦å¯¹ä¸€ä¸ªå¯¹è±¡ç»“æ„ä¸­çš„å¯¹è±¡è¿›è¡Œæ¨ªå¤šä¸åŒçš„å¹¶ä¸”ä¸ç›¸å…³çš„æ“ä½œï¼Œè€Œä¸”éœ€è¦é¿å…è®©è¿™äº›æ“ä½œæ±¡æŸ“è¿™äº›å¯¹è±¡çš„ç±»ã€‚</li><li>å¯¹è±¡ç»“æ„ä¸­å¯¹è±¡å¯¹åº”çš„ç±»å¾ˆå°‘æ”¹å˜ï¼Œä½†ç»å¸¸éœ€è¦å†æ¬¡å¯¹è±¡ç»“æ„ä¸Šå®šä¹‰æ–°çš„æ“ä½œã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;è®¿é—®è€…æ¨¡å¼å®šä¹‰&quot;&gt;&lt;a href=&quot;#è®¿é—®è€…æ¨¡å¼å®šä¹‰&quot; class=&quot;headerlink&quot; title=&quot;è®¿é—®è€…æ¨¡å¼å®šä¹‰&quot;&gt;&lt;/a&gt;è®¿é—®è€…æ¨¡å¼å®šä¹‰&lt;/h2&gt;&lt;p&gt;ä»‹ç»ï¼šè®¿é—®è€…æ¨¡å¼æ¯”è¾ƒå¤æ‚ï¼Œå®ƒåŒ…å«è®¿é—®è€…å’Œè¢«è®¿é—®å…ƒç´ ä¸¤ä¸ªä¸»è¦ç»„æˆéƒ¨åˆ†ï¼Œè¿™äº›è¢«è®¿é—®çš„å…ƒç´ é€šå¸¸å…·æœ‰ä¸åŒçš„ç±»å‹ï¼Œä¸”ä¸åŒçš„è®¿é—®è€…å¯ä»¥å¯¹ä»–ä»¬è¿›è¡Œä¸åŒçš„è®¿é—®æ“ä½œã€‚è®¿é—®è€…æ¨¡å¼çš„ä¸»è¦ç›®çš„æ˜¯å°†æ•°æ®ç»“æ„ä¸æ•°æ®æ“ä½œç›¸åˆ†ç¦»ã€‚&lt;/p&gt;
&lt;p&gt;å®šä¹‰ï¼šæä¾›ä¸€ä¸ªä½œç”¨äºæŸå¯¹è±¡ç»“æ„ä¸­çš„ä¸ªå…ƒç´ çš„æ“ä½œè¡¨ç¤ºï¼Œå®ƒä½¿å¾—å¯ä»¥å†ä¸æ”¹å˜å„å…ƒç´ çš„ç±»çš„å‰æä¸‹å®šä¹‰ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ–°æ“ä½œã€‚è®¿é—®è€…æ¨¡å¼æ˜¯ä¸€ç§å¯¹è±¡è¡Œä¸ºå‹æ¨¡å¼&lt;/p&gt;
&lt;h2 id=&quot;åœ¨è®¿é—®è€…æ¨¡å¼ä¸­ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªè§’è‰²&quot;&gt;&lt;a href=&quot;#åœ¨è®¿é—®è€…æ¨¡å¼ä¸­ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªè§’è‰²&quot; class=&quot;headerlink&quot; title=&quot;åœ¨è®¿é—®è€…æ¨¡å¼ä¸­ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªè§’è‰²&quot;&gt;&lt;/a&gt;åœ¨è®¿é—®è€…æ¨¡å¼ä¸­ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªè§’è‰²&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;æŠ½è±¡è®¿é—®è€…ï¼šæŠ½è±¡ç±»æˆ–è€…æ¥å£ï¼Œå£°æ˜è®¿é—®è€…å¯ä»¥è®¿é—®å“ªäº›å…ƒç´ ï¼Œå…·ä½“åˆ°ç¨‹åºä¸­å°±æ˜¯visitæ–¹æ³•ä¸­çš„å‚æ•°å®šä¹‰å“ªäº›å¯¹è±¡æ˜¯å¯ä»¥è¢«è®¿é—®çš„ã€‚&lt;/li&gt;
&lt;li&gt;è®¿é—®è€…ï¼šå®ç°æŠ½è±¡è®¿é—®è€…æ‰€å£°æ˜çš„æ–¹æ³•ï¼Œå®ƒå½±å“åˆ°è®¿é—®è€…è®¿é—®åˆ°ä¸€ä¸ªç±»åè¯¥å¹²ä»€ä¹ˆï¼Œè¦åšä»€ä¹ˆäº‹æƒ…ã€‚&lt;/li&gt;
&lt;li&gt;æŠ½è±¡å…ƒç´ ç±»ï¼šæ¥å£æˆ–è€…æŠ½è±¡ç±»ï¼Œå£°æ˜æ¥å—å“ªä¸€ç±»è®¿é—®è€…è®¿é—®ï¼Œç¨‹åºä¸Šæ˜¯é€šè¿‡acceptæ–¹æ³•ä¸­çš„å‚æ•°æ¥å®šä¹‰çš„ã€‚æŠ½è±¡å…ƒç´ ä¸€èˆ¬æœ‰ä¸¤ç±»æ–¹æ³•ï¼Œä¸€éƒ¨åˆ†æ˜¯æœ¬èº«çš„ä¸šåŠ¡é€»è¾‘ï¼Œå¦å¤–å°±æ˜¯å…è®¸æ¥æ”¶å“ªç±»è®¿é—®è€…æ¥è®¿é—®ã€‚&lt;/li&gt;
&lt;li&gt;å…ƒç´ ç±»ï¼šå®ç°æŠ½è±¡å…ƒç´ ç±»æ‰€å£°æ˜çš„acceptæ–¹æ³•ï¼Œé€šå¸¸éƒ½æ˜¯visitor.visit(this)ï¼ŒåŸºæœ¬ä¸Šå·²ç»å½¢æˆä¸€ç§å®šå¼äº†ã€‚&lt;/li&gt;
&lt;li&gt;ç»“æ„å¯¹è±¡ï¼šä¸€ä¸ªå…ƒç´ çš„å®¹å™¨ï¼Œä¸€èˆ¬åŒ…å«ä¸€ä¸ªå®¹çº³å¤šä¸ªä¸åŒç±»ã€ä¸åŒæ¥å£çš„å®¹å™¨ï¼Œå¦‚Listã€Setã€Mapç­‰ï¼Œåœ¨é¡¹ç›®ä¸­ä¸€èˆ¬å¾ˆå°‘æŠ½è±¡å‡ºè¿™ä¸ªè§’è‰²ã€‚
    
    </summary>
    
      <category term="JavaScript" scheme="https://chongdee.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://chongdee.github.io/tags/JavaScript/"/>
    
      <category term="JSè®¾è®¡æ¨¡å¼" scheme="https://chongdee.github.io/tags/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>jsè®¾è®¡æ¨¡å¼-å¤–è§‚æ¨¡å¼</title>
    <link href="https://chongdee.github.io/2018/10/31/JavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/js%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F/"/>
    <id>https://chongdee.github.io/2018/10/31/JavaScriptè®¾è®¡æ¨¡å¼/jsè®¾è®¡æ¨¡å¼-å¤–è§‚æ¨¡å¼/</id>
    <published>2018-10-31T13:43:45.000Z</published>
    <updated>2018-11-11T20:42:32.426Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h2 id="å¤–è§‚æ¨¡å¼åŸºç¡€"><a href="#å¤–è§‚æ¨¡å¼åŸºç¡€" class="headerlink" title="å¤–è§‚æ¨¡å¼åŸºç¡€"></a>å¤–è§‚æ¨¡å¼åŸºç¡€</h2><p>å®šä¹‰ï¼šå¤–è§‚æ¨¡å¼ï¼ˆFacadeï¼‰ä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›äº†ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼Œæ­¤æ¨¡å—å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä½¿å¾—è¿™ä¸€å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“ä½¿ç”¨ã€‚<br>å¤–è§‚æ¨¡å¼ä¸ä»…ç®€åŒ–ç±»ä¸­çš„æ¥å£ï¼Œè€Œä¸”å¯¹æ¥å£ä¸è°ƒç”¨è€…ä¹Ÿè¿›è¡Œäº†è§£è€¦ã€‚å¤–è§‚æ¨¡å¼ç»å¸¸è¢«è®¤ä¸ºå¼€å‘è€…å¿…å¤‡ï¼Œå®ƒå¯ä»¥å°†ä¸€äº›å¤æ‚æ“ä½œå°è£…èµ·æ¥ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªç®€å•çš„æ¥å£ç”¨äºè°ƒç”¨ã€‚</p><p>ä½¿ç”¨åœºæ™¯ï¼šå¤–è§‚æ¨¡å¼ç»å¸¸è¢«ç”¨äºJavaScriptç±»åº“é‡Œï¼Œé€šè¿‡å®ƒå°è£…ä¸€äº›æ¥å£ç”¨äºå…¼å®¹å¤šæµè§ˆå™¨ï¼Œå¤–è§‚æ¨¡å¼å¯ä»¥è®©æˆ‘ä»¬é—´æ¥è°ƒç”¨å­ç³»ç»Ÿï¼Œä»è€Œé¿å…å› ç›´æ¥è®¿é—®å­ç³»ç»Ÿè€Œäº§ç”Ÿä¸å¿…è¦çš„é”™è¯¯ã€‚</p><p>å¤–è§‚æ¨¡å¼çš„ä¼˜åŠ¿æ˜¯æ˜“äºä½¿ç”¨ï¼Œè€Œä¸”æœ¬èº«ä¹Ÿæ¯”è¾ƒè½»é‡çº§ã€‚ä½†ä¹Ÿæœ‰ç¼ºç‚¹å¤–è§‚æ¨¡å¼è¢«å¼€å‘è€…è¿ç»­ä½¿ç”¨æ—¶ä¼šäº§ç”Ÿä¸€å®šçš„æ€§èƒ½é—®é¢˜ï¼Œå› ä¸ºåœ¨æ¯æ¬¡è°ƒç”¨æ—¶éƒ½è¦æ£€æµ‹åŠŸèƒ½çš„å¯ç”¨æ€§ã€‚<br><a id="more"></a></p><h2 id="å…¼å®¹æµè§ˆå™¨äº‹ä»¶ç»‘å®š"><a href="#å…¼å®¹æµè§ˆå™¨äº‹ä»¶ç»‘å®š" class="headerlink" title="å…¼å®¹æµè§ˆå™¨äº‹ä»¶ç»‘å®š"></a>å…¼å®¹æµè§ˆå™¨äº‹ä»¶ç»‘å®š</h2><p>ä¸‹é¢æ˜¯ä¸€æ®µæœªä¼˜åŒ–è¿‡çš„ä»£ç ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å¤–è§‚æ¨¡å¼é€šè¿‡æ£€æµ‹æµè§ˆå™¨ç‰¹æ€§çš„æ–¹å¼æ¥åˆ›å»ºä¸€ä¸ªè·¨æµè§ˆå™¨çš„ä½¿ç”¨æ–¹æ³•ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> addEvent = <span class="function"><span class="keyword">function</span>(<span class="params">el, ev, fn</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (el.addEventListener) &#123;</span><br><span class="line">el.addEventListener(ev, fn, <span class="literal">false</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (el.attachEvent) &#123;</span><br><span class="line">el.attachEvent(<span class="string">`on<span class="subst">$&#123;ev&#125;</span>`</span>, fn);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">el.[<span class="string">`on<span class="subst">$&#123;ev&#125;</span>`</span>] = fn;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><blockquote><p>è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ¯è°ƒç”¨ä¸€æ¬¡ addEvent å‡½æ•°å°±æ˜¯æ‰§è¡Œä¸€æ¬¡ if-else åˆ¤æ–­ã€‚</p></blockquote><h2 id="å…¼å®¹æµè§ˆå™¨é˜»æ­¢å†’æ³¡ã€é»˜è®¤äº‹ä»¶"><a href="#å…¼å®¹æµè§ˆå™¨é˜»æ­¢å†’æ³¡ã€é»˜è®¤äº‹ä»¶" class="headerlink" title="å…¼å®¹æµè§ˆå™¨é˜»æ­¢å†’æ³¡ã€é»˜è®¤äº‹ä»¶"></a>å…¼å®¹æµè§ˆå™¨é˜»æ­¢å†’æ³¡ã€é»˜è®¤äº‹ä»¶</h2><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">N</span> = window.N || &#123;&#125;;</span><br><span class="line">N.<span class="attr">tools</span> = &#123;</span><br><span class="line">stopPropagation(e) &#123;</span><br><span class="line"><span class="keyword">if</span> (e.stopPropagation) &#123;</span><br><span class="line">e.stopPropagation();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">e.<span class="attr">cancelBubble</span> = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">preventDefault(e) &#123;</span><br><span class="line"><span class="keyword">if</span> (e.preventDefault) &#123;</span><br><span class="line">e.preventDefault();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">e.<span class="attr">returnValue</span> = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">stopEvent (e) &#123;</span><br><span class="line">this.stopPropagation(e);</span><br><span class="line">this.preventDefault(e);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å¤–è§‚æ¨¡å¼åŸºç¡€&quot;&gt;&lt;a href=&quot;#å¤–è§‚æ¨¡å¼åŸºç¡€&quot; class=&quot;headerlink&quot; title=&quot;å¤–è§‚æ¨¡å¼åŸºç¡€&quot;&gt;&lt;/a&gt;å¤–è§‚æ¨¡å¼åŸºç¡€&lt;/h2&gt;&lt;p&gt;å®šä¹‰ï¼šå¤–è§‚æ¨¡å¼ï¼ˆFacadeï¼‰ä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›äº†ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼Œæ­¤æ¨¡å—å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä½¿å¾—è¿™ä¸€å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“ä½¿ç”¨ã€‚&lt;br&gt;å¤–è§‚æ¨¡å¼ä¸ä»…ç®€åŒ–ç±»ä¸­çš„æ¥å£ï¼Œè€Œä¸”å¯¹æ¥å£ä¸è°ƒç”¨è€…ä¹Ÿè¿›è¡Œäº†è§£è€¦ã€‚å¤–è§‚æ¨¡å¼ç»å¸¸è¢«è®¤ä¸ºå¼€å‘è€…å¿…å¤‡ï¼Œå®ƒå¯ä»¥å°†ä¸€äº›å¤æ‚æ“ä½œå°è£…èµ·æ¥ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªç®€å•çš„æ¥å£ç”¨äºè°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨åœºæ™¯ï¼šå¤–è§‚æ¨¡å¼ç»å¸¸è¢«ç”¨äºJavaScriptç±»åº“é‡Œï¼Œé€šè¿‡å®ƒå°è£…ä¸€äº›æ¥å£ç”¨äºå…¼å®¹å¤šæµè§ˆå™¨ï¼Œå¤–è§‚æ¨¡å¼å¯ä»¥è®©æˆ‘ä»¬é—´æ¥è°ƒç”¨å­ç³»ç»Ÿï¼Œä»è€Œé¿å…å› ç›´æ¥è®¿é—®å­ç³»ç»Ÿè€Œäº§ç”Ÿä¸å¿…è¦çš„é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;å¤–è§‚æ¨¡å¼çš„ä¼˜åŠ¿æ˜¯æ˜“äºä½¿ç”¨ï¼Œè€Œä¸”æœ¬èº«ä¹Ÿæ¯”è¾ƒè½»é‡çº§ã€‚ä½†ä¹Ÿæœ‰ç¼ºç‚¹å¤–è§‚æ¨¡å¼è¢«å¼€å‘è€…è¿ç»­ä½¿ç”¨æ—¶ä¼šäº§ç”Ÿä¸€å®šçš„æ€§èƒ½é—®é¢˜ï¼Œå› ä¸ºåœ¨æ¯æ¬¡è°ƒç”¨æ—¶éƒ½è¦æ£€æµ‹åŠŸèƒ½çš„å¯ç”¨æ€§ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="JavaScript" scheme="https://chongdee.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://chongdee.github.io/tags/JavaScript/"/>
    
      <category term="JSè®¾è®¡æ¨¡å¼" scheme="https://chongdee.github.io/tags/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>jsè®¾è®¡æ¨¡å¼-æ¡¥æ¥æ¨¡å¼</title>
    <link href="https://chongdee.github.io/2018/10/31/JavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/js%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/"/>
    <id>https://chongdee.github.io/2018/10/31/JavaScriptè®¾è®¡æ¨¡å¼/jsè®¾è®¡æ¨¡å¼-æ¡¥æ¥æ¨¡å¼/</id>
    <published>2018-10-31T13:43:28.000Z</published>
    <updated>2018-11-11T20:44:05.285Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>æ¡¥æ¥æ¨¡å¼å®šä¹‰<br>å®šä¹‰ï¼šæ¡¥æ¥æ¨¡å¼ï¼ˆBridgeï¼‰å°†æŠ½è±¡éƒ¨åˆ†ä¸å®ƒçš„å®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚<br>æ¡¥æ¥è®¾è®¡æ¨¡å¼æ˜¯è®¸å¤šå…¶ä»–è®¾è®¡æ¨¡å¼çš„åŸºç¡€,æ¯”å¦‚è£…é¥°æ¨¡å¼, ä»£ç†æ¨¡å¼éƒ½æˆ–å¤šæˆ–å°‘çœ‹åˆ°ä»–çš„å½±å­, åœ¨é¢å‘å¯¹è±¡è®¾è®¡ä¸­æœ€é‡è¦çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ç»§æ‰¿, ç„¶è€Œä½œä¸ºæ‹“å±•ç±»çš„åŠŸèƒ½çš„æ–¹å¼æœ‰ä¸¤ç§ â€“ ç»§æ‰¿å’Œæ¡¥æ¥, æ¡¥æ¥ç”¨æˆ‘ç®€å•çš„ç†è§£å°±æ˜¯æ”¾å¼ƒä½¿ç”¨ç»§æ‰¿çš„æ–¹å¼æ‹“å±•ç±», è€Œæ˜¯é‡‡ç”¨åŒ…å«å¦ä¸€ä¸ªå…·æœ‰ä¸€å®šåŠŸèƒ½çš„å¯¹è±¡æ¥æ‹“å±•ç±»ã€‚</p><p>ä½¿ç”¨åœºæ™¯ï¼šäº‹ä»¶å›è°ƒå‡½æ•°ã€è¯·æ±‚æ¥å£ä¹‹é—´è¿›è¡Œæ¡¥æ¥ã€ç”¨äºè¿æ¥å…¬å¼€çš„APIä»£ç å’Œç§ç”¨å®ç°çš„ä»£ç <br>æ ¹æ®javascriptè¯­è¨€çš„ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å°†å…¶ç®€åŒ–æˆ2ä¸ªè§’è‰²ï¼š<br>ï¼ˆ1ï¼‰æ‰©å……æŠ½è±¡ç±»<br>ï¼ˆ2ï¼‰å…·ä½“å®ç°ç±»<br><a id="more"></a></p><h2 id="æœ€ç®€å•çš„æ¡¥æ¥æ¨¡å¼"><a href="#æœ€ç®€å•çš„æ¡¥æ¥æ¨¡å¼" class="headerlink" title="æœ€ç®€å•çš„æ¡¥æ¥æ¨¡å¼"></a>æœ€ç®€å•çš„æ¡¥æ¥æ¨¡å¼</h2><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">each</span> = <span class="function"><span class="keyword">function</span> <span class="params">(arr, fn)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line"><span class="keyword">var</span> val = arr[i];</span><br><span class="line"><span class="keyword">if</span> (fn.call(val, i, val, arr)) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">each</span>(arr, <span class="function"><span class="keyword">function</span> <span class="params">(i, v)</span> </span>&#123;</span><br><span class="line">arr[i] = v * <span class="number">2</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒæŠ½è±¡éƒ¨åˆ†æ˜¯eachå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢è¯´çš„æ‰©å……æŠ½è±¡ç±»ï¼Œå®ç°éƒ¨åˆ†æ˜¯fnï¼Œå³å…·ä½“å®ç°ç±»ã€‚æŠ½è±¡éƒ¨åˆ†å’Œå®ç°éƒ¨åˆ†å¯ä»¥ç‹¬ç«‹çš„è¿›è¡Œå˜åŒ–ã€‚è¿™ä¸ªä¾‹å­è™½ç„¶ç®€å•ï¼Œä½†å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„æ¡¥æ¥æ¨¡å¼çš„åº”ç”¨ã€‚</p></blockquote><h2 id="äº‹ä»¶ç›‘æ§"><a href="#äº‹ä»¶ç›‘æ§" class="headerlink" title="äº‹ä»¶ç›‘æ§"></a>äº‹ä»¶ç›‘æ§</h2><p>æŠ½è±¡ç±» click äº‹ä»¶<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">addEvent(element, <span class="string">'click'</span>, getBeerByIdBridge);</span><br><span class="line"><span class="comment">// æä¾›ä¸€ä¸ªæ¡¥æ¢ å°† æŠ½è±¡ç±»å’Œå®ç°ç±»é“¾æ¥èµ·æ¥</span></span><br><span class="line"><span class="comment">// ä½œä¸ºæ¡¥æ¢</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getBeerByIdBridge</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">ã€€ã€€getBeerById(<span class="keyword">this</span>.id, <span class="function"><span class="keyword">function</span>(<span class="params">beer</span>) </span>&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€<span class="built_in">console</span>.log(<span class="string">'Requested Beer: '</span>+beer);</span><br><span class="line">ã€€ã€€&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å®ç°ç±»<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getBeerById</span><span class="params">(id, callback)</span> </span>&#123;</span><br><span class="line"><span class="comment">// é€šè¿‡IDå‘é€è¯·æ±‚ï¼Œç„¶åè¿”å›æ•°æ®</span></span><br><span class="line">asyncRequest(<span class="string">'GET'</span>, <span class="string">'beer.uri?id='</span> + id, <span class="function"><span class="keyword">function</span><span class="params">(resp)</span> </span>&#123;</span><br><span class="line"><span class="comment">// callback response</span></span><br><span class="line">callback(resp.responseText);</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>è¿™é‡Œçš„getBeerByIdBridgeå°±æ˜¯æˆ‘ä»¬å®šä¹‰çš„æ¡¥ï¼Œç”¨äºå°†æŠ½è±¡çš„clickäº‹ä»¶å’ŒgetBeerByIdè¿æ¥èµ·æ¥ï¼ŒåŒæ—¶å°†äº‹ä»¶æºçš„IDï¼Œä»¥åŠè‡ªå®šä¹‰çš„callå‡½æ•°ï¼ˆconsole.logè¾“å‡ºï¼‰ä½œä¸ºå‚æ•°ä¼ å…¥åˆ°getBeerByIdå‡½æ•°é‡Œã€‚</p></blockquote><h2 id="ç”¨äºè¿æ¥å…¬å¼€çš„APIä»£ç å’Œç§ç”¨å®ç°çš„ä»£ç "><a href="#ç”¨äºè¿æ¥å…¬å¼€çš„APIä»£ç å’Œç§ç”¨å®ç°çš„ä»£ç " class="headerlink" title="ç”¨äºè¿æ¥å…¬å¼€çš„APIä»£ç å’Œç§ç”¨å®ç°çš„ä»£ç "></a>ç”¨äºè¿æ¥å…¬å¼€çš„APIä»£ç å’Œç§ç”¨å®ç°çš„ä»£ç </h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">Public</span>=<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">// å®šä¹‰çš„ç§æœ‰å˜é‡</span></span><br><span class="line"><span class="keyword">var</span> secret = <span class="number">3</span>;</span><br><span class="line"><span class="comment">// è¯¥å‡½æ•°è¿”å›äº†ç§æœ‰å˜é‡ï¼Œå¤–ç•Œå¯ä»¥é€šè¿‡è¯¥æ–¹æ³•è®¿é—®è¯¥ç§æœ‰å˜é‡</span></span><br><span class="line">this.privilegedGetter = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line"> <span class="keyword">return</span> secret;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> o = <span class="keyword">new</span> <span class="keyword">Public</span>();</span><br><span class="line"><span class="keyword">var</span> data =o.privilegedGetter();</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœä¸€ä¸ªå…¬ç”¨çš„æ¥å£æŠ½è±¡äº†ä¸€äº›ä¹Ÿè®¸åº”è¯¥å±äºç§ç”¨æ€§çš„è¾ƒå¤æ‚çš„ä»»åŠ¡ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨æ¡¥æ¥æ¨¡å¼æ¥æ”¶é›†æŸäº›ç§ç”¨æ€§çš„ä¿¡æ¯ã€‚å¯ä»¥ç”¨ä¸€äº›å…·æœ‰ç‰¹æ®Šæƒåˆ©çš„æ–¹æ³•ä½œä¸ºæ¡¥æ¢ä»¥ä¾¿è®¿é—®ç§ç”¨å˜é‡ç©ºé—´ã€‚è¿™ä¸€ç‰¹ä¾‹ä¸­çš„æ¡¥æ¥æ€§å‡½æ•°åˆç§°ç‰¹æƒå‡½æ•°ã€‚</p></blockquote><h2 id="ç”¨æ¡¥æ¥æ¨¡å¼è”ç»“å¤šä¸ªç±»"><a href="#ç”¨æ¡¥æ¥æ¨¡å¼è”ç»“å¤šä¸ªç±»" class="headerlink" title="ç”¨æ¡¥æ¥æ¨¡å¼è”ç»“å¤šä¸ªç±»"></a>ç”¨æ¡¥æ¥æ¨¡å¼è”ç»“å¤šä¸ªç±»</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//ä¾‹1</span></span><br><span class="line"><span class="keyword">var</span> Class1 =<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.a =a;</span><br><span class="line"><span class="keyword">this</span>.b = b;</span><br><span class="line"><span class="keyword">this</span>.c = c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> Class2 =<span class="function"><span class="keyword">function</span>(<span class="params">d</span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.d = d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> BridgeClass =<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c,d</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.one = <span class="keyword">new</span> Class1(a,b,c);</span><br><span class="line">   <span class="keyword">this</span>.two = <span class="keyword">new</span> Class2(d);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">------------------------------------------------------------------------</span><br><span class="line"><span class="comment">//ä¾‹2</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Speed</span> </span>&#123;            <span class="comment">// è¿åŠ¨æ¨¡å—</span></span><br><span class="line">  <span class="keyword">constructor</span>(x, y) &#123;</span><br><span class="line">    <span class="keyword">this</span>.x = x</span><br><span class="line">    <span class="keyword">this</span>.y = y</span><br><span class="line">  &#125;</span><br><span class="line">  run() &#123;  <span class="built_in">console</span>.log(<span class="string">`è¿åŠ¨èµ·æ¥ <span class="subst">$&#123;<span class="keyword">this</span>.x&#125;</span> + <span class="subst">$&#123;<span class="keyword">this</span>.y&#125;</span>`</span>)  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Color</span> </span>&#123;            <span class="comment">// ç€è‰²æ¨¡å—</span></span><br><span class="line">  <span class="keyword">constructor</span>(cl) &#123;</span><br><span class="line">    <span class="keyword">this</span>.color = cl</span><br><span class="line">  &#125;</span><br><span class="line">  draw() &#123;  <span class="built_in">console</span>.log(<span class="string">`ç»˜åˆ¶é¢œè‰² <span class="subst">$&#123;<span class="keyword">this</span>.color&#125;</span>`</span>)  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Speak</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(wd) &#123;</span><br><span class="line">    <span class="keyword">this</span>.word = wd</span><br><span class="line">  &#125;</span><br><span class="line">  say() &#123;  <span class="built_in">console</span>.log(<span class="string">`è¯´è¯ <span class="subst">$&#123;<span class="keyword">this</span>.word&#125;</span>`</span>)  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ball</span> </span>&#123;                     <span class="comment">// åˆ›å»ºçƒç±»ï¼Œå¯ä»¥ç€è‰²å’Œè¿åŠ¨</span></span><br><span class="line">  <span class="keyword">constructor</span>(x, y, cl) &#123;</span><br><span class="line">    <span class="keyword">this</span>.speed = <span class="keyword">new</span> Speed(x, y)</span><br><span class="line">    <span class="keyword">this</span>.color = <span class="keyword">new</span> Color(cl)</span><br><span class="line">  &#125;</span><br><span class="line">  init() &#123;</span><br><span class="line">    <span class="keyword">this</span>.speed.run()</span><br><span class="line">    <span class="keyword">this</span>.color.draw()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Man</span> </span>&#123;                    <span class="comment">// äººç±»ï¼Œå¯ä»¥è¿åŠ¨å’Œè¯´è¯</span></span><br><span class="line">  <span class="keyword">constructor</span>(x, y, wd) &#123;</span><br><span class="line">    <span class="keyword">this</span>.speed = <span class="keyword">new</span> Speed(x, y)</span><br><span class="line">    <span class="keyword">this</span>.speak = <span class="keyword">new</span> Speak(wd)</span><br><span class="line">  &#125;</span><br><span class="line">  init() &#123;</span><br><span class="line">    <span class="keyword">this</span>.speed.run()</span><br><span class="line">    <span class="keyword">this</span>.speak.say()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> man = <span class="keyword">new</span> Man(<span class="number">1</span>, <span class="number">2</span>, <span class="string">'hehe?'</span>)</span><br><span class="line">man.init()                                <span class="comment">// è¿åŠ¨èµ·æ¥ 1 + 2      è¯´è¯ hehe?</span></span><br></pre></td></tr></table></figure><blockquote><p>è¿™çœ‹èµ·æ¥å¾ˆåƒæ˜¯â€”-é€‚é…å™¨ï¼Œçš„ç¡®å¦‚æ­¤ã€‚ä½†è¦æ³¨æ„åˆ°æœ¬ä¾‹ä¸­å®é™…ä¸Šå¹¶æ²¡æœ‰å®¢æˆ·ç³»ç»Ÿè¦æ±‚æä¾›æ•°æ®ã€‚å®ƒåªä¸è¿‡æ˜¯ç”¨æ¥æ¥çº³å¤§é‡æ•°æ®å¹¶å°†å…¶å‘é€ç»™è´£ä»»æ–¹çš„ä¸€ç§è¾…åŠ©æ€§æ‰‹æ®µã€‚æ­¤å¤–ï¼ŒBridgeClassä¹Ÿä¸æ˜¯ä¸€ä¸ªå®¢æˆ·ç³»ç»Ÿå·²ç»å®ç°çš„ç°æœ‰æ¥å£ã€‚å¼•å…¥è¿™ä¸ªç±»çš„ç›®çš„åªä¸è¿‡æ˜¯è¦æ¡¥æ¥ä¸€äº›ç±»è€Œå·²ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ¡¥æ¥æ¨¡å¼å®šä¹‰&lt;br&gt;å®šä¹‰ï¼šæ¡¥æ¥æ¨¡å¼ï¼ˆBridgeï¼‰å°†æŠ½è±¡éƒ¨åˆ†ä¸å®ƒçš„å®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚&lt;br&gt;æ¡¥æ¥è®¾è®¡æ¨¡å¼æ˜¯è®¸å¤šå…¶ä»–è®¾è®¡æ¨¡å¼çš„åŸºç¡€,æ¯”å¦‚è£…é¥°æ¨¡å¼, ä»£ç†æ¨¡å¼éƒ½æˆ–å¤šæˆ–å°‘çœ‹åˆ°ä»–çš„å½±å­, åœ¨é¢å‘å¯¹è±¡è®¾è®¡ä¸­æœ€é‡è¦çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ç»§æ‰¿, ç„¶è€Œä½œä¸ºæ‹“å±•ç±»çš„åŠŸèƒ½çš„æ–¹å¼æœ‰ä¸¤ç§ â€“ ç»§æ‰¿å’Œæ¡¥æ¥, æ¡¥æ¥ç”¨æˆ‘ç®€å•çš„ç†è§£å°±æ˜¯æ”¾å¼ƒä½¿ç”¨ç»§æ‰¿çš„æ–¹å¼æ‹“å±•ç±», è€Œæ˜¯é‡‡ç”¨åŒ…å«å¦ä¸€ä¸ªå…·æœ‰ä¸€å®šåŠŸèƒ½çš„å¯¹è±¡æ¥æ‹“å±•ç±»ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨åœºæ™¯ï¼šäº‹ä»¶å›è°ƒå‡½æ•°ã€è¯·æ±‚æ¥å£ä¹‹é—´è¿›è¡Œæ¡¥æ¥ã€ç”¨äºè¿æ¥å…¬å¼€çš„APIä»£ç å’Œç§ç”¨å®ç°çš„ä»£ç &lt;br&gt;æ ¹æ®javascriptè¯­è¨€çš„ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å°†å…¶ç®€åŒ–æˆ2ä¸ªè§’è‰²ï¼š&lt;br&gt;ï¼ˆ1ï¼‰æ‰©å……æŠ½è±¡ç±»&lt;br&gt;ï¼ˆ2ï¼‰å…·ä½“å®ç°ç±»&lt;br&gt;
    
    </summary>
    
      <category term="JavaScript" scheme="https://chongdee.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://chongdee.github.io/tags/JavaScript/"/>
    
      <category term="JSè®¾è®¡æ¨¡å¼" scheme="https://chongdee.github.io/tags/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>jsè®¾è®¡æ¨¡å¼-è¿­ä»£å™¨æ¨¡å¼</title>
    <link href="https://chongdee.github.io/2018/10/31/JavaScript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/js%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/"/>
    <id>https://chongdee.github.io/2018/10/31/JavaScriptè®¾è®¡æ¨¡å¼/jsè®¾è®¡æ¨¡å¼-è¿­ä»£å™¨æ¨¡å¼/</id>
    <published>2018-10-31T13:42:36.000Z</published>
    <updated>2018-11-11T20:42:55.294Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h2 id="è¿­ä»£å™¨æ¨¡å¼ä»‹ç»"><a href="#è¿­ä»£å™¨æ¨¡å¼ä»‹ç»" class="headerlink" title="è¿­ä»£å™¨æ¨¡å¼ä»‹ç»"></a>è¿­ä»£å™¨æ¨¡å¼ä»‹ç»</h2><p>å®šä¹‰ï¼šè¿­ä»£å™¨æ¨¡å¼æ˜¯æŒ‡æä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œè€Œåˆä¸éœ€è¦æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚<br>ä½¿ç”¨çš„å¥½å¤„ï¼šè¿­ä»£å™¨æ¨¡å¼å¯ä»¥æŠŠè¿­ä»£çš„è¿‡ç¨‹ä»ä¸šåŠ¡é€»è¾‘ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œåœ¨ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼ä¹‹åï¼Œå³ä½¿ä¸å…³å¿ƒå¯¹è±¡çš„å†…éƒ¨æ„é€ ï¼Œä¹Ÿå¯ä»¥æŒ‰é¡ºåºè®¿é—®å…¶ä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚<br><a id="more"></a><br>å…ˆçœ‹ä¸€ä¸ª ä»¿jquery è¿­ä»£å™¨<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $ = &#123;</span><br><span class="line">    each: <span class="function"><span class="keyword">function</span> (<span class="params">arr, fn</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = arr.length; i &lt; len; i++) &#123;</span><br><span class="line">            fn.call(arr[i], i, arr[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">$.each([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], <span class="function"><span class="keyword">function</span>(<span class="params">i, val</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log([i, val]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><h2 id="è¿­ä»£å™¨çš„åˆ†ç±»"><a href="#è¿­ä»£å™¨çš„åˆ†ç±»" class="headerlink" title="è¿­ä»£å™¨çš„åˆ†ç±»"></a>è¿­ä»£å™¨çš„åˆ†ç±»</h2><p>è¿­ä»£å™¨æ ¹æ®å®ç°çš„ä½ç½®ï¼Œæˆ‘ä»¬å°†å®ƒåˆ†ä¸ºå†…éƒ¨è¿­ä»£å™¨å’Œå¤–éƒ¨è¿­ä»£å™¨ä¸¤ç§ã€‚</p><h3 id="å†…éƒ¨è¿­ä»£å™¨"><a href="#å†…éƒ¨è¿­ä»£å™¨" class="headerlink" title="å†…éƒ¨è¿­ä»£å™¨"></a>å†…éƒ¨è¿­ä»£å™¨</h3><p>å†…éƒ¨è¿­ä»£å™¨å¯¹äºä½¿ç”¨è€…æ¥è¯´ä»–ä¸ç”¨å…³å¿ƒè¿­ä»£å™¨çš„å†…éƒ¨å®ç°ï¼Œåªç”¨å…³æ³¨ä½¿ç”¨çš„æ•ˆæœï¼Œæˆ‘ä»¬ä¸Šé¢ä»¿jQueryçš„eachå°±æ˜¯ä¸ªå†…éƒ¨è¿­ä»£å™¨çš„å®ç°ã€‚</p><p>å†…éƒ¨è¿­ä»£å™¨æœ‰å®ƒçš„å¥½å¤„ä½†æ˜¯ä¹Ÿæœ‰å®ƒçš„ä¸è¶³ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ç­‰ï¼Œä¸Šé¢çš„æ–¹æ³•å°±ä¸æ»¡è¶³æˆ‘ä»¬çš„éœ€è¦ï¼Œæˆ‘ä»¬å°±éœ€è¦å†™ä¸€ä¸ªæ–°çš„æ–¹æ³•æ¥å®ç°ã€‚<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $ = &#123;</span><br><span class="line">    <span class="keyword">each</span>: <span class="function"><span class="keyword">function</span> <span class="params">(arr, fn)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = arr.length; i &lt; len; i++) &#123;</span><br><span class="line">            fn.call(arr[i], i, arr[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> compareArray = <span class="function"><span class="keyword">function</span><span class="params">(arr, arr2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( arr.length !== arr2.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    $.each(arr, <span class="function"><span class="keyword">function</span><span class="params">(i, val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>( val !== arr2[i]) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">compareArray([<span class="number">1</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// false</span></span><br></pre></td></tr></table></figure></p><h3 id="å¤–éƒ¨è¿­ä»£å™¨"><a href="#å¤–éƒ¨è¿­ä»£å™¨" class="headerlink" title="å¤–éƒ¨è¿­ä»£å™¨"></a>å¤–éƒ¨è¿­ä»£å™¨</h3><p>å¤–éƒ¨è¿­ä»£å™¨å¿…é¡»æ˜¾å¼åœ°è¯·æ±‚æ‰ä¼šè¿­ä»£ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚</p><p>å¤–éƒ¨è¿­ä»£å™¨è™½ç„¶å¢åŠ äº†ä½¿ç”¨ä¸Šçš„ä¸€äº›éº»çƒ¦ï¼Œä½†æ˜¯å®ƒçš„çµæ´»æ€§å´æ­£æ˜¯æˆ‘ä»¬éœ€è¦çš„ã€‚æˆ‘ä»¬å¯ä»¥äººä¸ºçš„æ§åˆ¶è¿­ä»£çš„è¿‡ç¨‹å’Œé¡ºåºã€‚<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿­ä»£å™¨å®ç°</span></span><br><span class="line"><span class="keyword">var</span> Iterator = <span class="function"><span class="keyword">function</span><span class="params">(obj)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> current = <span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">var</span> next = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        current += <span class="number">1</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">var</span> isDone = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> current &gt;= obj.length;</span><br><span class="line">    &#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">var</span> getCurrItem = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj[current];</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> len = <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj.length;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        next: next,</span><br><span class="line">        isDone: isDone,</span><br><span class="line">        getCurrItem: getCurrItem,</span><br><span class="line">        length: len,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// æ¯”è¾ƒæ•°ç»„</span></span><br><span class="line"><span class="keyword">var</span> compareArray = <span class="function"><span class="keyword">function</span> <span class="params">(iteratorObj, iteratorObj2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(iteratorObj.length !== iteratorObj2.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!iteratorObj.isDone() &amp;&amp; !iteratorObj2.isDone())&#123;</span><br><span class="line">        <span class="keyword">if</span> (iteratorObj.getCurrItem() !== iteratorObj2.getCurrItem())&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        iteratorObj.next();</span><br><span class="line">        iteratorObj2.next();</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = Iterator([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); </span><br><span class="line"><span class="keyword">var</span> arr2 = Iterator([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); </span><br><span class="line"> </span><br><span class="line">compareArray(arr, arr2); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p><h2 id="è¿­ä»£å™¨å¯ä»¥ä¸­æ­¢"><a href="#è¿­ä»£å™¨å¯ä»¥ä¸­æ­¢" class="headerlink" title="è¿­ä»£å™¨å¯ä»¥ä¸­æ­¢"></a>è¿­ä»£å™¨å¯ä»¥ä¸­æ­¢</h2><p>åœ¨forå¾ªç¯ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡breakæ¥è·³å‡ºå¾ªç¯ï¼Œæ‰€ä»¥åœ¨è¿­ä»£å™¨æ¨¡å¼ä¸­ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ¥æå‰ç»ˆæ­¢è¿­ä»£ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ”¹åœ¨ä¸€ä¸‹æœ€å¼€å§‹çš„eachå‡½æ•°</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">each</span> = <span class="function"><span class="keyword">function</span><span class="params">(arr, callback)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = arr.length; i &lt; len; i++) &#123;</span><br><span class="line">        result = callback.call(arr[i], i, arr[i])</span><br><span class="line">        <span class="keyword">if</span> (result === <span class="literal">false</span>) &#123;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">each</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>], <span class="function"><span class="keyword">function</span><span class="params">(i, el)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (el &gt; <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    console.log(el)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;è¿­ä»£å™¨æ¨¡å¼ä»‹ç»&quot;&gt;&lt;a href=&quot;#è¿­ä»£å™¨æ¨¡å¼ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;è¿­ä»£å™¨æ¨¡å¼ä»‹ç»&quot;&gt;&lt;/a&gt;è¿­ä»£å™¨æ¨¡å¼ä»‹ç»&lt;/h2&gt;&lt;p&gt;å®šä¹‰ï¼šè¿­ä»£å™¨æ¨¡å¼æ˜¯æŒ‡æä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œè€Œåˆä¸éœ€è¦æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚&lt;br&gt;ä½¿ç”¨çš„å¥½å¤„ï¼šè¿­ä»£å™¨æ¨¡å¼å¯ä»¥æŠŠè¿­ä»£çš„è¿‡ç¨‹ä»ä¸šåŠ¡é€»è¾‘ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œåœ¨ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼ä¹‹åï¼Œå³ä½¿ä¸å…³å¿ƒå¯¹è±¡çš„å†…éƒ¨æ„é€ ï¼Œä¹Ÿå¯ä»¥æŒ‰é¡ºåºè®¿é—®å…¶ä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="JavaScript" scheme="https://chongdee.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://chongdee.github.io/tags/JavaScript/"/>
    
      <category term="JSè®¾è®¡æ¨¡å¼" scheme="https://chongdee.github.io/tags/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
</feed>
